!function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){return r(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||u(t,e)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t){if(Array.isArray(t))return t}function i(t,e,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function o(t){return function(t){if(Array.isArray(t))return c(t)}(t)||a(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}function p(t){var e=_();return function(){var n,r=w(t);if(e){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){var e="function"==typeof Map?new Map:void 0;return(m=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return g(t,arguments,w(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),b(r,t)})(t)}function g(t,e,n){return(g=_()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&b(i,n.prototype),i}).apply(null,arguments)}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(self.webpackChunkmaya=self.webpackChunkmaya||[]).push([[179],{8255:function(t){function e(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=function(){return[]},e.resolve=e,e.id=8255,t.exports=e},7716:function(t,e,n){"use strict";n.d(e,{AFp:function(){return Au},ip1:function(){return xu},CZH:function(){return Iu},hGG:function(){return wc},z2F:function(){return yc},sBO:function(){return Ds},_Vd:function(){return ts},EJc:function(){return Mu},SBq:function(){return is},qLn:function(){return Sr},vpe:function(){return su},gxx:function(){return ho},XFs:function(){return j},OlP:function(){return ln},zs3:function(){return To},ZZ4:function(){return Cs},aQg:function(){return Es},soG:function(){return Lu},h0i:function(){return Vs},PXZ:function(){return hc},R0b:function(){return Ku},FiY:function(){return On},Lbi:function(){return Pu},g9A:function(){return Ou},n_E:function(){return cu},Qsj:function(){return ss},FYo:function(){return as},JOm:function(){return Ir},Tiy:function(){return cs},q3G:function(){return gr},tp0:function(){return Pn},Rgc:function(){return Fs},dDg:function(){return ec},DyG:function(){return hn},q4F:function(){return hs},GfV:function(){return ls},s_b:function(){return qs},ifc:function(){return Y},eFA:function(){return fc},G48:function(){return cc},Gpc:function(){return S},f3M:function(){return xn},X6Q:function(){return uc},_c5:function(){return _c},VLi:function(){return rc},c2e:function(){return Fu},zSh:function(){return po},wAp:function(){return Ua},vHH:function(){return x},EiD:function(){return yr},mCW:function(){return $n},qzn:function(){return Un},JVY:function(){return zn},pB0:function(){return Kn},eBb:function(){return Yn},L6k:function(){return Hn},LAX:function(){return Wn},cg1:function(){return Ba},Tjo:function(){return gc},kL8:function(){return qa},yhl:function(){return Gn},dqk:function(){return J},sIi:function(){return Lo},CqO:function(){return na},QGY:function(){return ta},F4k:function(){return ea},RDi:function(){return Pt},AaK:function(){return b},z3N:function(){return jn},qOj:function(){return Io},TTD:function(){return It},_Bn:function(){return Ja},xp6:function(){return pi},uIk:function(){return qo},Gre:function(){return Pa},ekj:function(){return _a},Suo:function(){return wu},Xpm:function(){return ut},lG2:function(){return vt},Yz7:function(){return R},cJS:function(){return O},oAB:function(){return ft},Yjl:function(){return yt},Y36:function(){return zo},_UZ:function(){return Zo},GkF:function(){return Xo},BQk:function(){return Jo},ynx:function(){return Qo},qZA:function(){return Ko},TgZ:function(){return Wo},EpF:function(){return $o},n5z:function(){return an},Ikx:function(){return Na},LFG:function(){return Tn},$8M:function(){return un},NdJ:function(){return ra},CRH:function(){return ku},kcU:function(){return Se},O4$:function(){return Ce},oxw:function(){return ua},ALo:function(){return iu},lcZ:function(){return ou},Hsn:function(){return ha},F$t:function(){return la},Q6J:function(){return Ho},VKq:function(){return tu},WLB:function(){return eu},iGM:function(){return _u},MAs:function(){return Go},pYS:function(){return Tr},CHM:function(){return Jt},kYT:function(){return dt},Udp:function(){return ga},WFA:function(){return ia},d8E:function(){return Fa},YNc:function(){return Uo},W1O:function(){return Tu},_uU:function(){return Da},Oqu:function(){return Ra},hij:function(){return Oa},Gf:function(){return bu}});var r=n(6889),a=n(8839),u=n(1776),c=n(3763),l=n(8047);function v(t){for(var e in t)if(t[e]===v)return e;throw Error("Could not find renamed property on target object.")}function _(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function b(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(b).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function k(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var C=v({__forward_ref__:v});function S(t){return t.__forward_ref__=S,t.toString=function(){return b(this())},t}function E(t){return T(t)?t():t}function T(t){return"function"==typeof t&&t.hasOwnProperty(C)&&t.__forward_ref__===S}var x=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,r))).code=t,i}return n}(m(Error));function I(t){return"string"==typeof t?t:null==t?"":String(t)}function A(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():I(t)}function D(t,e){var n=e?" in ".concat(e):"";throw new x("201","No provider for ".concat(A(t)," found").concat(n))}function R(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function O(t){return{providers:t.providers||[],imports:t.imports||[]}}function P(t){return N(t,M)||N(t,B)}function N(t,e){return t.hasOwnProperty(e)?t[e]:null}function F(t){return t&&(t.hasOwnProperty(V)||t.hasOwnProperty(q))?t[V]:null}var L,M=v({"\u0275prov":v}),V=v({"\u0275inj":v}),B=v({ngInjectableDef:v}),q=v({ngInjectorDef:v}),j=((j=j||{})[j.Default=0]="Default",j[j.Host=1]="Host",j[j.Self=2]="Self",j[j.SkipSelf=4]="SkipSelf",j[j.Optional=8]="Optional",j);function U(t){var e=L;return L=t,e}function G(t,e,n){var r=P(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&j.Optional?null:void 0!==e?e:void D(b(t),"Injector")}function z(t){return{toString:t}.toString()}var H=((H=H||{})[H.OnPush=0]="OnPush",H[H.Default=1]="Default",H),Y=((Y=Y||{})[Y.Emulated=0]="Emulated",Y[Y.None=2]="None",Y[Y.ShadowDom=3]="ShadowDom",Y),W="undefined"!=typeof globalThis&&globalThis,K="undefined"!=typeof window&&window,Z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Q="undefined"!=typeof global&&global,J=W||Q||K||Z,X={},$=[],tt=v({"\u0275cmp":v}),et=v({"\u0275dir":v}),nt=v({"\u0275pipe":v}),rt=v({"\u0275mod":v}),it=v({"\u0275loc":v}),ot=v({"\u0275fac":v}),at=v({__NG_ELEMENT_ID__:v}),st=0;function ut(t){return z(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===H.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||$,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Y.Emulated,id:"c",styles:t.styles||$,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=st++,n.inputs=pt(t.inputs,e),n.outputs=pt(t.outputs),i&&i.forEach(function(t){return t(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(ct)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(lt)}:null,n})}function ct(t){return mt(t)||function(t){return t[et]||null}(t)}function lt(t){return function(t){return t[nt]||null}(t)}var ht={};function ft(t){return z(function(){var e={type:t.type,bootstrap:t.bootstrap||$,declarations:t.declarations||$,imports:t.imports||$,exports:t.exports||$,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(ht[t.id]=t.type),e})}function dt(t,e){return z(function(){var n=gt(t,!0);n.declarations=e.declarations||$,n.imports=e.imports||$,n.exports=e.exports||$})}function pt(t,e){if(null==t)return X;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var vt=ut;function yt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function mt(t){return t[tt]||null}function gt(t,e){var n=t[rt]||null;if(!n&&!0===e)throw new Error("Type ".concat(b(t)," does not have '\u0275mod' property."));return n}function _t(t){return Array.isArray(t)&&"object"==typeof t[1]}function bt(t){return Array.isArray(t)&&!0===t[1]}function wt(t){return 0!=(8&t.flags)}function kt(t){return 2==(2&t.flags)}function Ct(t){return 1==(1&t.flags)}function St(t){return null!==t.template}function Et(t,e){return t.hasOwnProperty(ot)?t[ot]:null}var Tt,xt=function(){function t(e,n,r){f(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return h(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function It(){return At}function At(t){return t.type.prototype.ngOnChanges&&(t.setInput=Rt),Dt}function Dt(){var t=Ot(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===X)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Rt(t,e,n,r){var i=Ot(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:X,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new xt(u&&u.currentValue,e,a===X),t[r]=e}function Ot(t){return t.__ngSimpleChanges__||null}function Pt(t){Tt=t}function Nt(t){return!!t.listen}It.ngInherit=!0;var Ft={createRenderer:function(t,e){return void 0!==Tt?Tt:"undefined"!=typeof document?document:void 0}};function Lt(t){for(;Array.isArray(t);)t=t[0];return t}function Mt(t,e){return Lt(e[t])}function Vt(t,e){return Lt(e[t.index])}function Bt(t,e){return t.data[e]}function qt(t,e){return t[e]}function jt(t,e){var n=e[t];return _t(n)?n:n[0]}function Ut(t){return 4==(4&t[2])}function Gt(t){return 128==(128&t[2])}function zt(t,e){return null==e?null:t[e]}function Ht(t){t[18]=0}function Yt(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var Wt={lFrame:ye(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Kt(){return Wt.bindingsEnabled}function Zt(){return Wt.lFrame.lView}function Qt(){return Wt.lFrame.tView}function Jt(t){return Wt.lFrame.contextLView=t,t[8]}function Xt(){for(var t=$t();null!==t&&64===t.type;)t=t.parent;return t}function $t(){return Wt.lFrame.currentTNode}function te(t,e){var n=Wt.lFrame;n.currentTNode=t,n.isParent=e}function ee(){return Wt.lFrame.isParent}function ne(){Wt.lFrame.isParent=!1}function re(){return Wt.isInCheckNoChangesMode}function ie(t){Wt.isInCheckNoChangesMode=t}function oe(){var t=Wt.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ae(){return Wt.lFrame.bindingIndex++}function se(t){var e=Wt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ue(t){Wt.lFrame.currentDirectiveIndex=t}function ce(t){var e=Wt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function le(){return Wt.lFrame.currentQueryIndex}function he(t){Wt.lFrame.currentQueryIndex=t}function fe(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function de(t,e,n){if(n&j.SkipSelf){for(var r=e,i=t;!(null!==(r=r.parent)||n&j.Host||(r=fe(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}var o=Wt.lFrame=ve();return o.currentTNode=e,o.lView=t,!0}function pe(t){var e=ve(),n=t[1];Wt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ve(){var t=Wt.lFrame,e=null===t?null:t.child;return null===e?ye(t):e}function ye(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function me(){var t=Wt.lFrame;return Wt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var ge=me;function _e(){var t=me();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function be(){return Wt.lFrame.selectedIndex}function we(t){Wt.lFrame.selectedIndex=t}function ke(){var t=Wt.lFrame;return Bt(t.tView,t.selectedIndex)}function Ce(){Wt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Se(){Wt.lFrame.currentNamespace=null}function Ee(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Te(t,e,n){Ae(t,e,3,n)}function xe(t,e,n,r){(3&t[2])===n&&Ae(t,e,n,r)}function Ie(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ae(t,e,n,r){for(var i=null!=r?r:-1,o=e.length-1,a=0,s=void 0!==r?65535&t[18]:0;s<o;s++)if("number"==typeof e[s+1]){if(a=e[s],null!=r&&a>=r)break}else e[s]<0&&(t[18]+=65536),(a<i||-1==i)&&(De(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function De(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}var Re=function t(e,n,r){f(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Oe(t,e,n){for(var r=Nt(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];Ne(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Pe(t){return 3===t||4===t||6===t}function Ne(t){return 64===t.charCodeAt(0)}function Fe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||Le(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function Le(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Me(t){return-1!==t}function Ve(t){return 32767&t}function Be(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}var qe=!0;function je(t){var e=qe;return qe=t,e}var Ue=0;function Ge(t,e){var n=He(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,ze(r.data,t),ze(e,null),ze(r.blueprint,null));var i=Ye(t,e),o=t.injectorIndex;if(Me(i))for(var a=Ve(i),s=Be(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function ze(t,e){t.push(0,0,0,0,0,0,0,0,e)}function He(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ye(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function We(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(at)&&(r=n[at]),null==r&&(r=n[at]=Ue++);var i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ke(t,e,n){if(n&j.Optional)return t;D(e,"NodeInjector")}function Ze(t,e,n,r){if(n&j.Optional&&void 0===r&&(r=null),0==(n&(j.Self|j.Host))){var i=t[9],o=U(void 0);try{return i?i.get(e,r,n&j.Optional):G(e,r,n&j.Optional)}finally{U(o)}}return Ke(r,e,n)}function Qe(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(at)?t[at]:void 0;return"number"==typeof e?e>=0?255&e:Xe:e}(n);if("function"==typeof o){if(!de(e,t,r))return r&j.Host?Ke(i,n,r):Ze(e,n,r,i);try{var a=o(r);if(null!=a||r&j.Optional)return a;D(n)}finally{ge()}}else if("number"==typeof o){var s=null,u=He(t,e),c=-1,l=r&j.Host?e[16][6]:null;for((-1===u||r&j.SkipSelf)&&(-1!==(c=-1===u?Ye(t,e):e[u+8])&&rn(r,!1)?(s=e[1],u=Ve(c),e=Be(c,e)):u=-1);-1!==u;){var h=e[1];if(nn(o,u,h.data)){var f=$e(u,e,n,s,r,l);if(f!==Je)return f}-1!==(c=e[u+8])&&rn(r,e[1].data[u+8]===l)&&nn(o,u,e)?(s=h,u=Ve(c),e=Be(c,e)):u=-1}}}return Ze(e,n,r,i)}var Je={};function Xe(){return new on(Xt(),Zt())}function $e(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=tn(s,a,n,null==r?kt(s)&&qe:r!=a&&0!=(3&s.type),i&j.Host&&o===s);return null!==u?en(e,a,u,s):Je}function tn(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=1048575&o,u=t.directiveStart,c=o>>20,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&St(d)&&d.type===n)return u}return null}function en(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Re){var a=i;a.resolving&&function(t,e){throw new x("200","Circular dependency in DI detected for ".concat(t))}(A(o[n]));var s=je(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?U(a.injectImpl):null;de(t,r,j.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,a=r.ngDoCheck;if(i){var s=At(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a))}(n,o[n],e)}finally{null!==u&&U(u),je(s),a.resolving=!1,ge()}}return i}function nn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function rn(t,e){return!(t&j.Self||t&j.Host&&e)}var on=function(){function t(e,n){f(this,t),this._tNode=e,this._lView=n}return h(t,[{key:"get",value:function(t,e){return Qe(this._tNode,this._lView,t,void 0,e)}}]),t}();function an(t){return z(function(){for(var e=t.prototype.constructor,n=e[ot]||sn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[ot]||sn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}})}function sn(t){return T(t)?function(){var e=sn(E(t));return e&&e()}:Et(t)}function un(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Pe(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(Xt(),t)}function cn(t,e,n){return z(function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=g(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ln=function(){function t(e,n){f(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return h(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),hn=Function;function fn(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),fn(r,e)):e!==t&&e.push(r)}return e}function dn(t,e){t.forEach(function(t){return Array.isArray(t)?dn(t,e):e(t)})}function pn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function vn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yn(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function mn(t,e,n){var r=_n(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function gn(t,e){var n=_n(t,e);if(n>=0)return t[1|n]}function _n(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var bn,wn={},kn=/\n/gm,Cn=v({provide:String,useValue:v});function Sn(t){var e=bn;return bn=t,e}function En(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j.Default;if(void 0===bn)throw new Error("inject() must be called from an injection context");return null===bn?G(t,void 0,e):bn.get(t,e&j.Optional?null:void 0,e)}function Tn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j.Default;return(L||En)(E(t),e)}var xn=Tn;function In(t){for(var e=[],n=0;n<t.length;n++){var r=E(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=j.Default,a=0;a<r.length;a++){var s=r[a],u=s.__NG_DI_FLAG__;"number"==typeof u?-1===u?i=s.token:o|=u:i=s}e.push(Tn(i,o))}else e.push(Tn(r))}return e}function An(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}var Dn,Rn=An(cn("Inject",function(t){return{token:t}}),-1),On=An(cn("Optional"),8),Pn=An(cn("SkipSelf"),4);function Nn(t){var e;return(null===(e=function(){if(void 0===Dn&&(Dn=null,J.trustedTypes))try{Dn=J.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return Dn}())||void 0===e?void 0:e.createHTML(t))||t}var Fn=function(){function t(e){f(this,t),this.changingThisBreaksApplicationSecurity=e}return h(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),t}(),Ln=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Fn),Mn=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Fn),Vn=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Fn),Bn=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Fn),qn=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Fn);function jn(t){return t instanceof Fn?t.changingThisBreaksApplicationSecurity:t}function Un(t,e){var n=Gn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function Gn(t){return t instanceof Fn&&t.getTypeName()||null}function zn(t){return new Ln(t)}function Hn(t){return new Mn(t)}function Yn(t){return new Vn(t)}function Wn(t){return new Bn(t)}function Kn(t){return new qn(t)}var Zn=function(){function t(e){f(this,t),this.inertDocumentHelper=e}return h(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(Nn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(n){return null}}}]),t}(),Qn=function(){function t(e){if(f(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return h(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Nn(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=Nn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),Jn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $n(t){return(t=String(t)).match(Jn)||t.match(Xn)?t:"unsafe:"+t}function tr(t){var e,n={},r=s(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function er(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var nr,rr=tr("area,br,col,hr,img,wbr"),ir=tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),or=tr("rp,rt"),ar=er(or,ir),sr=er(rr,er(ir,tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),er(or,tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ar),ur=tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cr=tr("srcset"),lr=er(ur,cr,tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hr=tr("script,style,template"),fr=function(){function t(){f(this,t),this.sanitizedSomething=!1,this.buf=[]}return h(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!sr.hasOwnProperty(e))return this.sanitizedSomething=!0,!hr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(lr.hasOwnProperty(s)){var u=o.value;ur[s]&&(u=$n(u)),cr[s]&&(n=u,u=(n=String(n)).split(",").map(function(t){return $n(t.trim())}).join(", ")),this.buf.push(" ",a,'="',vr(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();sr.hasOwnProperty(e)&&!rr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(vr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),dr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pr=/([^\#-~ |!])/g;function vr(t){return t.replace(/&/g,"&amp;").replace(dr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(pr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function yr(t,e){var n=null;try{nr=nr||function(t){var e=new Qn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Nn(""),"text/html")}catch(t){return!1}}()?new Zn(e):e}(t);var r=e?String(e):"";n=nr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=nr.getInertBodyElement(r)}while(r!==o);return Nn((new fr).sanitizeChildren(mr(n)||n))}finally{if(n)for(var a=mr(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function mr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var gr=((gr=gr||{})[gr.NONE=0]="NONE",gr[gr.HTML=1]="HTML",gr[gr.STYLE=2]="STYLE",gr[gr.SCRIPT=3]="SCRIPT",gr[gr.URL=4]="URL",gr[gr.RESOURCE_URL=5]="RESOURCE_URL",gr);function _r(t,e){t.__ngContext__=e}function br(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function wr(t){return t.ngDebugContext}function kr(t){return t.ngOriginalError}function Cr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Sr=function(){function t(){f(this,t),this._console=console}return h(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Cr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?wr(t)?wr(t):this._findContext(kr(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=kr(t);e&&kr(e);)e=kr(e);return e}}]),t}(),Er=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(J);function Tr(t){return t.ownerDocument.body}function xr(t){return t instanceof Function?t():t}var Ir=((Ir=Ir||{})[Ir.Important=1]="Important",Ir[Ir.DashCase=2]="DashCase",Ir);function Ar(t,e){return(void 0)(t,e)}function Dr(t){var e=t[3];return bt(e)?e[3]:e}function Rr(t){return Pr(t[13])}function Or(t){return Pr(t[4])}function Pr(t){for(;null!==t&&!bt(t);)t=t[4];return t}function Nr(t,e,n,r,i){if(null!=r){var o,a=!1;bt(r)?o=r:_t(r)&&(a=!0,r=r[0]);var s=Lt(r);0===t&&null!==n?null==i?Ur(e,n,s):jr(e,n,s,i||null,!0):1===t&&null!==n?jr(e,n,s,i||null,!0):2===t?function(t,e,n){var r=zr(t,e);r&&function(t,e,n,r){Nt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Lt(n)&&Nr(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];Xr(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function Fr(t,e,n){return Nt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Lr(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Yt(i,-1)),n.splice(r,1)}function Mr(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&Lr(o,i),e>0&&(t[r-1][4]=i[4]);var a=vn(t,10+e);Xr(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Vr(t,e){if(!(256&e[2])){var n=e[11];Nt(n)&&n.destroyNode&&Xr(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Br(t[1],t);for(;e;){var n=null;if(_t(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)_t(e)&&Br(e[1],e),e=e[3];null===e&&(e=t),_t(e)&&Br(e[1],e),n=e&&e[4]}e=n}}(e)}}function Br(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Re)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2){var s=i[o[a]],u=o[a+1];try{u.call(s)}finally{}}else try{o.call(i)}finally{}}}}(t,e),function(t,e){var n=t.cleanup,r=e[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(e):Lt(e[a]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var h=i+1;h<r.length;h++)(0,r[h])();e[7]=null}}(t,e),1===e[1].type&&Nt(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&bt(e[3])){n!==e[3]&&Lr(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function qr(t,e,n){return function(t,e,n){for(var r=e;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){var i=t.data[r.directiveStart].encapsulation;if(i===Y.None||i===Y.Emulated)return null}return Vt(r,n)}(t,e.parent,n)}function jr(t,e,n,r,i){Nt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Ur(t,e,n){Nt(t)?t.appendChild(e,n):e.appendChild(n)}function Gr(t,e,n,r,i){null!==r?jr(t,e,n,r,i):Ur(t,e,n)}function zr(t,e){return Nt(t)?t.parentNode(e):e.parentNode}function Hr(t,e,n){return Yr(t,e,n)}var Yr=function(t,e,n){return 40&t.type?Vt(t,n):null};function Wr(t,e,n,r){var i=qr(t,r,e),o=e[11],a=Hr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)Gr(o,i,n[s],a,!1);else Gr(o,i,n,a,!1)}function Kr(t,e){if(null!==e){var n=e.type;if(3&n)return Vt(e,t);if(4&n)return Qr(-1,t[e.index]);if(8&n){var r=e.child;if(null!==r)return Kr(t,r);var i=t[e.index];return bt(i)?Qr(-1,i):Lt(i)}if(32&n)return Ar(e,t)()||Lt(t[e.index]);var o=Zr(t,e);return null!==o?Array.isArray(o)?o[0]:Kr(Dr(t[16]),o):Kr(t,e.next)}return null}function Zr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Qr(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return Kr(r,i)}return e[7]}function Jr(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;if(a&&0===e&&(s&&_r(Lt(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)Jr(t,e,n.child,r,i,o,!1),Nr(e,t,i,s,o);else if(32&u){for(var c=Ar(n,r),l=void 0;l=c();)Nr(e,t,i,l,o);Nr(e,t,i,s,o)}else 16&u?$r(t,e,r,n,i,o):Nr(e,t,i,s,o);n=a?n.projectionNext:n.next}}function Xr(t,e,n,r,i,o){Jr(n,r,t.firstChild,e,i,o,!1)}function $r(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Nr(e,t,i,s[u],o);else Jr(t,e,s,a[3],i,o,!0)}function ti(t,e,n){Nt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ei(t,e,n){Nt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ni(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function ri(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==ni((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ii(t){return 4===t.type&&"ng-template"!==t.value}function oi(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function ai(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Pe(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!oi(t,u,n)||""===u&&1===e.length){if(si(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!ri(t.attrs,c,n)){if(si(r))return!1;a=!0}continue}var l=ui(8&r?"class":u,i,ii(t),n);if(-1===l){if(si(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==ni(f,c,0)||2&r&&c!==h){if(si(r))return!1;a=!0}}}}else{if(!a&&!si(r)&&!si(u))return!1;if(a&&si(u))continue;a=!1,r=u|1&r}}return si(r)||a}function si(t){return 0==(1&t)}function ui(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ci(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(ai(t,e[r],n))return!0;return!1}function li(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function hi(t,e){return t?":not("+e.trim()+")":e}function fi(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||si(a)||(e+=hi(o,i),i=""),r=a,o=o||!si(r);n++}return""!==i&&(e+=hi(o,i)),e}var di={};function pi(t){vi(Qt(),Zt(),be()+t,re())}function vi(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Te(e,i,n)}else{var o=t.preOrderHooks;null!==o&&xe(e,o,0,n)}we(n)}function yi(t,e){return t<<17|e<<2}function mi(t){return t>>17&32767}function gi(t){return 2|t}function _i(t){return(131068&t)>>2}function bi(t,e){return-131069&t|e<<2}function wi(t){return 1|t}function ki(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];he(i),a.contentQueries(2,e[o],o)}}}function Ci(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ht(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Si(t,e,n,r,i){var o,a,s=t.data[e];if(null===s)s=function(t,e,n,r,i){var o=$t(),a=ee(),s=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}(t,e,n,r,i),Wt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;var u=(o=Wt.lFrame,a=o.currentTNode,o.isParent?a:a.parent);s.injectorIndex=null===u?-1:u.injectorIndex}return te(s,!0),s}function Ei(t,e,n,r){if(0===n)return-1;for(var i=e.length,o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ti(t,e,n){pe(e);try{var r=t.viewQuery;null!==r&&no(1,r,n);var i=t.template;null!==i&&Ai(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ki(t,e),t.staticViewQueries&&no(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)Ji(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,_e()}}function xi(t,e,n,r){var i=e[2];if(256!=(256&i)){pe(e);var o=re();try{Ht(e),Wt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ai(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&Te(e,s,null)}else{var u=t.preOrderHooks;null!==u&&xe(e,u,0,null),Ie(e,0)}if(function(t){for(var e=Rr(t);null!==e;e=Or(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Yt(o,1),i[2]|=1024}}(e),function(t){for(var e=Rr(t);null!==e;e=Or(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Gt(r)&&xi(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&ki(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&Te(e,c)}else{var l=t.contentHooks;null!==l&&xe(e,l,1),Ie(e,1)}!function(t,e){var n,r,i,o=t.hostBindingOpCodes;if(null!==o)try{for(var a=0;a<o.length;a++){var s=o[a];if(s<0)we(~s);else{var u=s,c=o[++a],l=o[++a];n=c,r=u,i=void 0,(i=Wt.lFrame).bindingIndex=i.bindingRootIndex=n,ue(r),l(2,e[u])}}}finally{we(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)Zi(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&no(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&Te(e,d)}else{var p=t.viewHooks;null!==p&&xe(e,p,2),Ie(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Yt(e[3],-1))}finally{_e()}}}function Ii(t,e,n,r){var i=e[10],o=!re(),a=Ut(e);try{o&&!a&&i.begin&&i.begin(),a&&Ti(t,e,r),xi(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Ai(t,e,n,r,i){var o=be(),a=2&r;try{we(-1),a&&e.length>20&&vi(t,e,20,re()),n(r,i)}finally{we(o)}}function Di(t,e,n){if(wt(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Ri(t,e,n){Kt()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ge(n,e),_r(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=St(u);c&&Hi(e,n,u);var l=en(e,t,s,n);_r(l,e),null!==a&&Yi(0,s-i,l,u,0,a),c&&(jt(n.index,e)[8]=l)}}(t,e,n,Vt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Wt.lFrame.currentDirectiveIndex;try{we(o);for(var s=r;s<i;s++){var u=t.data[s],c=e[s];ue(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||qi(u,c)}}finally{we(-1),ue(a)}}(t,e,n))}function Oi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function Pi(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ni(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ni(t,e,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:di);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:s,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Fi(t,e,n,r){var i=io(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&oo(t).push(r,i.length-1))}function Li(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Mi(t,e,n,r,i,o,a,s){var u,c,l=Vt(e,n),h=e.inputs;!s&&null!=h&&(u=h[r])?(uo(t,n,u,r,i),kt(e)&&function(t,e){var n=jt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,e.value||"",r):i,Nt(o)?o.setProperty(l,r,i):Ne(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Vi(t,e,n,r){var i=!1;if(Kt()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];ci(n,a.selectors,!1)&&(i||(i=[]),We(Ge(n,e),t,a.type),St(a)?(ji(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){i=!0,Gi(n,t.data.length,o.length);for(var s=0;s<o.length;s++){var u=o[s];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,h=Ei(t,e,o.length,null),f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Fe(n.mergedAttrs,d.hostAttrs),zi(t,n,e,h,d),Ui(h,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),h++}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||ii(e)?null:Wi(l,i);o.push(h),a=Li(l,u,a),s=Li(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new x("301","Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=Fe(n.mergedAttrs,n.attrs),i}function Bi(t,e,n,r,i,o){var a=o.hostBindings;if(a){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,a)}}function qi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ji(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ui(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;St(e)&&(n[""]=t)}}function Gi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function zi(t,e,n,r,i){t.data[r]=i;var o=i.factory||(i.factory=Et(i.type)),a=new Re(o,St(i),null);t.blueprint[r]=a,n[r]=a,Bi(t,e,0,r,Ei(t,n,i.hostVars,di),i)}function Hi(t,e,n){var r=Vt(e,t),i=Pi(n),o=t[10],a=Xi(t,Ci(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=a}function Yi(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function Wi(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ki(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Zi(t,e){var n=jt(e,t);if(Gt(n)){var r=n[1];80&n[2]?xi(r,n,r.template,n[8]):n[5]>0&&Qi(n)}}function Qi(t){for(var e=Rr(t);null!==e;e=Or(e))for(var n=10;n<e.length;n++){var r=e[n];if(1024&r[2]){var i=r[1];xi(i,r,i.template,r[8])}else r[5]>0&&Qi(r)}var o=t[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=jt(o[a],t);Gt(s)&&s[5]>0&&Qi(s)}}function Ji(t,e){var n=jt(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ti(r,n,n[8])}function Xi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function $i(t){for(;t;){t[2]|=64;var e=Dr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function to(t,e,n){var r=e[10];r.begin&&r.begin();try{xi(t,e,t.template,n)}catch(i){throw so(e,i),i}finally{r.end&&r.end()}}function eo(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=br(n),i=r[1];Ii(i,r,i.template,n)}}(t[8])}function no(t,e,n){he(0),e(t,n)}var ro=Promise.resolve(null);function io(t){return t[7]||(t[7]=[])}function oo(t){return t.cleanup||(t.cleanup=[])}function ao(t,e,n){return(null===t||St(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function so(t,e){var n=t[9],r=n?n.get(Sr,null):null;r&&r.handleError(e)}function uo(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function co(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=k(i,s):2==o&&(r=k(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var lo,ho=new ln("INJECTOR",-1),fo=function(){function t(){f(this,t)}return h(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wn;if(e===wn){var n=new Error("NullInjectorError: No provider for ".concat(b(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),po=new ln("Set Injector scope."),vo={},yo={};function mo(){return void 0===lo&&(lo=new fo),lo}function go(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new _o(t,n,e||mo(),r)}var _o=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&dn(n,function(t){return i.processProvider(t,e,n)}),dn([e],function(t){return i.processInjectorType(t,[],a)}),this.records.set(ho,ko(void 0,this));var s=this.records.get(po);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:b(e))}return h(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j.Default;this.assertNotDestroyed();var r,i=Sn(this);try{if(!(n&j.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof ln)&&P(t);o=a&&this.injectableDefInScope(a)?ko(bo(t),vo):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&j.Self?mo():this.parent).get(t,e=n&j.Optional&&e===wn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(b(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=b(e);if(Array.isArray(e))i=e.map(b).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):b(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(kn,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{Sn(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(b(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=E(t)))return!1;var i=F(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=F(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{dn(i.imports,function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))})}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;dn(i,function(t){return r.processProvider(t,n,i||$)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a);var h=Et(a)||function(){return new a};this.records.set(a,ko(h,vo));var f=i.providers;if(null!=f&&!s){var d=t;dn(f,function(t){return r.processProvider(t,d,f)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=So(t=E(t))?t:E(t&&t.provide),i=function(t,e,n){return Co(t)?ko(void 0,t.useValue):ko(wo(t),vo)}(t);if(So(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=ko(void 0,vo,!0)).factory=function(){return In(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===vo&&(e.value=yo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){if(!t.providedIn)return!1;var e=E(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}]),t}();function bo(t){var e=P(t),n=null!==e?e.factory:Et(t);if(null!==n)return n;if(t instanceof ln)throw new Error("Token ".concat(b(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=yn(e,"?");throw new Error("Can't resolve all parameters for ".concat(b(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[M]||t[B]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function wo(t,e,n){var r,i;if(So(t)){var a=E(t);return Et(a)||bo(a)}if(Co(t))r=function(){return E(t.useValue)};else if((i=t)&&i.useFactory)r=function(){return t.useFactory.apply(t,o(In(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))r=function(){return Tn(E(t.useExisting))};else{var s=E(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Et(s)||bo(s);r=function(){return g(s,o(In(t.deps)))}}return r}function ko(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function Co(t){return null!==t&&"object"==typeof t&&Cn in t}function So(t){return"function"==typeof t}var Eo=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=go(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},To=function(){function t(){f(this,t)}return h(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Eo(t,e,""):Eo(t.providers,t.parent,t.name||"")}}]),t}();function xo(t,e){Ee(br(t)[1],Xt())}function Io(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(St(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Ao(t.inputs),o.declaredInputs=Ao(t.declaredInputs),o.outputs=Ao(t.outputs);var a=i.hostBindings;a&&Oo(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&Do(t,s),u&&Ro(t,u),_(t.inputs,i.inputs),_(t.declaredInputs,i.declaredInputs),_(t.outputs,i.outputs),St(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===Io&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Fe(i.hostAttrs,n=Fe(n,i.hostAttrs))}}(r)}function Ao(t){return t===X?{}:t===$?[]:t}function Do(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function Ro(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function Oo(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}To.THROW_IF_NOT_FOUND=wn,To.NULL=new fo,To.\u0275prov=R({token:To,providedIn:"any",factory:function(){return Tn(ho)}}),To.__NG_ELEMENT_ID__=-1;var Po=null;function No(){if(!Po){var t=J.Symbol;if(t&&t.iterator)Po=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Po=r)}}return Po}var Fo=function(){function t(e){f(this,t),this.wrapped=e}return h(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Lo(t){return!!Mo(t)&&(Array.isArray(t)||!(t instanceof Map)&&No()in t)}function Mo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Vo(t,e,n){return t[e]=n}function Bo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function qo(t,e,n,r){var i=Zt();return Bo(i,ae(),e)&&(Qt(),function(t,e,n,r,i,o){var a=Vt(t,e);!function(t,e,n,r,i,o,a){if(null==o)Nt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{var s=null==a?I(o):a(o,r||"",i);Nt(t)?t.setAttribute(e,i,s,n):n?e.setAttributeNS(n,i,s):e.setAttribute(i,s)}}(e[11],a,o,t.value,n,r,i)}(ke(),i,t,e,n,r)),qo}function jo(t,e,n,r){return Bo(t,ae(),n)?e+I(n)+r:di}function Uo(t,e,n,r,i,o,a,s){var u=Zt(),c=Qt(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=Si(e,t,4,a||null,zt(c,s));Vi(e,n,l,zt(c,u)),Ee(e,l);var h=l.tViews=Ni(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,a):c.data[l];te(h,!1);var f=u[11].createComment("");Wr(c,u,f,h),_r(f,u),Xi(u,u[l]=Ki(f,u,f,h)),Ct(h)&&Ri(c,u,h),null!=a&&Oi(u,h,s)}function Go(t){return qt(Wt.lFrame.contextLView,20+t)}function zo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j.Default,n=Zt();return null===n?Tn(t,e):Qe(Xt(),n,E(t),e)}function Ho(t,e,n){var r=Zt();return Bo(r,ae(),e)&&Mi(Qt(),ke(),r,t,e,r[11],n,!1),Ho}function Yo(t,e,n,r,i){var o=i?"class":"style";uo(t,n,e.inputs[o],o,r)}function Wo(t,e,n,r){var i=Zt(),o=Qt(),a=20+t,s=i[11],u=i[a]=Fr(s,e,Wt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=Si(e,t,2,i,zt(s,o));return Vi(e,n,u,zt(s,a)),null!==u.attrs&&co(u,u.attrs,!1),null!==u.mergedAttrs&&co(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(a,o,i,0,e,n,r):o.data[a];te(c,!0);var l=c.mergedAttrs;null!==l&&Oe(s,u,l);var h=c.classes;null!==h&&ei(s,u,h);var f=c.styles;null!==f&&ti(s,u,f),64!=(64&c.flags)&&Wr(o,i,u,c),0===Wt.lFrame.elementDepthCount&&_r(u,i),Wt.lFrame.elementDepthCount++,Ct(c)&&(Ri(o,i,c),Di(o,c,i)),null!==r&&Oi(i,c)}function Ko(){var t=Xt();ee()?ne():te(t=t.parent,!1);var e=t;Wt.lFrame.elementDepthCount--;var n=Qt();n.firstCreatePass&&(Ee(n,t),wt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Yo(n,e,Zt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Yo(n,e,Zt(),e.stylesWithoutHost,!1)}function Zo(t,e,n,r){Wo(t,e,n,r),Ko()}function Qo(t,e,n){var r=Zt(),i=Qt(),o=t+20,a=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,a=zt(o,r),s=Si(e,t,8,"ng-container",a);return null!==a&&co(s,a,!0),Vi(e,n,s,zt(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(o,i,r,e,n):i.data[o];te(a,!0);var s=r[o]=r[11].createComment("");Wr(i,r,s,a),_r(s,r),Ct(a)&&(Ri(i,r,a),Di(i,a,r)),null!=n&&Oi(r,a)}function Jo(){var t=Xt(),e=Qt();ee()?ne():te(t=t.parent,!1),e.firstCreatePass&&(Ee(e,t),wt(t)&&e.queries.elementEnd(t))}function Xo(t,e,n){Qo(t,e,n),Jo()}function $o(){return Zt()}function ta(t){return!!t&&"function"==typeof t.then}function ea(t){return!!t&&"function"==typeof t.subscribe}var na=ea;function ra(t,e,n,r){var i=Zt(),o=Qt(),a=Xt();return oa(o,i,i[11],a,t,e,!!n,r),ra}function ia(t,e){var n=Xt(),r=Zt(),i=Qt();return oa(i,r,ao(ce(i.data),n,r),n,t,e,!1),ia}function oa(t,e,n,r,i,o,a,s){var u=Ct(r),c=t.firstCreatePass&&oo(t),l=io(e),h=!0;if(3&r.type||s){var f=Vt(r,e),d=s?s(f):f,p=l.length,v=s?function(t){return s(Lt(t[r.index]))}:r.index;if(Nt(n)){var y=null;if(!s&&u&&(y=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,h=!1;else{o=sa(r,e,0,o,!1);var m=n.listen(d,i,o);l.push(o,m),c&&c.push(i,v,p,p+1)}}else o=sa(r,e,0,o,!0),d.addEventListener(i,o,a),l.push(o),c&&c.push(i,v,p,a)}else o=sa(r,e,0,o,!1);var g,_=r.outputs;if(h&&null!==_&&(g=_[i])){var b=g.length;if(b)for(var w=0;w<b;w+=2){var k=e[g[w]][g[w+1]].subscribe(o),C=l.length;l.push(o,k),c&&c.push(i,r.index,C,-(C+1))}}}function aa(t,e,n,r){try{return!1!==n(r)}catch(i){return so(t,i),!1}}function sa(t,e,n,r,i){return function n(o){if(o===Function)return r;var a=2&t.flags?jt(t.index,e):e;0==(32&e[2])&&$i(a);for(var s=aa(e,0,r,o),u=n.__ngNextListenerFn__;u;)s=aa(e,0,u,o)&&s,u=u.__ngNextListenerFn__;return i&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function ua(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(Wt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Wt.lFrame.contextLView))[8]}(t)}function ca(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?ci(t,o,!0):li(r,o))return i}else n=i}return n}function la(t){var e=Zt()[16][6];if(!e.projection)for(var n=e.projection=yn(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?ca(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function ha(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Zt(),i=Qt(),o=Si(i,20+t,16,null,n||null);null===o.projection&&(o.projection=e),ne(),64!=(64&o.flags)&&function(t,e,n){$r(e[11],0,e,n,qr(t,n,e),Hr(n.parent||e[6],n,e))}(i,r,o)}function fa(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?mi(o):_i(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];da(t[s],e)&&(u=!0,t[s+1]=r?wi(c):gi(c)),s=r?mi(c):_i(c)}u&&(t[n+1]=r?gi(o):wi(o))}function da(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&_n(t,e)>=0}var pa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function va(t){return t.substring(pa.key,pa.keyEnd)}function ya(t,e){var n=pa.textEnd;return n===e?-1:(e=pa.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,pa.key=e,n),ma(t,e,n))}function ma(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ga(t,e,n){return wa(t,e,n,!1),ga}function _a(t,e){return wa(t,e,null,!0),_a}function ba(t,e){for(var n=function(t){return function(t){pa.key=0,pa.keyEnd=0,pa.value=0,pa.valueEnd=0,pa.textEnd=t.length}(t),ya(t,ma(t,0,pa.textEnd))}(e);n>=0;n=ya(e,n))mn(t,va(e),!0)}function wa(t,e,n,r){var i=Zt(),o=Qt(),a=se(2);o.firstUpdatePass&&Ca(o,t,a,r),e!==di&&Bo(i,a,e)&&Ta(o,o.data[be()],i,i[11],t,i[a+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=b(jn(t)))),t}(e,n),r,a)}function ka(t,e){return e>=t.expandoStartIndex}function Ca(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[be()],a=ka(t,n);Aa(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=ce(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ea(n=Sa(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=Sa(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==_i(r))return t[mi(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[mi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=Ea(s=Sa(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=Ea(r,t[o].hostAttrs,n);return Ea(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=mi(a),u=_i(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||_n(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=mi(t[s+1]);t[r+1]=yi(f,s),0!==f&&(t[f+1]=bi(t[f+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=yi(s,0),0!==s&&(t[s+1]=bi(t[s+1],r)),s=r;else t[r+1]=yi(u,0),0===s?s=r:t[u+1]=bi(t[u+1],r),u=r;l&&(t[r+1]=gi(t[r+1])),fa(t,c,r,!0),fa(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&_n(o,e)>=0&&(n[r+1]=wi(n[r+1]))}(e,c,t,r,o),a=yi(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}function Sa(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Ea(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function Ea(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),mn(t,a,!!n||e[++o]))}return void 0===t?null:t}function Ta(t,e,n,r,i,o,a,s){if(3&e.type){var u=t.data,c=u[s+1];Ia(1==(1&c)?xa(u,e,n,i,_i(c),a):void 0)||(Ia(o)||2==(2&c)&&(o=xa(u,null,n,i,s,a)),function(t,e,n,r,i){var o=Nt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1===r.indexOf("-")?void 0:Ir.DashCase;if(null==i)o?t.removeStyle(n,r,a):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),a|=Ir.Important),o?t.setStyle(n,r,i,a):n.style.setProperty(r,i,s?"important":"")}}}(r,a,Mt(be(),n),i,o))}}function xa(t,e,n,r,i,o){for(var a,s=null===e;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===di&&(f=h?$:void 0);var d=h?gn(f,r):l===r?f:void 0;if(c&&!Ia(d)&&(d=gn(u,r)),Ia(d)&&(a=d,s))return a;var p=t[i+1];i=s?mi(p):_i(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(a=gn(v,r))}return a}function Ia(t){return void 0!==t}function Aa(t,e){return 0!=(t.flags&(e?16:32))}function Da(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Zt(),r=Qt(),i=t+20,o=r.firstCreatePass?Si(r,i,1,e,null):r.data[i],a=n[i]=function(t,e){return Nt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Wr(r,n,a,o),te(o,!1)}function Ra(t){return Oa("",t,""),Ra}function Oa(t,e,n){var r=Zt(),i=jo(r,t,e,n);return i!==di&&function(t,e,n){var r=Mt(e,t);!function(t,e,n){Nt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,be(),i),Oa}function Pa(t,e,n){!function(t,e,n,r){var i=Qt(),o=se(2);i.firstUpdatePass&&Ca(i,null,o,!0);var a=Zt();if(n!==di&&Bo(a,o,n)){var s=i.data[be()];if(Aa(s,!0)&&!ka(i,o)){var u=s.classesWithoutHost;null!==u&&(n=k(u,n||"")),Yo(i,s,a,n,!0)}else!function(t,e,n,r,i,o,a,s){i===di&&(i=$);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=void 0,v=null;l===h?(u+=2,c+=2,f!==d&&(v=h,p=d)):null===h||null!==l&&l<h?(u+=2,v=l):(c+=2,v=h,p=d),null!==v&&Ta(t,e,n,r,v,p,!0,s),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return $;var r=[],i=jn(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&t(r,a,i[a]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(mn,ba,jo(Zt(),t,e,n))}function Na(t,e,n){var r=Zt();return Bo(r,ae(),e)&&Mi(Qt(),ke(),r,t,e,r[11],n,!0),Na}function Fa(t,e,n){var r=Zt();if(Bo(r,ae(),e)){var i=Qt(),o=ke();Mi(i,o,r,t,e,ao(ce(i.data),o,r),n,!0)}return Fa}var La=void 0,Ma=["en",[["a","p"],["AM","PM"],La],[["AM","PM"],La,La],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],La,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],La,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",La,"{1} 'at' {0}",La],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Va={};function Ba(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=ja(e);if(n)return n;var r=e.split("-")[0];if(n=ja(r))return n;if("en"===r)return Ma;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function qa(t){return Ba(t)[Ua.PluralCase]}function ja(t){return t in Va||(Va[t]=J.ng&&J.ng.common&&J.ng.common.locales&&J.ng.common.locales[t]),Va[t]}var Ua=((Ua=Ua||{})[Ua.LocaleId=0]="LocaleId",Ua[Ua.DayPeriodsFormat=1]="DayPeriodsFormat",Ua[Ua.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ua[Ua.DaysFormat=3]="DaysFormat",Ua[Ua.DaysStandalone=4]="DaysStandalone",Ua[Ua.MonthsFormat=5]="MonthsFormat",Ua[Ua.MonthsStandalone=6]="MonthsStandalone",Ua[Ua.Eras=7]="Eras",Ua[Ua.FirstDayOfWeek=8]="FirstDayOfWeek",Ua[Ua.WeekendRange=9]="WeekendRange",Ua[Ua.DateFormat=10]="DateFormat",Ua[Ua.TimeFormat=11]="TimeFormat",Ua[Ua.DateTimeFormat=12]="DateTimeFormat",Ua[Ua.NumberSymbols=13]="NumberSymbols",Ua[Ua.NumberFormats=14]="NumberFormats",Ua[Ua.CurrencyCode=15]="CurrencyCode",Ua[Ua.CurrencySymbol=16]="CurrencySymbol",Ua[Ua.CurrencyName=17]="CurrencyName",Ua[Ua.Currencies=18]="Currencies",Ua[Ua.Directionality=19]="Directionality",Ua[Ua.PluralCase=20]="PluralCase",Ua[Ua.ExtraData=21]="ExtraData",Ua);function Ga(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined"," [Expected=> null != ").concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}function za(t,e,n,r,i){if(t=E(t),Array.isArray(t))for(var o=0;o<t.length;o++)za(t[o],e,n,r,i);else{var a=Qt(),s=Zt(),u=So(t)?t:E(t.provide),c=wo(t),l=Xt(),h=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(So(t)||!t.multi){var p=new Re(c,i,zo),v=Wa(u,e,i?h:h+d,f);-1===v?(We(Ge(l,s),a,u),Ha(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var y=Wa(u,e,h+d,f),m=Wa(u,e,h,h+d),g=y>=0&&n[y],_=m>=0&&n[m];if(i&&!_||!i&&!g){We(Ge(l,s),a,u);var b=function(t,e,n,r,i){var o=new Re(t,n,zo);return o.multi=[],o.index=e,o.componentProviders=0,Ya(o,i,r&&!n),o}(i?Za:Ka,n.length,i,r,c);!i&&_&&(n[m].providerFactory=b),Ha(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(b),s.push(b)}else Ha(a,t,y>-1?y:m,Ya(n[i?m:y],c,!i&&r));!i&&r&&_&&n[m].componentProviders++}}}function Ha(t,e,n,r){var i=So(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function Ya(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Wa(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ka(t,e,n,r){return Qa(this.multi,[])}function Za(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=en(n,n[1],this.providerFactory.index,r);Qa(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else Qa(o,i=[]);return i}function Qa(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ja(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=Qt();if(r.firstCreatePass){var i=St(t);za(n,r.data,r.blueprint,i,!0),za(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var Xa=function t(){f(this,t)},$a=function(){function t(){f(this,t)}return h(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(b(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),ts=function t(){f(this,t)};function es(){}function ns(t,e){return new is(Vt(t,e))}ts.NULL=new $a;var rs=function(){return ns(Xt(),Zt())},is=function(){var t=function t(e){f(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=rs,t}();function os(t){return t instanceof is?t.nativeElement:t}var as=function t(){f(this,t)},ss=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=function(){return us()},t}(),us=function(){var t=Zt(),e=jt(Xt().index,t);return function(t){return t[11]}(_t(e)?e:t)},cs=function(){var t=function t(){f(this,t)};return t.\u0275prov=R({token:t,providedIn:"root",factory:function(){return null}}),t}(),ls=function t(e){f(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},hs=new ls("12.1.0"),fs=function(){function t(){f(this,t)}return h(t,[{key:"supports",value:function(t){return Lo(t)}},{key:"create",value:function(t){return new ps(t)}}]),t}(),ds=function(t,e){return e},ps=function(){function t(e){f(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ds}return h(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<gs(n,r,i)?e:n,a=gs(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Lo(t))throw new Error("Error trying to diff '".concat(b(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[No()]();!(r=i.next()).done;)e(r.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new vs(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ms),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ms),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),vs=function t(e,n){f(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},ys=function(){function t(){f(this,t),this._head=null,this._tail=null}return h(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),ms=function(){function t(){f(this,t),this.map=new Map}return h(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new ys,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function gs(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var _s=function(){function t(){f(this,t)}return h(t,[{key:"supports",value:function(t){return t instanceof Map||Mo(t)}},{key:"create",value:function(){return new bs}}]),t}(),bs=function(){function t(){f(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return h(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Mo(t)))throw new Error("Error trying to diff '".concat(b(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new ws(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),ws=function t(e){f(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function ks(){return new Cs([new fs])}var Cs=function(){var t=function(){function t(e){f(this,t),this.factories=e}return h(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||ks())},deps:[[t,new Pn,new On]]}}}]),t}();return t.\u0275prov=R({token:t,providedIn:"root",factory:ks}),t}();function Ss(){return new Es([new _s])}var Es=function(){var t=function(){function t(e){f(this,t),this.factories=e}return h(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Ss())},deps:[[t,new Pn,new On]]}}}]),t}();return t.\u0275prov=R({token:t,providedIn:"root",factory:Ss}),t}();function Ts(t,e,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var a=e[n.index];if(null!==a&&r.push(Lt(a)),bt(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&Ts(u[1],u,c,r)}var l=n.type;if(8&l)Ts(t,e,n.child,r);else if(32&l)for(var h=Ar(n,e),f=void 0;f=h();)r.push(f);else if(16&l){var d=Zr(e,n);if(Array.isArray(d))r.push.apply(r,o(d));else{var p=Dr(e[16]);Ts(p[1],p,d,r,!0)}}n=i?n.projectionNext:n.next}return r}var xs=function(){function t(e,n){f(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return h(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return Ts(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(t){this._lView[8]=t}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(bt(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Mr(t,n),vn(e,n))}this._attachedToViewContainer=!1}Vr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){Fi(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){$i(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){to(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){ie(!0);try{to(t,e,n)}finally{ie(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Xr(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),Is=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this,t))._view=t,r}return h(n,[{key:"detectChanges",value:function(){eo(this._view)}},{key:"checkNoChanges",value:function(){!function(t){ie(!0);try{eo(t)}finally{ie(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(xs),As=function(t){return function(t,e,n){if(kt(t)&&!n){var r=jt(t.index,e);return new xs(r,r)}return 47&t.type?new xs(e[16],e):null}(Xt(),Zt(),16==(16&t))},Ds=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=As,t}(),Rs=[new _s],Os=new Cs([new fs]),Ps=new Es(Rs),Ns=function(){return Ms(Xt(),Zt())},Fs=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=Ns,t}(),Ls=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=r,o.elementRef=i,o}return h(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Ci(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ti(e,n,t),new xs(n)}}]),n}(Fs);function Ms(t,e){return 4&t.type?new Ls(e,t,ns(t,e)):null}var Vs=function t(){f(this,t)},Bs=function(){return zs(Xt(),Zt())},qs=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=Bs,t}(),js=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=r,o._hostLView=i,o}return h(n,[{key:"element",get:function(){return ns(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new on(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=Ye(this._hostTNode,this._hostLView);if(Me(t)){var e=Be(t,this._hostLView),n=Ve(t);return new on(e[1].data[n+8],e)}return new on(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=Us(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(Vs,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var r=t._lView,i=r[1];if(bt(r[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var a=r[3],s=new n(a,a[6],a[3]);s.detach(s.indexOf(t))}}var u=this._adjustIndex(e),c=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],pn(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(i,r,c,u);var l=Qr(u,c),h=r[11],f=zr(h,c[7]);return null!==f&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Xr(t,r,n,1,i,o)}(i,c[6],h,r,f,l),t.attachToViewContainerRef(),pn(Gs(c),u,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=Us(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=Mr(this._lContainer,e);n&&(vn(Gs(this._lContainer),e),Vr(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=Mr(this._lContainer,e);return n&&null!=vn(Gs(this._lContainer),e)?new xs(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(qs);function Us(t){return t[8]}function Gs(t){return t[8]||(t[8]=[])}function zs(t,e){var n,r=e[t.index];if(bt(r))n=r;else{var i;if(8&t.type)i=Lt(r);else{var o=e[11];i=o.createComment("");var a=Vt(t,e);jr(o,zr(o,a),i,function(t,e){return Nt(t)?t.nextSibling(e):e.nextSibling}(o,a),!1)}e[t.index]=n=Ki(r,e,i,t),Xi(e,n)}return new js(n,t,e)}var Hs={},Ys=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this)).ngModule=t,r}return h(n,[{key:"resolveComponentFactory",value:function(t){var e=mt(t);return new Zs(e,this.ngModule)}}]),n}(ts);function Ws(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Ks=new ln("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Er}}),Zs=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(fi).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return h(n,[{key:"inputs",get:function(){return Ws(this.componentDef.inputs)}},{key:"outputs",get:function(){return Ws(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,Hs,i);return o!==Hs||r===Hs?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(as,Ft),u=a.get(cs,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Nt(t))return t.selectRootElement(e,n===Y.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Fr(s.createRenderer(null,this.componentDef),l,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:Er,clean:ro,playerHandler:null,flags:0},p=Ni(0,null,null,1,0,null,null,null,null,null),v=Ci(null,p,d,f,null,null,s,c,u,a);pe(v);try{var y=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=Si(a,20,2,"#host",null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(co(s,u,!0),null!==t&&(Oe(i,t,u),null!==s.classes&&ei(i,t,s.classes),null!==s.styles&&ti(i,t,s.styles)));var c=r.createRenderer(t,e),l=Ci(n,Pi(e),null,e.onPush?64:16,n[20],s,r,c,null,null);return a.firstCreatePass&&(We(Ge(s,n),a,e.type),ji(a,s),Gi(s,n.length,1)),Xi(n,l),n[20]=l}(h,this.componentDef,v,s,c);if(h)if(n)Oe(c,h,["ng-version",hs.full]);else{var m=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!si(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),g=m.attrs,_=m.classes;g&&Oe(c,h,g),_&&_.length>0&&ei(c,h,_.join(" "))}if(o=Bt(p,20),void 0!==e)for(var b=o.projection=[],w=0;w<this.ngContentSelectors.length;w++){var k=e[w];b.push(null!=k?Array.from(k):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=Xt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),zi(t,r,e,Ei(t,e,1,null),n));var i=en(e,t,r.directiveStart,r);_r(i,e);var o=Vt(r,e);return o&&_r(o,e),i}(o,n,e);if(r.components.push(a),t[8]=a,i&&i.forEach(function(t){return t(a,e)}),e.contentQueries){var s=Xt();e.contentQueries(1,a,s.directiveStart)}var u=Xt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(we(u.index),Bi(n[1],u,0,u.directiveStart,u.directiveEnd,e),qi(e,a)),a}(y,this.componentDef,v,d,[xo]),Ti(p,v,null)}finally{_e()}return new Qs(this.componentType,i,ns(o,v),v,o)}}]),n}(Xa),Qs=function(t){d(n,t);var e=p(n);function n(t,r,i,o,a){var s;return f(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.instance=r,s.hostView=s.changeDetectorRef=new Is(o),s.componentType=t,s}return h(n,[{key:"injector",get:function(){return new on(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(function(){return function t(){f(this,t)}}()),Js=new Map,Xs=function(t){d(n,t);var e=p(n);function n(t,r){var i;f(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=y(i),i.destroyCbs=[],i.componentFactoryResolver=new Ys(y(i));var o=gt(t),a=t[it]||null;return a&&Ga(a),i._bootstrapComponents=xr(o.bootstrap),i._r3Injector=go(t,r,[{provide:Vs,useValue:y(i)},{provide:ts,useValue:i.componentFactoryResolver}],b(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return h(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:To.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j.Default;return t===To||t===Vs||t===ho?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(Vs),$s=function(t){d(n,t);var e=p(n);function n(t){var r,i,o;return f(this,n),(r=e.call(this)).moduleType=t,null!==gt(t)&&(i=t,o=new Set,function t(e){var n=gt(e,!0),r=n.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(b(e)," vs ").concat(b(e.name)))}(r,Js.get(r),e),Js.set(r,e));var i,a=s(xr(n.imports));try{for(a.s();!(i=a.n()).done;){var u=i.value;o.has(u)||(o.add(u),t(u))}}catch(c){a.e(c)}finally{a.f()}}(i)),r}return h(n,[{key:"create",value:function(t){return new Xs(this.moduleType,t)}}]),n}(function(){return function t(){f(this,t)}}());function tu(t,e,n,r){return ru(Zt(),oe(),t,e,n,r)}function eu(t,e,n,r,i){return function(t,e,n,r,i,o,a){var s=e+n;return function(t,e,n,r){var i=Bo(t,e,n);return Bo(t,e+1,r)||i}(t,s,i,o)?Vo(t,s+2,a?r.call(a,i,o):r(i,o)):nu(t,s+2)}(Zt(),oe(),t,e,n,r,i)}function nu(t,e){var n=t[e];return n===di?void 0:n}function ru(t,e,n,r,i,o){var a=e+n;return Bo(t,a,i)?Vo(t,a+1,o?r.call(o,i):r(i)):nu(t,a+1)}function iu(t,e){var n,r=Qt(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new x("302","The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Et(n.type)),a=U(zo);try{var s=je(!1),u=o();return je(s),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(r,Zt(),i,u),u}finally{U(a)}}function ou(t,e,n){var r=t+20,i=Zt(),o=qt(i,r);return function(t,e){return Fo.isWrapped(e)&&(e=Fo.unwrap(e),t[Wt.lFrame.bindingIndex]=di),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?ru(i,oe(),e,o.transform,n,o):o.transform(n))}function au(t){return function(e){setTimeout(t,void 0,e)}}var su=function(t){d(n,t);var e=p(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return f(this,n),(t=e.call(this)).__isAsync=r,t}return h(n,[{key:"emit",value:function(t){i(w(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var o,s,u,c=t,l=e||function(){return null},h=r;if(t&&"object"==typeof t){var f=t;c=null===(o=f.next)||void 0===o?void 0:o.bind(f),l=null===(s=f.error)||void 0===s?void 0:s.bind(f),h=null===(u=f.complete)||void 0===u?void 0:u.bind(f)}this.__isAsync&&(l=au(l),c&&(c=au(c)),h&&(h=au(h)));var d=i(w(n.prototype),"subscribe",this).call(this,{next:c,error:l,complete:h});return t instanceof a.w0&&t.add(d),d}}]),n}(r.x);function uu(){return this._results[No()]()}var cu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f(this,t),this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=No(),r=t.prototype;r[n]||(r[n]=uu)}return h(t,[{key:"changes",get:function(){return this._changes||(this._changes=new su)}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,e){this.dirty=!1;var n=fn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}();Symbol;var lu=function(){function t(e){f(this,t),this.queryList=e,this.matches=null}return h(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),hu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];f(this,t),this.queries=e}return h(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Eu(t,e).matches&&this.queries[e].setDirty()}}]),t}(),fu=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f(this,t),this.predicate=e,this.flags=n,this.read=r},du=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];f(this,t),this.queries=e}return h(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),pu=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;f(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return h(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,vu(e,i)),this.matchTNodeWithReadOption(t,e,tn(e,t,i,!1,!1))}else n===Fs?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,tn(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===is||r===qs||r===Fs&&4&e.type)this.addMatch(e.index,-2);else{var i=tn(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function vu(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function yu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?ns(t,e):4&t.type?Ms(t,e):null}(e,t):-2===n?function(t,e,n){return n===is?ns(e,t):n===Fs?Ms(e,t):n===qs?zs(e,t):void 0}(t,e,r):en(t,t[1],n,e)}function mu(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:yu(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function gu(t,e,n,r){var i=t.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=mu(t,e,i,n),s=0;s<o.length;s+=2){var u=o[s];if(u>0)r.push(a[s/2]);else{for(var c=o[s+1],l=e[-u],h=10;h<l.length;h++){var f=l[h];f[17]===f[3]&&gu(f[1],f,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];gu(v[1],v,c,r)}}}return r}function _u(t){var e=Zt(),n=Qt(),r=le();he(r+1);var i=Eu(n,r);if(t.dirty&&Ut(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?gu(n,e,r,[]):mu(n,e,i,r);t.reset(o,os),t.notifyOnChanges()}return!0}return!1}function bu(t,e,n){var r=Qt();r.firstCreatePass&&(Su(r,new fu(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Cu(r,Zt(),e)}function wu(t,e,n,r){var i=Qt();if(i.firstCreatePass){var o=Xt();Su(i,new fu(e,n,r),o.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Cu(i,Zt(),n)}function ku(){return t=Zt(),e=le(),t[19].queries[e].queryList;var t,e}function Cu(t,e,n){var r=new cu(4==(4&n));Fi(t,e,r,r.destroy),null===e[19]&&(e[19]=new hu),e[19].queries.push(new lu(r))}function Su(t,e,n){null===t.queries&&(t.queries=new du),t.queries.track(new pu(e,n))}function Eu(t,e){return t.queries.getByIndex(e)}function Tu(t,e){return Ms(t,e)}var xu=new ln("Application Initializer"),Iu=function(){var t=function(){function t(e){var n=this;f(this,t),this.appInits=e,this.resolve=es,this.reject=es,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return h(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=function(n){var r=t.appInits[n]();if(ta(r))e.push(r);else if(na(r)){var i=new Promise(function(t,e){r.subscribe({complete:t,error:e})});e.push(i)}},i=0;i<this.appInits.length;i++)r(i);Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Tn(xu,8))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),Au=new ln("AppId"),Du={provide:Au,useFactory:function(){return"".concat(Ru()).concat(Ru()).concat(Ru())},deps:[]};function Ru(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Ou=new ln("Platform Initializer"),Pu=new ln("Platform ID"),Nu=new ln("appBootstrapListener"),Fu=function(){var t=function(){function t(){f(this,t)}return h(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),Lu=new ln("LocaleId"),Mu=new ln("DefaultCurrencyCode"),Vu=function t(e,n){f(this,t),this.ngModuleFactory=e,this.componentFactories=n},Bu=function(t){return new $s(t)},qu=Bu,ju=function(t){return Promise.resolve(Bu(t))},Uu=function(t){var e=Bu(t),n=xr(gt(t).declarations).reduce(function(t,e){var n=mt(e);return n&&t.push(new Zs(n)),t},[]);return new Vu(e,n)},Gu=Uu,zu=function(t){return Promise.resolve(Uu(t))},Hu=function(){var t=function(){function t(){f(this,t),this.compileModuleSync=qu,this.compileModuleAsync=ju,this.compileModuleAndAllComponentsSync=Gu,this.compileModuleAndAllComponentsAsync=zu}return h(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),Yu=Promise.resolve(0);function Wu(t){"undefined"==typeof Zone?Yu.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Ku=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a,u=e.shouldCoalesceRunChangeDetection,c=void 0!==u&&u;if(f(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new su(!1),this.onMicrotaskEmpty=new su(!1),this.onStable=new su(!1),this.onError=new su(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!c&&s,this.shouldCoalesceRunChangeDetection=c,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=J.requestAnimationFrame,e=J.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=function(){!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(J,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,Ju(t),t.isCheckStableRunning=!0,Qu(t),t.isCheckStableRunning=!1},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),Ju(t))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,i,o,a,s){try{return Xu(n),t.invokeTask(i,o,a,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&r(),$u(n)}},onInvoke:function(t,e,i,o,a,s,u){try{return Xu(n),t.invoke(i,o,a,s,u)}finally{n.shouldCoalesceRunChangeDetection&&r(),$u(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Ju(n),Qu(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular(function(){return n.onError.emit(i)}),!1}})}return h(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Zu,es,es);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),Zu={};function Qu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Ju(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Xu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $u(t){t._nesting--,Qu(t)}var tc=function(){function t(){f(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new su,this.onMicrotaskEmpty=new su,this.onStable=new su,this.onError=new su}return h(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),ec=function(){var t=function(){function t(e){var n=this;f(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return h(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Ku.assertNotInAngularZone(),Wu(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Wu(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Tn(Ku))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),nc=function(){var t=function(){function t(){f(this,t),this._applications=new Map,oc.addToWindow(this)}return h(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return oc.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function rc(t){oc=t}var ic,oc=new(function(){function t(){f(this,t)}return h(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),ac=!0,sc=!1;function uc(){return sc=!0,ac}function cc(){if(sc)throw new Error("Cannot enable prod mode after platform setup.");ac=!1}var lc=new ln("AllowMultipleToken"),hc=function t(e,n){f(this,t),this.name=e,this.token=n};function fc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new ln(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=dc();if(!o||o.injector.get(lc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:po,useValue:"platform"});!function(t){if(ic&&!ic.destroyed&&!ic.injector.get(lc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ic=t.get(pc);var e=t.get(Ou,null);e&&e.forEach(function(t){return t()})}(To.create({providers:a,name:r}))}return function(t){var e=dc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function dc(){return ic&&!ic.destroyed?ic:null}var pc=function(){var t=function(){function t(e){f(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return h(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r={ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1},"noop"===n?new tc:("zone.js"===n?void 0:n)||new Ku({enableLongStackTrace:uc(),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),a=[{provide:Ku,useValue:o}];return o.run(function(){var e=To.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Sr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){r.handleError(t)}});n.onDestroy(function(){mc(i._modules,n),t.unsubscribe()})}),function(t,e,r){try{var o=((a=n.injector.get(Iu)).runInitializers(),a.donePromise.then(function(){return Ga(n.injector.get(Lu,"en-US")||"en-US"),i._moduleDoBootstrap(n),n}));return ta(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(r,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=vc({},n);return function(t,e,n){var r=new $s(n);return Promise.resolve(r)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,r)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(yc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(b(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Tn(To))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function vc(t,e){return Array.isArray(e)?e.reduce(vc,t):Object.assign(Object.assign({},t),e)}var yc=function(){var t=function(){function t(e,n,r,i,o){var a=this;f(this,t),this._zone=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new u.y(function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){t.next(a._stable),t.complete()})}),h=new u.y(function(t){var e;a._zone.runOutsideAngular(function(){e=a._zone.onStable.subscribe(function(){Ku.assertNotInAngularZone(),Wu(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){Ku.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,c.T)(s,h.pipe((0,l.B)()))}return h(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Xa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(Vs),o=n.create(To.NULL,[],e||n.selector,i),a=o.location.nativeElement,s=o.injector.get(ec,null),u=s&&o.injector.get(nc);return s&&u&&u.registerApplication(a,s),o.onDestroy(function(){r.detachView(o.hostView),mc(r.components,o),u&&u.unregisterApplication(a)}),this._loadComponent(o),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=s(this._views);try{for(n.s();!(e=n.n()).done;){e.value.detectChanges()}}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;mc(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Nu,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Tn(Ku),Tn(To),Tn(Sr),Tn(ts),Tn(Iu))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function mc(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var gc=function(t){return null},_c=fc(null,"core",[{provide:Pu,useValue:"unknown"},{provide:pc,deps:[To]},{provide:nc,deps:[]},{provide:Fu,deps:[]}]),bc=[{provide:yc,useClass:yc,deps:[Ku,To,Sr,ts,Iu]},{provide:Ks,deps:[Ku],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Iu,useClass:Iu,deps:[[new On,xu]]},{provide:Hu,useClass:Hu,deps:[]},Du,{provide:Cs,useFactory:function(){return Os},deps:[]},{provide:Es,useFactory:function(){return Ps},deps:[]},{provide:Lu,useFactory:function(t){return Ga(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new Rn(Lu),new On,new Pn]]},{provide:Mu,useValue:"USD"}],wc=function(){var t=function t(e){f(this,t)};return t.\u0275fac=function(e){return new(e||t)(Tn(yc))},t.\u0275mod=ft({type:t}),t.\u0275inj=O({providers:bc}),t}()},2607:function(t,e,i){"use strict";i.d(e,{hO:function(){return F},xv:function(){return I},Dh:function(){return x},HU:function(){return k},GT:function(){return T},sI:function(){return P},on:function(){return D},ss:function(){return C},pX:function(){return E},yq:function(){return R}});var s=i(9162),c=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return(0,s.ZT)(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(i(6396).o),l=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.ZT)(e,t),e}(i(1146).v))(c),d=i(6902),p=i(9922),v=i(873),y=i(1992),m=i(7716),g=i(2329);function _(){}t=i.hmd(t);var b=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;f(this,t),this.zone=e,this.delegate=n}return h(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule(function(e){var n=this;r.runGuarded(function(){t.apply(n,[e])})},e,n)}}]),t}(),w=function(){function t(e){f(this,t),this.zone=e,this.task=null}return h(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",_,{},_,_)}),e.pipe((0,p.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout(function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)},10)}}]),t}(),k=function t(e){f(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular(function(){return new b(Zone.current)}),this.insideAngular=e.run(function(){return new b(Zone.current,d.z)})};function C(t){return function(e){return(e=e.lift(new w(t.ngZone))).pipe((0,v.R)(t.outsideAngular),(0,y.Q)(t.insideAngular))}}var S=["ngOnDestroy"],E=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(i,a){return n.runOutsideAngular(function(){var i;if(t[a])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(a,t[a]),t[a];if(S.indexOf(a)>-1)return function(){};var s=e.toPromise().then(function(t){var e=t&&t[a];return"function"==typeof e?e.bind(t):e&&e.then?e.then(function(t){return n.run(function(){return t})}):n.run(function(){return e})});return new Proxy(function(){},{get:function(t,e){return s[e]},apply:function(t,e,n){return s.then(function(t){var e,i=t&&t.apply(void 0,o(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(a,n,i),i})}})})}})},T=function(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype||e).forEach(function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},x=new m.OlP("angularfire2.app.options"),I=new m.OlP("angularfire2.app.nameOrConfig"),A=new m.GfV("6.1.5");function D(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=g.Z.apps.filter(function(t){return t&&t.name===i.name})[0]||n.runOutsideAngular(function(){return g.Z.initializeApp(e,i)});try{JSON.stringify(e)!==JSON.stringify(o.options)&&O("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var R=function(){O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(0,m.X6Q)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function P(e,i,s,c,l){var h,f=globalThis.\u0275AngularfireInstanceCache.get(e)||[],d=r(h=f)||a(h)||u(h)||n(),p=d[0],v=d.slice(1);if(p){try{l.some(function(t,e){var n=v[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error","".concat(i," was already initialized on the ").concat(s.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(m){}return p}var y=c();return globalThis.\u0275AngularfireInstanceCache.set(e,[y].concat(o(l))),y}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var N={provide:function t(){f(this,t)},useFactory:D,deps:[x,m.R0b,[new m.FiY,I]]},F=function(){var t=function(){function t(e){f(this,t),g.Z.registerVersion("angularfire",A.full,e.toString()),g.Z.registerVersion("angular",m.q4F.full)}return h(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:x,useValue:e},{provide:I,useValue:n}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(m.LFG(m.Lbi))},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[N]}),t}()},9759:function(t,e,n){"use strict";var r,i,o=n(4762),a=n(4685),s=n(6034),u=n(300),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.LL("app","Firebase",c),h="@firebase/app",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.Yd("@firebase/app"),p=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,a.p$)(t),this.container=new s.H0(e.name),this._addComponent(new s.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.r3)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}o(new s.wA(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.6.8",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,a.r3)(e,t=t||"[DEFAULT]"))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return d.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&(0,a.ZB)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(p);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,a.ZB)(e,t)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,a.jU)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,a.UG)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),g.apply(void 0,t)};var _=v;!function(t,e){t.INTERNAL.registerComponent(new s.wA("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.27",void 0),t.registerVersion("fire-js","")}(_),e.Z=_},6034:function(t,e,n){"use strict";n.d(e,{wA:function(){return o},H0:function(){return s},zt:function(){return a}});var r=n(4762),i=n(4685),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.CR)(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[1];a===this.normalizeInstanceIdentifier(l[0])&&h.resolve(s)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(s,a),s},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var a=(0,r.XA)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},9192:function(t,e,n){"use strict";var r=n(9759),i=n(6034),o=n(4685),a=n(4762),s=n(300);t=n.hmd(t);var u="";function c(t){u=t}var l,h=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,o.Pz)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,o.cI)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),f=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return(0,o.r3)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h(e)}}catch(n){}return new f},p=d("localStorage"),v=d("sessionStorage"),y=new s.Yd("@firebase/database"),m=(l=1,function(){return l++}),g=function(t){var e=(0,o.dS)(t),n=new o.gQ;n.update(e);var r=n.digest();return o.US.encodeByteArray(r)},_=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var a=e[i];Array.isArray(a)||a&&"object"==typeof a&&"number"==typeof a.length?r+=t.apply(null,a):r+="object"==typeof a?(0,o.Pz)(a):a,r+=" "}return r},b=null,w=!0,k=function(t,e){(0,o.hu)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(y.logLevel=s.in.VERBOSE,b=y.log.bind(y),e&&v.set("logging_enabled",!0)):"function"==typeof t?b=t:(b=null,v.remove("logging_enabled"))},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===w&&(w=!1,null===b&&!0===v.get("logging_enabled")&&k(!0)),b){var n=_.apply(null,t);b(n)}},S=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];C.apply(void 0,(0,a.ev)([t],(0,a.CR)(e)))}},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+_.apply(void 0,(0,a.ev)([],(0,a.CR)(t)));y.error(n)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+_.apply(void 0,(0,a.ev)([],(0,a.CR)(t)));throw y.error(n),new Error(n)},x=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+_.apply(void 0,(0,a.ev)([],(0,a.CR)(t)));y.warn(n)},I=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},A="[MIN_NAME]",D="[MAX_NAME]",R=function(t,e){if(t===e)return 0;if(t===A||e===D)return-1;if(e===A||t===D)return 1;var n=B(t),r=B(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},O=function(t,e){return t===e?0:t<e?-1:1},P=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,o.Pz)(e))},N=function t(e){if("object"!=typeof e||null===e)return(0,o.Pz)(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=(0,o.Pz)(n[a]),i+=":",i+=t(e[n[a]]);return i+"}"},F=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function L(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var M=function(t){var e,n,r,i,a;(0,o.hu)(!I(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},V=new RegExp("^-?(0*)\\d{1,10}$"),B=function(t){if(V.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},q=function(t){try{t()}catch(e){setTimeout(function(){throw x("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},j=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},U=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(function(t){return n.appCheck=t})}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(n,r){setTimeout(function(){e.appCheck?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(function(e){return e.addTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){x('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),G=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(t){return r.auth_=t})}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):new Promise(function(n,r){setTimeout(function(){e.auth_?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)})},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';x(t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),z=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),H=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Y=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=p.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function W(t,e,n){var r;if((0,o.hu)("string"==typeof e,"typeof type must == string"),(0,o.hu)("object"==typeof n,"typeof params must == object"),"websocket"===e)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if("long_polling"!==e)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return L(n,function(t,e){i.push(t+"="+e)}),r+i.join("&")}var K=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),(0,o.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return(0,o.p$)(this.counters_)},t}(),Z={},Q={};function J(t){var e=t.toString();return Z[e]||(Z[e]=new K),Z[e]}var X=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&q(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),$=function(){function t(t,e,n,r,i,o,a){var s=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=S(t),this.stats_=J(e),this.urlFn=function(t){return s.appCheckToken&&(t.ac=s.appCheckToken),W(e,"long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new X(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,o.Yr)()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new tt(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,a.CR)(t,5),i=r[0],o=r[1],s=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,a.CR)(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!((0,o.Yr)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=(0,o.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=(0,o.h$)(e),r=F(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!(0,o.Yr)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=(0,o.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),tt=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.Yr)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){C("frame writing exception"),u.stack&&C(u.stack),C(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||C("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;(0,o.Yr)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){C("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},t}(),et=null;"undefined"!=typeof MozWebSocket?et=MozWebSocket:"undefined"!=typeof WebSocket&&(et=WebSocket);var nt=function(){function t(e,n,r,i,o,a,s){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=S(this.connId),this.stats_=J(n),this.connURL=t.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var i={v:"5"};return!(0,o.Yr)()&&"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),r&&(i.ac=r),W(t,"websocket",i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if((0,o.Yr)()){var r={headers:{"User-Agent":"Firebase/5/"+u+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.nodeAdmin?r.headers.Authorization=this.authToken||"":r.headers["X-Firebase-AppCheck"]=this.appCheckToken||"";var i=process.env,a=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;a&&(r.proxy={origin:a}),this.mySock=new et(this.connURL,[],r)}else this.mySock=new et(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(c){this.log_("Error instantiating WebSocket.");var s=c.message||c.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==et&&!t.forceDisallow_},t.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=(0,o.cI)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if((0,o.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=(0,o.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=F(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),rt=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[$,nt]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=nt&&nt.isAvailable(),o=i&&!nt.previouslyFailed();if(e.webSocketOnly&&(i||x("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[nt];else{var s=this.transports_=[];try{for(var u=(0,a.XA)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),it=function(){function t(t,e,n,r,i,o,a,s,u,c){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=S("c:"+this.id+":"),this.transportManager_=new rt(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=j(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=P("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?E("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&x("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),j(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):j(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),ot=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),at=function(){function t(t){this.allowedEvents_=t,this.listeners_={},(0,o.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=(0,a.ev)([],(0,a.CR)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){(0,o.hu)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),st=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.uI)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return(0,a.ZT)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.hu)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(at),ut=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function ct(){return new ut("")}function lt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ht(t){return t.pieces_.length-t.pieceNum_}function ft(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new ut(t.pieces_,e)}function dt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function pt(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function vt(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ut(e,0)}function yt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ut)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ut(n,0)}function mt(t){return t.pieceNum_>=t.pieces_.length}function gt(t,e){var n=lt(t),r=lt(e);if(null===n)return e;if(n===r)return gt(ft(t),ft(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function _t(t,e){for(var n=pt(t,0),r=pt(e,0),i=0;i<n.length&&i<r.length;i++){var o=R(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function bt(t,e){if(ht(t)!==ht(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function wt(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(ht(t)>ht(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var kt=function(t,e){this.errorPrefix_=e,this.parts_=pt(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.ug)(this.parts_[n]);Ct(this)};function Ct(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+St(t))}function St(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var Et,Tt,xt=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return(0,a.ZT)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(at),It=function(t){function e(n,r,i,a,s,u,c,l){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=e.nextPersistentConnectionId_++,h.log_=S("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=1e3,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!(0,o.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return xt.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&st.getInstance().on("online",h.onOnline_,h),h}return(0,a.ZT)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_((0,o.Pz)(i)),(0,o.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new o.BH,r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[a];void 0!==t&&i===t&&(delete e.outstandingGets_[a],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(a),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var i=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.hu)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&(0,o.r3)(t,"w")){var n=(0,o.DV)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',i=e._path.toString();x("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||(0,o.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=(0,o.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)})},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+(0,o.Pz)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):E("Unrecognized action received from server: "+(0,o.Pz)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;(0,o.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return(0,a.mG)(this,void 0,void 0,function(){var t,n,r,i,s,u,c,l,h,f,d,p,v,y=this;return(0,a.Jh)(this,function(m){switch(m.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,this.realtime_={close:l=function(){c?c.close():(u=!0,r())},sendRequest:function(t){(0,o.hu)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)}},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return f=a.CR.apply(void 0,[m.sent(),2]),d=f[0],p=f[1],u?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=p&&p.token,c=new it(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,function(t){x(t+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")},s)),[3,4];case 3:return v=m.sent(),this.log_("Failed to get token: "+v),u||(this.repoInfo_.nodeAdmin&&x(v),l()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(t){C("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){C("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,o.xb)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return N(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new ut(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){C("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){C("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.XA)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.XA)(s.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";(0,o.Yr)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+u.replace(/\./g,"-")]=1,(0,o.uI)()?t["framework.cordova"]=1:(0,o.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=st.getInstance().currentlyOnline();return(0,o.xb)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(ot),At=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Dt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new At(A,t),r=new At(A,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return At.MIN},t}(),Rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.ZT)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Et},set:function(t){Et=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return R(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw(0,o.g5)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return At.MIN},e.prototype.maxPost=function(){return new At(D,Et)},e.prototype.makePost=function(t,e){return(0,o.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new At(t,Et)},e.prototype.toString=function(){return".key"},e}(Dt),Ot=new Rt,Pt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Nt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Lt.EMPTY_NODE,this.right=null!=o?o:Lt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Lt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Lt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Ft=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Nt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Lt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Nt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Nt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Pt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Pt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Pt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Pt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Ft,t}();function Mt(t,e){return R(t.name,e.name)}function Vt(t,e){return R(t,e)}var Bt,qt,jt,Ut,Gt,zt=function(t){return"number"==typeof t?"number:"+M(t):"string:"+t},Ht=function(t){if(t.isLeafNode()){var e=t.val();(0,o.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,o.r3)(e,".sv"),"Priority must be a string or number.")}else(0,o.hu)(t===Tt||t.isEmpty(),"priority of unexpected type.");(0,o.hu)(t===Tt||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Yt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,o.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ht(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Bt},set:function(t){Bt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return mt(e)?this:".priority"===lt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=lt(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.hu)(".priority"!==r||1===ht(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ft(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+zt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?M(this.value_):this.value_,this.lazyHash_=g(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,o.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(r);return(0,o.hu)(i>=0,"Unknown leaf type: "+n),(0,o.hu)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Wt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.ZT)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?R(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return At.MIN},e.prototype.maxPost=function(){return new At(D,new Yt("[PRIORITY-POST]",jt))},e.prototype.makePost=function(t,e){var n=qt(t);return new At(e,new Yt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Dt)),Kt=Math.log(2),Zt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Kt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Qt=function(t,e,n,r){t.sort(e);var i=function e(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=t[r],a=n?n(o):o,new Nt(a,o.node,Nt.BLACK,null,null);var u=parseInt(s/2,10)+r,c=e(r,u),l=e(u+1,i);return o=t[u],a=n?n(o):o,new Nt(a,o.node,Nt.BLACK,c,l)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],h=n?n(l):l;u(new Nt(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,Nt.BLACK):(s(h,Nt.BLACK),s(h,Nt.RED))}return o}(new Zt(t.length));return new Lt(r||e,o)},Jt={},Xt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return(0,o.hu)(Jt&&Wt,"ChildrenNode.ts has not been loaded"),Ut=Ut||new t({".priority":Jt},{".priority":Wt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=(0,o.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Lt?e:null},t.prototype.hasIndex=function(t){return(0,o.r3)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){(0,o.hu)(e!==Ot,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(At.Wrap),c=u.getNext();c;)s=s||e.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?Qt(i,e.getCompare()):Jt;var l=e.toString(),h=(0,a.pi)({},this.indexSet_);h[l]=e;var f=(0,a.pi)({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t((0,o.UI)(this.indexes_,function(t,i){var a=(0,o.DV)(r.indexSet_,i);if((0,o.hu)(a,"Missing index implementation for "+i),t===Jt){if(a.isDefinedOn(e.node)){for(var s=[],u=n.getIterator(At.Wrap),c=u.getNext();c;)c.name!==e.name&&s.push(c),c=u.getNext();return s.push(e),Qt(s,a.getCompare())}return Jt}var l=n.get(e.name),h=t;return l&&(h=h.remove(new At(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t((0,o.UI)(this.indexes_,function(t){if(t===Jt)return t;var r=n.get(e.name);return r?t.remove(new At(e.name,r)):t}),this.indexSet_)},t}(),$t=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ht(this.priorityNode_),this.children_.isEmpty()&&(0,o.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Gt||(Gt=new t(new Lt(Vt),null,Xt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Gt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Gt:e},t.prototype.getChild=function(t){var e=lt(t);return null===e?this:this.getImmediateChild(e).getChild(ft(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if((0,o.hu)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new At(e,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Gt:this.priorityNode_;return new t(i,s,a)},t.prototype.updateChild=function(t,e){var n=lt(t);if(null===n)return e;(0,o.hu)(".priority"!==lt(t)||1===ht(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ft(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Wt,function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+zt(this.getPriority().val())+":"),this.forEachChild(Wt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":g(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new At(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new At(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new At(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,At.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,At.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===te?-1:0},t.prototype.withIndex=function(e){if(e===Ot||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Ot||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Wt),r=e.getIterator(Wt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Ot?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),te=new(function(t){function e(){return t.call(this,new Lt(Vt),$t.EMPTY_NODE,Xt.Default)||this}return(0,a.ZT)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return $t.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}($t));function ee(t,e){if(void 0===e&&(e=null),null===t)return $t.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,o.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Yt(t,ee(e));if(t instanceof Array){var n=$t.EMPTY_NODE;return L(t,function(e,r){if((0,o.r3)(t,e)&&"."!==e.substring(0,1)){var i=ee(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}}),n.updatePriority(ee(e))}var r=[],i=!1;if(L(t,function(t,e){if("."!==t.substring(0,1)){var n=ee(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new At(t,n)))}}),0===r.length)return $t.EMPTY_NODE;var a=Qt(r,Mt,function(t){return t.name},Vt);if(i){var s=Qt(r,Wt.getCompare());return new $t(a,ee(e),new Xt({".priority":s},{".priority":Wt}))}return new $t(a,ee(e),Xt.Default)}Object.defineProperties(At,{MIN:{value:new At(A,$t.EMPTY_NODE)},MAX:{value:new At(D,te)}}),Rt.__EMPTY_NODE=$t.EMPTY_NODE,Yt.__childrenNodeConstructor=$t,Tt=te,jt=te,qt=ee;var ne,re,ie=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,(0,o.hu)(!mt(e)&&".priority"!==lt(e),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.ZT)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?R(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=ee(t),r=$t.EMPTY_NODE.updateChild(this.indexPath_,n);return new At(e,r)},e.prototype.maxPost=function(){var t=$t.EMPTY_NODE.updateChild(this.indexPath_,te);return new At(D,t)},e.prototype.toString=function(){return pt(this.indexPath_,0).join("/")},e}(Dt),oe=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.ZT)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?R(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return At.MIN},e.prototype.maxPost=function(){return At.MAX},e.prototype.makePost=function(t,e){var n=ee(t);return new At(e,n)},e.prototype.toString=function(){return".value"},e}(Dt)),ae="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",se=(ne=0,re=[],function(t){var e,n=t===ne;ne=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=ae.charAt(t%64),t=Math.floor(t/64);(0,o.hu)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===re[e];e--)re[e]=0;re[e]++}else for(e=0;e<12;e++)re[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=ae.charAt(re[e]);return(0,o.hu)(20===i.length,"nextPushId: Length should be 20."),i}),ue=function(t){if("2147483647"===t)return"-";var e=B(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return D;var o=ae.charAt(ae.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},ce=function(t){if("-2147483648"===t)return A;var e=B(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ae.charAt(ae.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function le(t){return{type:"value",snapshotNode:t}}function he(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function fe(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function de(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var pe=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,a){(0,o.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=a&&(n.isEmpty()?t.hasChild(e)?a.trackChildChange(fe(e,s)):(0,o.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(he(e,n)):a.trackChildChange(de(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Wt,function(t,r){e.hasChild(t)||n.trackChildChange(fe(t,r))}),e.isLeafNode()||e.forEachChild(Wt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(de(e,r,i))}else n.trackChildChange(he(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?$t.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ve=function(){function t(e){this.indexedFilter_=new pe(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new At(e,n))||(n=$t.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=$t.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority($t.EMPTY_NODE);var i=this;return e.forEachChild(Wt,function(t,e){i.matches(new At(t,e))||(r=r.updateImmediateChild(t,$t.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),ye=function(){function t(t){this.rangedFilter_=new ve(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new At(e,n))||(n=$t.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=$t.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=$t.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority($t.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,$t.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(t,e){return s(e,t)}}else a=this.index_.getCompare();var u=t;(0,o.hu)(u.numChildren()===this.limit_,"");var c=new At(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(de(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(fe(e,f));var v=u.updateImmediateChild(e,$t.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(he(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?t:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(fe(l.name,l.node)),i.trackChildChange(he(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,$t.EMPTY_NODE)):t},t}(),me=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Wt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:A},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:D},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return(0,o.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Wt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function ge(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function _e(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function be(t,e){var n=t.copy();return n.index_=e,n}function we(t){var e,n={};return t.isDefault()||(t.index_===Wt?e="$priority":t.index_===oe?e="$value":t.index_===Ot?e="$key":((0,o.hu)(t.index_ instanceof ie,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,o.Pz)(e),t.startSet_&&(n.startAt=(0,o.Pz)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+(0,o.Pz)(t.indexStartName_))),t.endSet_&&(n.endAt=(0,o.Pz)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+(0,o.Pz)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function ke(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Wt&&(e.i=t.index_.toString()),e}var Ce=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=S("p:rest:"),o.listens_={},o}return(0,a.ZT)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:((0,o.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,i){var a=this,s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=we(t._queryParams);this.restRequest_(s+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&a.onDataUpdate_(s,n,!1,r),(0,o.DV)(a.listens_,u)===c&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=we(t._queryParams),r=t._path.toString(),i=new o.BH;return this.restRequest_(r+".json",n,function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(i){var s=(0,a.CR)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(e.auth=u.accessToken),c&&c.token&&(e.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+(0,o.xO)(e);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=(0,o.cI)(h.responseText)}catch(e){x("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,t)}else 401!==h.status&&404!==h.status&&x("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()})},e}(ot),Se=function(){function t(){this.rootNode_=$t.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function Ee(){return{value:null,children:new Map}}function Te(t,e,n){if(mt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=lt(e);t.children.has(r)||t.children.set(r,Ee()),Te(t.children.get(r),e=ft(e),n)}}function xe(t,e){if(mt(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(Wt,function(e,n){Te(t,new ut(e),n)}),xe(t,e)}if(t.children.size>0){var r=lt(e);return e=ft(e),t.children.has(r)&&xe(t.children.get(r),e)&&t.children.delete(r),0===t.children.size}return!0}function Ie(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}(t,function(t,r){Ie(r,new ut(e.toString()+"/"+t),n)})}var Ae=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=(0,a.pi)({},t);return this.last_&&L(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),De=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ae(t);var n=1e4+2e4*Math.random();j(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;L(e,function(e,i){i>0&&(0,o.r3)(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),j(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Re=(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Re||(Re={})),Re);function Oe(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Pe,Ne=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Re.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(mt(this.path)){if(null!=this.affectedTree.value)return(0,o.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ut(e));return new t(ct(),n,this.revert)}return(0,o.hu)(lt(this.path)===e,"operationForChild called for unrelated child."),new t(ft(this.path),this.affectedTree,this.revert)},t}(),Fe=function(){function t(t,e){this.source=t,this.path=e,this.type=Re.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return mt(this.path)?new t(this.source,ct()):new t(this.source,ft(this.path))},t}(),Le=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Re.OVERWRITE}return t.prototype.operationForChild=function(e){return mt(this.path)?new t(this.source,ct(),this.snap.getImmediateChild(e)):new t(this.source,ft(this.path),this.snap)},t}(),Me=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Re.MERGE}return t.prototype.operationForChild=function(e){if(mt(this.path)){var n=this.children.subtree(new ut(e));return n.isEmpty()?null:n.value?new Le(this.source,ct(),n.value):new t(this.source,ct(),n)}return(0,o.hu)(lt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ft(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Ve=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(mt(t))return this.isFullyInitialized()&&!this.filtered_;var e=lt(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Be=function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()};function qe(t,e,n,r,i,a){var s=r.filter(function(t){return t.type===n});s.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw(0,o.g5)("Should only compare child_ events.");var r=new At(e.childName,e.snapshotNode),i=new At(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,e,n)}),s.forEach(function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,a);i.forEach(function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))})})}function je(t,e){return{eventCache:t,serverCache:e}}function Ue(t,e,n,r){return je(new Ve(e,n,r),t.serverCache)}function Ge(t,e,n,r){return je(t.eventCache,new Ve(e,n,r))}function ze(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function He(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Ye=function(){function t(t,e){void 0===e&&(Pe||(Pe=new Lt(O)),e=Pe),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return L(e,function(t,e){n=n.set(new ut(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:ct(),value:this.value};if(mt(t))return null;var n=lt(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ft(t),e);return null!=i?{path:yt(new ut(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(mt(e))return this;var n=lt(e),r=this.children.get(n);return null!==r?r.subtree(ft(e)):new t(null)},t.prototype.set=function(e,n){if(mt(e))return new t(n,this.children);var r=lt(e),i=(this.children.get(r)||new t(null)).set(ft(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(mt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=lt(e),r=this.children.get(n);if(r){var i=r.remove(ft(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(mt(t))return this.value;var e=lt(t),n=this.children.get(e);return n?n.get(ft(t)):null},t.prototype.setTree=function(e,n){if(mt(e))return n;var r,i=lt(e),o=(this.children.get(i)||new t(null)).setTree(ft(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(ct(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(yt(t,r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,ct(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(mt(t))return null;var i=lt(t),o=this.children.get(i);return o?o.findOnPath_(ft(t),yt(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,ct(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(mt(e))return this;this.value&&r(n,this.value);var i=lt(e),o=this.children.get(i);return o?o.foreachOnPath_(ft(e),yt(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(ct(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(yt(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),We=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new Ye(null))},t}();function Ke(t,e,n){if(mt(e))return new We(new Ye(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=gt(i,e);return o=o.updateChild(a,n),new We(t.writeTree_.set(i,o))}var s=new Ye(n),u=t.writeTree_.setTree(e,s);return new We(u)}function Ze(t,e,n){var r=t;return L(n,function(t,n){r=Ke(r,yt(e,t),n)}),r}function Qe(t,e){if(mt(e))return We.empty();var n=t.writeTree_.setTree(e,new Ye(null));return new We(n)}function Je(t,e){return null!=Xe(t,e)}function Xe(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(gt(n.path,e)):null}function $e(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Wt,function(t,n){e.push(new At(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new At(t,n.value))}),e}function tn(t,e){if(mt(e))return t;var n=Xe(t,e);return new We(null!=n?new Ye(n):t.writeTree_.subtree(e))}function en(t){return t.writeTree_.isEmpty()}function nn(t,e){return rn(ct(),t.writeTree_,e)}function rn(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(e,i){".priority"===e?((0,o.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=rn(yt(t,e),i,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(yt(t,".priority"),r)),n}function on(t,e){return yn(e,t)}function an(t,e){if(t.snap)return wt(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&wt(yt(t.path,n),e))return!0;return!1}function sn(t){return t.visible}function un(t,e,n){for(var r=We.empty(),i=0;i<t.length;++i){var a=t[i];if(e(a)){var s=a.path,u=void 0;if(a.snap)wt(n,s)?r=Ke(r,u=gt(n,s),a.snap):wt(s,n)&&(u=gt(s,n),r=Ke(r,ct(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.g5)("WriteRecord should have .snap or .children");if(wt(n,s))r=Ze(r,u=gt(n,s),a.children);else if(wt(s,n))if(mt(u=gt(s,n)))r=Ze(r,ct(),a.children);else{var c=(0,o.DV)(a.children,lt(u));if(c){var l=c.getChild(ft(u));r=Ke(r,ct(),l)}}}}}return r}function cn(t,e,n,r,i){if(r||i){var o=tn(t.visibleWrites,e);return!i&&en(o)?n:i||null!=n||Je(o,ct())?nn(un(t.allWrites,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(wt(t.path,e)||wt(e,t.path))},e),n||$t.EMPTY_NODE):null}var a=Xe(t.visibleWrites,e);if(null!=a)return a;var s=tn(t.visibleWrites,e);return en(s)?n:null!=n||Je(s,ct())?nn(s,n||$t.EMPTY_NODE):null}function ln(t,e,n,r){return cn(t.writeTree,t.treePath,e,n,r)}function hn(t,e){return function(t,e,n){var r=$t.EMPTY_NODE,i=Xe(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Wt,function(t,e){r=r.updateImmediateChild(t,e)}),r;if(n){var o=tn(t.visibleWrites,e);return n.forEachChild(Wt,function(t,e){var n=nn(tn(o,new ut(t)),e);r=r.updateImmediateChild(t,n)}),$e(o).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}return $e(tn(t.visibleWrites,e)).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}(t.writeTree,t.treePath,e)}function fn(t,e,n,r){return function(t,e,n,r,i){(0,o.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=yt(e,n);if(Je(t.visibleWrites,a))return null;var s=tn(t.visibleWrites,a);return en(s)?i.getChild(n):nn(s,i.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function dn(t,e){return function(t,e){return Xe(t.visibleWrites,e)}(t.writeTree,yt(t.treePath,e))}function pn(t,e,n){return function(t,e,n,r){var i=yt(e,n),o=Xe(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?nn(tn(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function vn(t,e){return yn(yt(t.treePath,e),t.writeTree)}function yn(t,e){return{treePath:t,writeTree:e}}var mn=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;(0,o.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,o.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,de(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,fe(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,he(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw(0,o.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,de(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),gn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),_n=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Ve(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:He(this.viewCache_),i=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,a){var s,u=tn(t.visibleWrites,e),c=Xe(u,ct());if(null!=c)s=c;else{if(null==n)return[];s=nn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<1;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(t.writeTree,t.treePath,e,n,0,i,o)}(this.writes_,r,e,0,n,t);return 0===i.length?null:i[0]},t}();function bn(t,e,n,r,i,a){var s=e.eventCache;if(null!=dn(r,n))return e;var u=void 0,c=void 0;if(mt(n))if((0,o.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=He(e),h=hn(r,l instanceof $t?l:$t.EMPTY_NODE);u=t.filter.updateFullNode(e.eventCache.getNode(),h,a)}else{var f=ln(r,He(e));u=t.filter.updateFullNode(e.eventCache.getNode(),f,a)}else{var d=lt(n);if(".priority"===d){(0,o.hu)(1===ht(n),"Can't have a priority with additional path components");var p=s.getNode(),v=fn(r,n,p,c=e.serverCache.getNode());u=null!=v?t.filter.updatePriority(p,v):s.getNode()}else{var y=ft(n),m=void 0;if(s.isCompleteForChild(d)){c=e.serverCache.getNode();var g=fn(r,n,s.getNode(),c);m=null!=g?s.getNode().getImmediateChild(d).updateChild(y,g):s.getNode().getImmediateChild(d)}else m=pn(r,d,e.serverCache);u=null!=m?t.filter.updateChild(s.getNode(),d,m,y,i,a):s.getNode()}}return Ue(e,u,s.isFullyInitialized()||mt(n),t.filter.filtersNodes())}function wn(t,e,n,r,i,o,a,s){var u,c=e.serverCache,l=a?t.filter:t.filter.getIndexedFilter();if(mt(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=lt(n);if(!c.isCompleteForPath(n)&&ht(n)>1)return e;var d=ft(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,gn,null)}var v=Ge(e,u,c.isFullyInitialized()||mt(n),l.filtersNodes());return bn(t,v,n,i,new _n(i,v,o),s)}function kn(t,e,n,r,i,o,a){var s,u,c=e.eventCache,l=new _n(i,e,o);if(mt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,a),s=Ue(e,u,!0,t.filter.filtersNodes());else{var h=lt(n);if(".priority"===h)u=t.filter.updatePriority(e.eventCache.getNode(),r),s=Ue(e,u,c.isFullyInitialized(),c.isFiltered());else{var f=ft(n),d=c.getNode().getImmediateChild(h),p=void 0;if(mt(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===dt(f)&&v.getChild(vt(f)).isEmpty()?v:v.updateChild(f,r):$t.EMPTY_NODE}s=d.equals(p)?e:Ue(e,t.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),t.filter.filtersNodes())}}return s}function Cn(t,e){return t.eventCache.isCompleteForChild(e)}function Sn(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function En(t,e,n,r,i,o,a,s){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,c=e;u=mt(n)?r:new Ye(null).setTree(n,r);var l=e.serverCache.getNode();return u.children.inorderTraversal(function(n,r){if(l.hasChild(n)){var u=Sn(0,e.serverCache.getNode().getImmediateChild(n),r);c=wn(t,c,new ut(n),u,i,o,a,s)}}),u.children.inorderTraversal(function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Sn(0,e.serverCache.getNode().getImmediateChild(n),r);c=wn(t,c,new ut(n),h,i,o,a,s)}}),c}var Tn,xn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new pe(r.getIndex()),o=(n=r).loadsAllData()?new pe(n.getIndex()):n.hasLimit()?new ye(n):new ve(n);this.processor_=function(t){return{filter:t}}(o);var a=e.serverCache,s=e.eventCache,u=i.updateFullNode($t.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode($t.EMPTY_NODE,s.getNode(),null),l=new Ve(u,a.isFullyInitialized(),i.filtersNodes()),h=new Ve(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=je(h,l),this.eventGenerator_=new Be(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function In(t,e){var n=He(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!mt(e)&&!n.getImmediateChild(lt(e)).isEmpty())?n.getChild(e):null}function An(t){return 0===t.eventRegistrations_.length}function Dn(t,e,n){var r=[];if(n){(0,o.hu)(null==e,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)})}if(e){for(var a=[],s=0;s<t.eventRegistrations_.length;++s){var u=t.eventRegistrations_[s];if(u.matches(e)){if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(s+1));break}}else a.push(u)}t.eventRegistrations_=a}else t.eventRegistrations_=[];return r}function Rn(t,e,n,r){e.type===Re.MERGE&&null!==e.source.queryId&&((0,o.hu)(He(t.viewCache_),"We should always have a full cache before handling merges"),(0,o.hu)(ze(t.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=t.viewCache_,u=function(t,e,n,r,i){var a,s,u=new mn;if(n.type===Re.OVERWRITE){var c=n;c.source.fromUser?a=kn(t,e,c.path,c.snap,r,i,u):((0,o.hu)(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.serverCache.isFiltered()&&!mt(c.path),a=wn(t,e,c.path,c.snap,r,i,s,u))}else if(n.type===Re.MERGE){var l=n;l.source.fromUser?a=function(t,e,n,r,i,o,a){var s=e;return r.foreach(function(r,u){var c=yt(n,r);Cn(e,lt(c))&&(s=kn(t,s,c,u,i,o,a))}),r.foreach(function(r,u){var c=yt(n,r);Cn(e,lt(c))||(s=kn(t,s,c,u,i,o,a))}),s}(t,e,l.path,l.children,r,i,u):((0,o.hu)(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.serverCache.isFiltered(),a=En(t,e,l.path,l.children,r,i,s,u))}else if(n.type===Re.ACK_USER_WRITE){var h=n;a=h.revert?function(t,e,n,r,i,a){var s;if(null!=dn(r,n))return e;var u=new _n(r,e,i),c=e.eventCache.getNode(),l=void 0;if(mt(n)||".priority"===lt(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=ln(r,He(e));else{var f=e.serverCache.getNode();(0,o.hu)(f instanceof $t,"serverChildren would be complete if leaf node"),h=hn(r,f)}l=t.filter.updateFullNode(c,h=h,a)}else{var d=lt(n),p=pn(r,d,e.serverCache);null==p&&e.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?t.filter.updateChild(c,d,p,ft(n),u,a):e.eventCache.getNode().hasChild(d)?t.filter.updateChild(c,d,$t.EMPTY_NODE,ft(n),u,a):c).isEmpty()&&e.serverCache.isFullyInitialized()&&(s=ln(r,He(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,s,a))}return s=e.serverCache.isFullyInitialized()||null!=dn(r,ct()),Ue(e,l,s,t.filter.filtersNodes())}(t,e,h.path,r,i,u):function(t,e,n,r,i,o,a){if(null!=dn(i,n))return e;var s=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(mt(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return wn(t,e,n,u.getNode().getChild(n),i,o,s,a);if(mt(n)){var c=new Ye(null);return u.getNode().forEachChild(Ot,function(t,e){c=c.set(new ut(t),e)}),En(t,e,n,c,i,o,s,a)}return e}var l=new Ye(null);return r.foreach(function(t,e){var r=yt(n,t);u.isCompleteForPath(r)&&(l=l.set(t,u.getNode().getChild(r)))}),En(t,e,n,l,i,o,s,a)}(t,e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Re.LISTEN_COMPLETE)throw(0,o.g5)("Unknown operation type: "+n.type);a=function(t,e,n,r,i){var o=e.serverCache;return bn(t,Ge(e,o.getNode(),o.isFullyInitialized()||mt(n),o.isFiltered()),n,r,gn,i)}(t,e,n.path,r,u)}var f=u.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ze(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(le(ze(e)))}}(e,a,f),{viewCache:a,changes:f}}(t.processor_,s,e,n,r);return i=t.processor_,(0,o.hu)((a=u.viewCache).eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.hu)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.hu)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,On(t,u.changes,u.viewCache.eventCache.getNode(),null)}function On(t,e,n,r){return function(t,e,n,r){var i=[],o=[];return e.forEach(function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),qe(t,i,"child_removed",e,r,n),qe(t,i,"child_added",e,r,n),qe(t,i,"child_moved",o,r,n),qe(t,i,"child_changed",e,r,n),qe(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}var Pn,Nn=function(){this.views=new Map};function Fn(t,e,n,r){var i,s,u=e.source.queryId;if(null!==u){var c=t.views.get(u);return(0,o.hu)(null!=c,"SyncTree gave us an op for an invalid query."),Rn(c,e,n,r)}var l=[];try{for(var h=(0,a.XA)(t.views.values()),f=h.next();!f.done;f=h.next())l=l.concat(Rn(c=f.value,e,n,r))}catch(d){i={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function Ln(t,e,n,r,i){var o=t.views.get(e._queryIdentifier);if(!o){var a=ln(n,i?r:null),s=!1;a?s=!0:r instanceof $t?(a=hn(n,r),s=!1):(a=$t.EMPTY_NODE,s=!1);var u=je(new Ve(a,s,!1),new Ve(r,i,!1));return new xn(e,u)}return o}function Mn(t){var e,n,r=[];try{for(var i=(0,a.XA)(t.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Vn(t,e){var n,r,i=null;try{for(var o=(0,a.XA)(t.views.values()),s=o.next();!s.done;s=o.next())i=i||In(s.value,e)}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Bn(t,e){return e._queryParams.loadsAllData()?Un(t):t.views.get(e._queryIdentifier)}function qn(t,e){return null!=Bn(t,e)}function jn(t){return null!=Un(t)}function Un(t){var e,n;try{for(var r=(0,a.XA)(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var Gn=1,zn=function(t){this.listenProvider_=t,this.syncPointTree_=new Ye(null),this.pendingWriteTree_={visibleWrites:We.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Hn(t,e,n,r,i){return function(t,e,n,r,i){(0,o.hu)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ke(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Jn(t,new Le({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Yn(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});(0,o.hu)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=t.allWrites.length-1;i&&s>=0;){var u=t.allWrites[s];u.visible&&(s>=n&&an(u,r.path)?i=!1:wt(r.path,u.path)&&(a=!0)),s--}return!!i&&(a?(function(t){t.visibleWrites=un(t.allWrites,sn,ct()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=Qe(t.visibleWrites,r.path):L(r.children,function(e){t.visibleWrites=Qe(t.visibleWrites,yt(r.path,e))}),!0))}(t.pendingWriteTree_,e)){var i=new Ye(null);return null!=r.snap?i=i.set(ct(),!0):L(r.children,function(t){i=i.set(new ut(t),!0)}),Jn(t,new Ne(r.path,i,n))}return[]}function Wn(t,e,n){return Jn(t,new Le({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Kn(t,e,n,r){var i=e._path,s=t.syncPointTree_.get(i),u=[];if(s&&("default"===e._queryIdentifier||qn(s,e))){var c=function(t,e,n,r){var i,s,u=e._queryIdentifier,c=[],l=[],h=jn(t);if("default"===u)try{for(var f=(0,a.XA)(t.views.entries()),d=f.next();!d.done;d=f.next()){var p,v=(0,a.CR)(d.value,2),y=v[0];l=l.concat(Dn(p=v[1],n,r)),An(p)&&(t.views.delete(y),p.query._queryParams.loadsAllData()||c.push(p.query))}}catch(m){i={error:m}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(p=t.views.get(u))&&(l=l.concat(Dn(p,n,r)),An(p)&&(t.views.delete(u),p.query._queryParams.loadsAllData()||c.push(p.query)));return h&&!jn(t)&&c.push(new((0,o.hu)(Tn,"Reference.ts has not been loaded"),Tn)(e._repo,e._path)),{removed:c,events:l}}(s,e,n,r);0===s.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(i));var l=c.removed;u=c.events;var h=-1!==l.findIndex(function(t){return t._queryParams.loadsAllData()}),f=t.syncPointTree_.findOnPath(i,function(t,e){return jn(e)});if(h&&!f){var d=t.syncPointTree_.subtree(i);if(!d.isEmpty())for(var p=function(t){return t.fold(function(t,e,n){if(e&&jn(e))return[Un(e)];var r=[];return e&&(r=Mn(e)),L(n,function(t,e){r=r.concat(e)}),r})}(d),v=0;v<p.length;++v){var y=p[v],m=y.query,g=tr(t,y);t.listenProvider_.startListening(ar(m),er(t,m),g.hashFn,g.onComplete)}}!f&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(ar(e),null):l.forEach(function(e){var n=t.queryToTagMap.get(nr(e));t.listenProvider_.stopListening(ar(e),n)})),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=nr(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return u}function Zn(t,e,n){var r=e._path,i=null,a=!1;t.syncPointTree_.foreachOnPath(r,function(t,e){var n=gt(t,r);i=i||Vn(e,n),a=a||jn(e)});var s,u=t.syncPointTree_.get(r);u?(a=a||jn(u),i=i||Vn(u,ct())):(u=new Nn,t.syncPointTree_=t.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=$t.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=Vn(e,ct());n&&(i=i.updateImmediateChild(t,n))}));var c=qn(u,e);if(!c&&!e._queryParams.loadsAllData()){var l=nr(e);(0,o.hu)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Gn++;t.queryToTagMap.set(l,h),t.tagToQueryMap.set(h,l)}var f=function(t,e,n,r,i,o){var a=Ln(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),function(t,e){t.eventRegistrations_.push(e)}(a,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Wt,function(t,e){r.push(he(t,e))}),n.isFullyInitialized()&&r.push(le(n.getNode())),On(t,r,n.getNode(),e)}(a,n)}(u,e,n,on(t.pendingWriteTree_,r),i,s);if(!c&&!a){var d=Bn(u,e);f=f.concat(function(t,e,n){var r=e._path,i=er(t,e),a=tr(t,n),s=t.listenProvider_.startListening(ar(e),i,a.hashFn,a.onComplete),u=t.syncPointTree_.subtree(r);if(i)(0,o.hu)(!jn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!mt(t)&&e&&jn(e))return[Un(e).query];var r=[];return e&&(r=r.concat(Mn(e).map(function(t){return t.query}))),L(n,function(t,e){r=r.concat(e)}),r}),l=0;l<c.length;++l){var h=c[l];t.listenProvider_.stopListening(ar(h),er(t,h))}return s}(t,e,d))}return f}function Qn(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,function(t,n){var r=Vn(n,gt(t,e));if(r)return r});return cn(r,e,i,n,!0)}function Jn(t,e){return Xn(e,t.syncPointTree_,null,on(t.pendingWriteTree_,ct()))}function Xn(t,e,n,r){if(mt(t.path))return $n(t,e,n,r);var i=e.get(ct());null==n&&null!=i&&(n=Vn(i,ct()));var o=[],a=lt(t.path),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=vn(r,a);o=o.concat(Xn(s,u,c,l))}return i&&(o=o.concat(Fn(i,t,r,n))),o}function $n(t,e,n,r){var i=e.get(ct());null==n&&null!=i&&(n=Vn(i,ct()));var o=[];return e.children.inorderTraversal(function(e,i){var a=n?n.getImmediateChild(e):null,s=vn(r,e),u=t.operationForChild(e);u&&(o=o.concat($n(u,i,a,s)))}),i&&(o=o.concat(Fn(i,t,r,n))),o}function tr(t,e){var n=e.query,r=er(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||$t.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=rr(t,n);if(r){var i=ir(r),o=i.path,a=i.queryId,s=gt(o,e);return or(t,o,new Fe(Oe(a),s))}return[]}(t,n._path,r):function(t,e){return Jn(t,new Fe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return Kn(t,n,null,i)}}}function er(t,e){var n=nr(e);return t.queryToTagMap.get(n)}function nr(t){return t._path.toString()+"$"+t._queryIdentifier}function rr(t,e){return t.tagToQueryMap.get(e)}function ir(t){var e=t.indexOf("$");return(0,o.hu)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ut(t.substr(0,e))}}function or(t,e,n){var r=t.syncPointTree_.get(e);return(0,o.hu)(r,"Missing sync point for query tag that we're tracking"),Fn(r,n,on(t.pendingWriteTree_,e),null)}function ar(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new((0,o.hu)(Pn,"Reference.ts has not been loaded"),Pn)(t._repo,t._path):t}var sr=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),ur=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=yt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Qn(this.syncTree_,this.path_)},t}(),cr=function(t,e,n){return t&&"object"==typeof t?((0,o.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?lr(t[".sv"],e,n):"object"==typeof t[".sv"]?hr(t[".sv"],e):void(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},lr=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:(0,o.hu)(!1,"Unexpected server value: "+t)}},hr=function(t,e,n){t.hasOwnProperty("increment")||(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&(0,o.hu)(!1,"Unexpected increment value: "+r);var i=e.node();if((0,o.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},fr=function(t,e,n,r){return pr(e,new ur(n,t),r)},dr=function(t,e,n){return pr(t,new sr(e),n)};function pr(t,e,n){var r,i=t.getPriority().val(),o=cr(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=cr(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new Yt(s,ee(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Yt(o))),u.forEachChild(Wt,function(t,i){var o=pr(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}var vr=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n};function yr(t,e){for(var n=e instanceof ut?e:new ut(e),r=t,i=lt(n);null!==i;){var a=(0,o.DV)(r.node.children,i)||{children:{},childCount:0};r=new vr(i,r,a),i=lt(n=ft(n))}return r}function mr(t){return t.node.value}function gr(t,e){t.node.value=e,Cr(t)}function _r(t){return t.node.childCount>0}function br(t,e){L(t.node.children,function(n,r){e(new vr(n,t,r))})}function wr(t,e,n,r){n&&!r&&e(t),br(t,function(t){wr(t,e,!0,r)}),n&&r&&e(t)}function kr(t){return new ut(null===t.parent?t.name:kr(t.parent)+"/"+t.name)}function Cr(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===mr(t)&&!_r(t)}(n),i=(0,o.r3)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Cr(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,Cr(t))}(t.parent,t.name,t)}var Sr=/[\[\].#$\/\u0000-\u001F\u007F]/,Er=/[\[\].#$\u0000-\u001F\u007F]/,Tr=function(t){return"string"==typeof t&&0!==t.length&&!Sr.test(t)},xr=function(t){return"string"==typeof t&&0!==t.length&&!Er.test(t)},Ir=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!I(t)||t&&"object"==typeof t&&(0,o.r3)(t,".sv")},Ar=function(t,e,n,r){r&&void 0===e||Dr((0,o.gK)(t,"value"),e,n)},Dr=function t(e,n,r){var i=r instanceof ut?new kt(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+St(i));if("function"==typeof n)throw new Error(e+"contains a function "+St(i)+" with contents = "+n.toString());if(I(n))throw new Error(e+"contains "+n.toString()+" "+St(i));if("string"==typeof n&&n.length>10485760/3&&(0,o.ug)(n)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+St(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var a=!1,s=!1;if(L(n,function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Tr(n)))throw new Error(e+" contains an invalid key ("+n+") "+St(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,c;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,o.ug)(e),Ct(t)}(i,n),t(e,r,i),c=(u=i).parts_.pop(),u.byteLength_-=(0,o.ug)(c),u.parts_.length>0&&(u.byteLength_-=1)}),a&&s)throw new Error(e+' contains ".value" child '+St(i)+" in addition to actual children.")}},Rr=function(t,e,n,r){if(!r||void 0!==e){var i=(0,o.gK)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var a=[];L(e,function(t,e){var r=new ut(t);if(Dr(i,e,yt(n,r)),".priority"===dt(r)&&!Ir(e))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=pt(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Tr(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(_t);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&wt(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Or=function(t,e,n){if(!n||void 0!==e){if(I(e))throw new Error((0,o.gK)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ir(e))throw new Error((0,o.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Pr=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.gK)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Nr=function(t,e,n,r){if(!(r&&void 0===n||Tr(n)))throw new Error((0,o.gK)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Fr=function(t,e,n,r){if(!(r&&void 0===n||xr(n)))throw new Error((0,o.gK)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Lr=function(t,e){if(".info"===lt(e))throw new Error(t+" failed = Can't modify data under /.info/")},Mr=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Tr(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),xr(t)}(n))throw new Error((0,o.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Vr=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,o.gK)(t,e)+"must be a boolean.")},Br=function(){this.eventLists_=[],this.recursionDepth_=0};function qr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||bt(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function jr(t,e,n){qr(t,n),Gr(t,function(t){return bt(t,e)})}function Ur(t,e,n){qr(t,n),Gr(t,function(t){return wt(t,e)||wt(e,t)})}function Gr(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(zr(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function zr(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();b&&C("event: "+n.toString()),q(r)}}}var Hr=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Br,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ee(),this.transactionQueueTree_=new vr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Yr(t){var e=t.infoData_.getNode(new ut(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Wr(t){return(e=(e={timestamp:Yr(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function Kr(t,e,n,r,i){t.dataUpdateCount++;var a=new ut(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var s=[];if(i)if(r){var u=(0,o.UI)(n,function(t){return ee(t)});s=function(t,e,n,r){var i=rr(t,r);if(i){var o=ir(i),a=o.path,s=o.queryId,u=gt(a,e),c=Ye.fromObject(n);return or(t,a,new Me(Oe(s),u,c))}return[]}(t.serverSyncTree_,a,u,i)}else{var c=ee(n);s=function(t,e,n,r){var i=rr(t,r);if(null!=i){var o=ir(i),a=o.path,s=o.queryId,u=gt(a,e);return or(t,a,new Le(Oe(s),u,n))}return[]}(t.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.UI)(n,function(t){return ee(t)});s=function(t,e,n){var r=Ye.fromObject(n);return Jn(t,new Me({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,a,l)}else{var h=ee(n);s=Wn(t.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=si(t,a)),Ur(t.eventQueue_,f,s)}function Zr(t,e){Qr(t,"connected",e),!1===e&&function(t){ri(t,"onDisconnectEvents");var e=Wr(t),n=Ee();Ie(t.onDisconnect_,ct(),function(r,i){var o=fr(r,i,t.serverSyncTree_,e);Te(n,r,o)});var r=[];Ie(n,ct(),function(e,n){r=r.concat(Wn(t.serverSyncTree_,e,n));var i=fi(t,e);si(t,i)}),t.onDisconnect_=Ee(),Ur(t.eventQueue_,ct(),r)}(t)}function Qr(t,e,n){var r=new ut("/.info/"+e),i=ee(n);t.infoData_.updateSnapshot(r,i);var o=Wn(t.infoSyncTree_,r,i);Ur(t.eventQueue_,r,o)}function Jr(t){return t.nextWriteId_++}function Xr(t,e,n,r,i){ri(t,"set",{path:e.toString(),value:n,priority:r});var o=Wr(t),a=ee(n,r),s=Qn(t.serverSyncTree_,e),u=dr(a,s,o),c=Jr(t),l=Hn(t.serverSyncTree_,e,u,c,!0);qr(t.eventQueue_,l),t.server_.put(e.toString(),a.val(!0),function(n,r){var o="ok"===n;o||x("set at "+e+" failed: "+n);var a=Yn(t.serverSyncTree_,c,!o);Ur(t.eventQueue_,e,a),ii(0,i,n,r)});var h=fi(t,e);si(t,h),Ur(t.eventQueue_,h,[])}function $r(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&xe(t.onDisconnect_,e),ii(0,n,r,i)})}function ti(t,e,n,r){var i=ee(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(n,o){"ok"===n&&Te(t.onDisconnect_,e,i),ii(0,r,n,o)})}function ei(t,e,n){var r;r=".info"===lt(e._path)?Kn(t.infoSyncTree_,e,n):Kn(t.serverSyncTree_,e,n),jr(t.eventQueue_,e._path,r)}function ni(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}function ri(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),C.apply(void 0,(0,a.ev)([r],(0,a.CR)(e)))}function ii(t,e,n,r){e&&q(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}})}function oi(t,e,n){return Qn(t.serverSyncTree_,e,n)||$t.EMPTY_NODE}function ai(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||hi(t,e),mr(e)){var n=ci(t,e);(0,o.hu)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var r=n.map(function(t){return t.currentWriteId}),i=oi(t,e,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.hu)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=gt(e,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=e;t.server_.put(f.toString(),h,function(r){ri(t,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(e){n[e].status=2,i=i.concat(Yn(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push(function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)}),n[e].unwatcher()},s=0;s<n.length;s++)a(s);for(hi(t,yr(t.transactionQueueTree_,e)),ai(t,t.transactionQueueTree_),Ur(t.eventQueue_,e,i),s=0;s<o.length;s++)q(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)n[s].status=3===n[s].status?4:0;else for(x("transaction at "+f.toString()+" failed: "+r),s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r;si(t,e)}},s)}(t,kr(e),n)}else _r(e)&&br(e,function(e){ai(t,e)})}function si(t,e){var n=ui(t,e),r=kr(n);return function(t,e,n){if(0!==e.length){for(var r=[],i=[],a=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),s=function(s){var u,c=e[s],l=gt(n,c.path),h=!1;if((0,o.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,u=c.abortReason,i=i.concat(Yn(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,u="maxretry",i=i.concat(Yn(t.serverSyncTree_,c.currentWriteId,!0));else{var f=oi(t,c.path,a);c.currentInputSnapshot=f;var d=e[s].update(f.val());if(void 0!==d){Dr("transaction failed: Data returned ",d,c.path);var p=ee(d);"object"==typeof d&&null!=d&&(0,o.r3)(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=c.currentWriteId,y=Wr(t),m=dr(p,f,y);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=m,c.currentWriteId=Jr(t),a.splice(a.indexOf(v),1),i=(i=i.concat(Hn(t.serverSyncTree_,c.path,m,c.currentWriteId,c.applyLocally))).concat(Yn(t.serverSyncTree_,v,!0))}else h=!0,u="nodata",i=i.concat(Yn(t.serverSyncTree_,c.currentWriteId,!0))}Ur(t.eventQueue_,n,i),i=[],h&&(e[s].status=2,setTimeout(e[s].unwatcher,Math.floor(0)),e[s].onComplete&&r.push("nodata"===u?function(){return e[s].onComplete(null,!1,e[s].currentInputSnapshot)}:function(){return e[s].onComplete(new Error(u),!1,null)}))},u=0;u<e.length;u++)s(u);for(hi(t,t.transactionQueueTree_),u=0;u<r.length;u++)q(r[u]);ai(t,t.transactionQueueTree_)}}(t,ci(t,n),r),r}function ui(t,e){var n,r=t.transactionQueueTree_;for(n=lt(e);null!==n&&void 0===mr(r);)r=yr(r,n),n=lt(e=ft(e));return r}function ci(t,e){var n=[];return li(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function li(t,e,n){var r=mr(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);br(e,function(e){li(t,e,n)})}function hi(t,e){var n=mr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,gr(e,n.length>0?n:void 0)}br(e,function(e){hi(t,e)})}function fi(t,e){var n=kr(ui(t,e)),r=yr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,function(e){di(t,e)}),di(t,r),wr(r,function(e){di(t,e)}),n}function di(t,e){var n=mr(e);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.hu)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.hu)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Yn(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?gr(e,void 0):n.length=a+1,Ur(t.eventQueue_,kr(e),i),s=0;s<r.length;s++)q(r[s])}}var pi=function(t,e){var n=vi(t),r=n.namespace;return"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&x("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Y(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new ut(n.pathString)}},vi=function(t){var e="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,f)));var d=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=(0,a.XA)(t.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):x("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(l=e.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},yi=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.Pz)(this.snapshot.exportVal())},t}(),mi=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),gi=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return(0,o.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),_i=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new o.BH;return $r(this._repo,this._path,t.wrapCallback(function(){})),t.promise},t.prototype.remove=function(){Lr("OnDisconnect.remove",this._path);var t=new o.BH;return ti(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},t.prototype.set=function(t){Lr("OnDisconnect.set",this._path),Ar("OnDisconnect.set",t,this._path,!1);var e=new o.BH;return ti(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t.prototype.setWithPriority=function(t,e){Lr("OnDisconnect.setWithPriority",this._path),Ar("OnDisconnect.setWithPriority",t,this._path,!1),Or("OnDisconnect.setWithPriority",e,!1);var n=new o.BH;return function(t,e,n,r,i){var o=ee(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(n,r){"ok"===n&&Te(t.onDisconnect_,e,o),ii(0,i,n,r)})}(this._repo,this._path,t,e,n.wrapCallback(function(){})),n.promise},t.prototype.update=function(t){Lr("OnDisconnect.update",this._path),Rr("OnDisconnect.update",t,this._path,!1);var e=new o.BH;return function(t,e,n,r){if((0,o.xb)(n))return C("onDisconnect().update() called with empty data.  Don't do anything."),void ii(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(i,o){"ok"===i&&L(n,function(n,r){var i=ee(r);Te(t.onDisconnect_,yt(e,n),i)}),ii(0,r,i,o)})}(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t}(),bi=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return mt(this._path)?null:dt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Si(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=ke(this._queryParams),e=N(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return ke(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=(0,o.m9)(e))instanceof t))return!1;var n=this._repo===e._repo,r=bt(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function wi(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function ki(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ot){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==A)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==D)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Wt){if(null!=e&&!Ir(e)||null!=n&&!Ir(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.hu)(t.getIndex()instanceof ie||t.getIndex()===oe,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ci(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Si=function(t){function e(e,n){return t.call(this,e,n,new me,!1)||this}return(0,a.ZT)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=vt(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(bi),Ei=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new ut(e),r=Ii(this.ref,e);return new t(this._node.getChild(n),r,Wt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(r,i){return e(new t(i,Ii(n.ref,r),Wt))})},t.prototype.hasChild=function(t){var e=new ut(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function Ti(t,e){return(t=(0,o.m9)(t))._checkNotDeleted("ref"),void 0!==e?Ii(t._root,e):t._root}function xi(t,e){(t=(0,o.m9)(t))._checkNotDeleted("refFromURL");var n=pi(e,t._repo.repoInfo_.nodeAdmin);Mr("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||T("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Ti(t,n.path.toString())}function Ii(t,e){var n;return null===lt((t=(0,o.m9)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Fr("child","path",n,!1)):Fr("child","path",e,!1),new Si(t._repo,yt(t._path,e))}function Ai(t,e){t=(0,o.m9)(t),Lr("push",t._path),Ar("push",e,t._path,!0);var n,r=Yr(t._repo),i=se(r),a=Ii(t,i),s=Ii(t,i);return n=null!=e?Ri(s,e).then(function(){return s}):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Di(t){return Lr("remove",t._path),Ri(t,null)}function Ri(t,e){t=(0,o.m9)(t),Lr("set",t._path),Ar("set",e,t._path,!1);var n=new o.BH;return Xr(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function Oi(t,e){t=(0,o.m9)(t),Lr("setPriority",t._path),Or("setPriority",e,!1);var n=new o.BH;return Xr(t._repo,yt(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function Pi(t,e,n){if(Lr("setWithPriority",t._path),Ar("setWithPriority",e,t._path,!1),Or("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new o.BH;return Xr(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function Ni(t,e){Rr("update",e,t._path,!1);var n=new o.BH;return function(t,e,n,r){ri(t,"update",{path:e.toString(),value:n});var i=!0,a=Wr(t),s={};if(L(n,function(n,r){i=!1,s[n]=fr(yt(e,n),ee(r),t.serverSyncTree_,a)}),i)C("update() called with empty data.  Don't do anything."),ii(0,r,"ok",void 0);else{var u=Jr(t),c=function(t,e,n,r){!function(t,e,n,r){(0,o.hu)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ze(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var i=Ye.fromObject(n);return Jn(t,new Me({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,s,u);qr(t.eventQueue_,c),t.server_.merge(e.toString(),n,function(n,i){var o="ok"===n;o||x("update at "+e+" failed: "+n);var a=Yn(t.serverSyncTree_,u,!o),s=a.length>0?si(t,e):e;Ur(t.eventQueue_,s,a),ii(0,r,n,i)}),L(n,function(n){var r=fi(t,yt(e,n));si(t,r)}),Ur(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}var Fi=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new yi("value",this,new Ei(t.snapshotNode,new Si(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new mi(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Li=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return this.eventType===("children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new mi(this,t,e):null},t.prototype.createEvent=function(t,e){(0,o.hu)(null!=t.childName,"Child events should have a childName.");var n=Ii(new Si(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new yi(t.type,this,new Ei(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function Mi(t,e,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(e,n){ei(t._repo,t,c),a(e,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new gi(n,o||void 0),c="value"===e?new Fi(u):new Li(e,u);return function(t,e,n){var r;r=".info"===lt(e._path)?Zn(t.infoSyncTree_,e,n):Zn(t.serverSyncTree_,e,n),jr(t.eventQueue_,e._path,r)}(t._repo,t,c),function(){return ei(t._repo,t,c)}}function Vi(t,e,n,r){return Mi(t,"value",e,n,r)}function Bi(t,e,n,r){return Mi(t,"child_added",e,n,r)}function qi(t,e,n,r){return Mi(t,"child_changed",e,n,r)}function ji(t,e,n,r){return Mi(t,"child_moved",e,n,r)}function Ui(t,e,n,r){return Mi(t,"child_removed",e,n,r)}function Gi(t,e,n){var r=null,i=n?new gi(n):null;"value"===e?r=new Fi(i):e&&(r=new Li(e,i)),ei(t._repo,t,r)}var zi=function(){},Hi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,a.ZT)(e,t),e.prototype._apply=function(t){Ar("endAt",this._value,t._path,!0);var e=_e(t._queryParams,this._value,this._key);if(Ci(e),ki(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new bi(t._repo,t._path,e,t._orderByCalled)},e}(zi);function Yi(t,e){return Nr("endAt","key",e,!0),new Hi(t,e)}var Wi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,a.ZT)(e,t),e.prototype._apply=function(t){Ar("endBefore",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Ot?("string"==typeof n&&(n=ce(n)),i=_e(e,n,r)):i=_e(e,n,null==r?A:ce(r)),i.endBeforeSet_=!0,i);if(Ci(o),ki(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new bi(t._repo,t._path,o,t._orderByCalled)},e}(zi);function Ki(t,e){return Nr("endBefore","key",e,!0),new Wi(t,e)}var Zi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,a.ZT)(e,t),e.prototype._apply=function(t){Ar("startAt",this._value,t._path,!0);var e=ge(t._queryParams,this._value,this._key);if(Ci(e),ki(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new bi(t._repo,t._path,e,t._orderByCalled)},e}(zi);function Qi(t,e){return void 0===t&&(t=null),Nr("startAt","key",e,!0),new Zi(t,e)}var Ji=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,a.ZT)(e,t),e.prototype._apply=function(t){Ar("startAfter",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Ot?("string"==typeof n&&(n=ue(n)),i=ge(e,n,r)):i=ge(e,n,null==r?D:ue(r)),i.startAfterSet_=!0,i);if(Ci(o),ki(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new bi(t._repo,t._path,o,t._orderByCalled)},e}(zi);function Xi(t,e){return Nr("startAfter","key",e,!0),new Ji(t,e)}var $i=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return(0,a.ZT)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new bi(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="l",n),t._orderByCalled);var e,n},e}(zi);function to(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new $i(t)}var eo=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return(0,a.ZT)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new bi(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="r",n),t._orderByCalled);var e,n},e}(zi);function no(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new eo(t)}var ro=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return(0,a.ZT)(e,t),e.prototype._apply=function(t){wi(t,"orderByChild");var e=new ut(this._path);if(mt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ie(e),r=be(t._queryParams,n);return ki(r),new bi(t._repo,t._path,r,!0)},e}(zi);function io(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Fr("orderByChild","path",t,!1),new ro(t)}var oo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.ZT)(e,t),e.prototype._apply=function(t){wi(t,"orderByKey");var e=be(t._queryParams,Ot);return ki(e),new bi(t._repo,t._path,e,!0)},e}(zi);function ao(){return new oo}var so=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.ZT)(e,t),e.prototype._apply=function(t){wi(t,"orderByPriority");var e=be(t._queryParams,Wt);return ki(e),new bi(t._repo,t._path,e,!0)},e}(zi);function uo(){return new so}var co=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.ZT)(e,t),e.prototype._apply=function(t){wi(t,"orderByValue");var e=be(t._queryParams,oe);return ki(e),new bi(t._repo,t._path,e,!0)},e}(zi);function lo(){return new co}var ho,fo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,a.ZT)(e,t),e.prototype._apply=function(t){if(Ar("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Hi(this._value,this._key)._apply(new Zi(this._value,this._key)._apply(t))},e}(zi);function po(t,e){return Nr("equalTo","key",e,!0),new fo(t,e)}function vo(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.m9)(t);try{for(var u=(0,a.XA)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(h){e={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return s}ho=Si,(0,o.hu)(!Tn,"__referenceConstructor has already been defined"),Tn=ho,function(t){(0,o.hu)(!Pn,"__referenceConstructor has already been defined"),Pn=t}(Si);var yo={},mo=!1;function go(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),C("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a,s=pi(o,i),u=s.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,u=(s=pi(o="http://"+c+"?ns="+u.namespace,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new z(z.OWNER):new G(t.name,t.options,e);Mr("Invalid Firebase Database URL",s),mt(s.path)||T("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n,r){var i=yo[e.name];i||(yo[e.name]=i={});var o=i[t.toURLString()];return o&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Hr(t,mo,n,r),i[t.toURLString()]=o,o}(u,t,l,new U(t.name,n));return new _o(h,t)}var _o=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=J(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Ce(t.repoInfo_,function(e,n,r,i){Kr(t,e,n,r,i)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return Zr(t,!0)},0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.Pz)(n)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}t.persistentConnection_=new It(t.repoInfo_,e,function(e,n,r,i){Kr(t,e,n,r,i)},function(e){Zr(t,e)},function(e){!function(t,e){L(e,function(e,n){Qr(t,e,n)})}(t,e)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var r,i;t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.appCheckProvider_.addTokenChangeListener(function(e){t.server_.refreshAppCheckToken(e.token)}),t.statsReporter_=(r=function(){return new De(t.stats_,t.server_)},i=t.repoInfo_.toString(),Q[i]||(Q[i]=r()),Q[i]),t.infoData_=new Se,t.infoSyncTree_=new zn({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e._path);return a.isEmpty()||(o=Wn(t.infoSyncTree_,e._path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),Qr(t,"connected",!1),t.serverSyncTree_=new zn({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,function(n,r){var o=i(n,r);Ur(t.eventQueue_,e._path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Si(this._repo,ct())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return this._checkNotDeleted("delete"),t=this._repo,(n=yo[e=this.app.name])&&n[t.key]===t||T("Database "+e+"("+t.repoInfo_+") has already been deleted."),ni(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&T("Cannot call "+t+" on a deleted database.")},t}();function bo(t){(t=(0,o.m9)(t))._checkNotDeleted("goOffline"),ni(t._repo)}function wo(t){var e;(t=(0,o.m9)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume("repo_interrupt")}var ko={".sv":"timestamp"},Co=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function So(t,e,n){var r;if(t=(0,o.m9)(t),Lr("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,a=new o.BH,s=Vi(t,function(){});return function(e,n,r,i,s,u){ri(e,"transaction on "+n);var c={path:n,update:r,onComplete:function(e,n,r){var i=null;e?a.reject(e):(i=new Ei(r,new Si(t._repo,t._path),Wt),a.resolve(new Co(n,i)))},status:null,order:m(),applyLocally:u,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=oi(e,n,void 0);c.currentInputSnapshot=l;var h=c.update(l.val());if(void 0===h)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Dr("transaction failed: Data returned ",h,c.path),c.status=0;var f=yr(e.transactionQueueTree_,n),d=mr(f)||[];d.push(c),gr(f,d);var p=void 0;"object"==typeof h&&null!==h&&(0,o.r3)(h,".priority")?(p=(0,o.DV)(h,".priority"),(0,o.hu)(Ir(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(Qn(e.serverSyncTree_,n)||$t.EMPTY_NODE).getPriority().val();var v=Wr(e),y=ee(h,p),g=dr(y,l,v);c.currentOutputSnapshotRaw=y,c.currentOutputSnapshotResolved=g,c.currentWriteId=Jr(e);var _=Hn(e.serverSyncTree_,n,g,c.currentWriteId,c.applyLocally);Ur(e.eventQueue_,n,_),ai(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,s,i),a.promise}var Eo=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){(0,o.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,o.Wj)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.remove=function(t){(0,o.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,o.Wj)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.set=function(t,e){(0,o.Dv)("OnDisconnect.set",1,2,arguments.length),(0,o.Wj)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},t.prototype.setWithPriority=function(t,e,n){(0,o.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},t.prototype.update=function(t,e){if((0,o.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,x("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.Wj)("OnDisconnect.update","onComplete",e,!0);var i=this._delegate.update(t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},t}(),To=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return(0,o.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),xo=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return(0,o.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return(0,o.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return(0,o.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return(0,o.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return(0,o.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),Fr("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return(0,o.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Fr("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return(0,o.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return(0,o.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,o.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return(0,o.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return(0,o.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return(0,o.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ao(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Io=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,i){var a,s=this;(0,o.Dv)("Query.on",2,4,arguments.length),(0,o.Wj)("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",r,i),c=function(t,e){n.call(u.context,new xo(s.database,t),e)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(e){case"value":return Vi(this._delegate,c,l),n;case"child_added":return Bi(this._delegate,c,l),n;case"child_removed":return Ui(this._delegate,c,l),n;case"child_changed":return qi(this._delegate,c,l),n;case"child_moved":return ji(this._delegate,c,l),n;default:throw new Error((0,o.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if((0,o.Dv)("Query.off",0,3,arguments.length),Pr("Query.off",t,!0),(0,o.Wj)("Query.off","callback",e,!0),(0,o.lb)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,Gi(this._delegate,t,r)}else Gi(this._delegate,t)},t.prototype.get=function(){var t=this;return function(t){return function(t,e){var n=function(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var i=gt(t,n);r=r||Vn(e,i)});var i=t.syncPointTree_.get(n);i?r=r||Vn(i,ct()):(i=new Nn,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,a=o?new Ve(r,!0,!1):null;return ze(Ln(i,e,on(t.pendingWriteTree_,e._path),o?a.getNode():$t.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(function(n){var r=ee(n).withIndex(e._queryParams.getIndex()),i=Wn(t.serverSyncTree_,e._path,r);return jr(t.eventQueue_,e._path,i),Promise.resolve(r)},function(n){return ri(t,"get for query "+(0,o.Pz)(e)+" failed: "+n),Promise.reject(new Error(n))})}((t=(0,o.m9)(t))._repo,t).then(function(e){return new Ei(e,new Si(t._repo,t._path),t._queryParams.getIndex())})}(this._delegate).then(function(e){return new xo(t.database,e)})},t.prototype.once=function(e,n,r,i){var a=this;(0,o.Dv)("Query.once",1,4,arguments.length),(0,o.Wj)("Query.once","callback",n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),u=new o.BH,c=function(t,e){var r=new xo(a.database,t);n&&n.call(s.context,r,e),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(t){s.cancel&&s.cancel.call(s.context,t),u.reject(t)};switch(e){case"value":Vi(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":Bi(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":Ui(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":qi(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":ji(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return(0,o.Dv)("Query.limitToFirst",1,1,arguments.length),new t(this.database,vo(this._delegate,to(e)))},t.prototype.limitToLast=function(e){return(0,o.Dv)("Query.limitToLast",1,1,arguments.length),new t(this.database,vo(this._delegate,no(e)))},t.prototype.orderByChild=function(e){return(0,o.Dv)("Query.orderByChild",1,1,arguments.length),new t(this.database,vo(this._delegate,io(e)))},t.prototype.orderByKey=function(){return(0,o.Dv)("Query.orderByKey",0,0,arguments.length),new t(this.database,vo(this._delegate,ao()))},t.prototype.orderByPriority=function(){return(0,o.Dv)("Query.orderByPriority",0,0,arguments.length),new t(this.database,vo(this._delegate,uo()))},t.prototype.orderByValue=function(){return(0,o.Dv)("Query.orderByValue",0,0,arguments.length),new t(this.database,vo(this._delegate,lo()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),(0,o.Dv)("Query.startAt",0,2,arguments.length),new t(this.database,vo(this._delegate,Qi(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),(0,o.Dv)("Query.startAfter",0,2,arguments.length),new t(this.database,vo(this._delegate,Xi(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),(0,o.Dv)("Query.endAt",0,2,arguments.length),new t(this.database,vo(this._delegate,Yi(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),(0,o.Dv)("Query.endBefore",0,2,arguments.length),new t(this.database,vo(this._delegate,Ki(e,n)))},t.prototype.equalTo=function(e,n){return(0,o.Dv)("Query.equalTo",1,2,arguments.length),new t(this.database,vo(this._delegate,po(e,n)))},t.prototype.toString=function(){return(0,o.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return(0,o.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if((0,o.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,(0,o.Wj)(t,"cancel",r.cancel,!0),r.context=n,(0,o.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,o.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new Ao(this.database,new Si(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),Ao=function(t){function e(e,n){var r=t.call(this,e,new bi(n._repo,n._path,new me,!1))||this;return r.database=e,r._delegate=n,r}return(0,a.ZT)(e,t),e.prototype.getKey=function(){return(0,o.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return(0,o.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,Ii(this._delegate,t))},e.prototype.getParent=function(){(0,o.Dv)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return(0,o.Dv)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){(0,o.Dv)("Reference.set",1,2,arguments.length),(0,o.Wj)("Reference.set","onComplete",e,!0);var n=Ri(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.update=function(t,e){if((0,o.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,x("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Lr("Reference.update",this._delegate._path),(0,o.Wj)("Reference.update","onComplete",e,!0);var i=Ni(this._delegate,t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},e.prototype.setWithPriority=function(t,e,n){(0,o.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,o.Wj)("Reference.setWithPriority","onComplete",n,!0);var r=Pi(this._delegate,t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},e.prototype.remove=function(t){(0,o.Dv)("Reference.remove",0,1,arguments.length),(0,o.Wj)("Reference.remove","onComplete",t,!0);var e=Di(this._delegate);return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},e.prototype.transaction=function(t,e,n){var r=this;(0,o.Dv)("Reference.transaction",1,3,arguments.length),(0,o.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,o.Wj)("Reference.transaction","onComplete",e,!0),Vr("Reference.transaction","applyLocally",n,!0);var i=So(this._delegate,t,{applyLocally:n}).then(function(t){return new To(t.committed,new xo(r.database,t.snapshot))});return e&&i.then(function(t){return e(null,t.committed,t.snapshot)},function(t){return e(t,!1,null)}),i},e.prototype.setPriority=function(t,e){(0,o.Dv)("Reference.setPriority",1,2,arguments.length),(0,o.Wj)("Reference.setPriority","onComplete",e,!0);var n=Oi(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.push=function(t,n){var r=this;(0,o.Dv)("Reference.push",0,2,arguments.length),(0,o.Wj)("Reference.push","onComplete",n,!0);var i=Ai(this._delegate,t),a=i.then(function(t){return new e(r.database,t)});n&&a.then(function(){return n(null)},function(t){return n(t)});var s=new e(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},e.prototype.onDisconnect=function(){return Lr("Reference.onDisconnect",this._delegate._path),new Eo(new _i(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Io),Do=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),(t=(0,o.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&T("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&T('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new z(z.OWNER);else if(r.mockUserToken){var s=(0,o.Sg)(r.mockUserToken,t.app.options.projectId);a=new z(s)}!function(t,e,n,r){t.repoInfo_=new Y(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(i,e,n,a)}(this._delegate,t,e,n)},t.prototype.ref=function(t){if((0,o.Dv)("database.ref",0,1,arguments.length),t instanceof Ao){var e=xi(this._delegate,t.toString());return new Ao(this,e)}return e=Ti(this._delegate,t),new Ao(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";(0,o.Dv)(e,1,1,arguments.length);var n=xi(this._delegate,t);return new Ao(this,n)},t.prototype.goOffline=function(){return(0,o.Dv)("database.goOffline",0,0,arguments.length),bo(this._delegate)},t.prototype.goOnline=function(){return(0,o.Dv)("database.goOnline",0,0,arguments.length),wo(this._delegate)},t.ServerValue={TIMESTAMP:ko,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),Ro=Object.freeze({__proto__:null,forceLongPolling:function(){nt.forceDisallow(),$.forceAllow()},forceWebSockets:function(){$.forceDisallow()},isWebSocketsAvailable:function(){return nt.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Ae(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);L(n,function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)})}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,s=void 0!==a&&a;c(t.version);var u=new i.zt("auth-internal",new i.H0("database-standalone"));return u.setComponent(new i.wA("auth-internal",function(){return r},"PRIVATE")),{instance:new Do(go(e,u,void 0,n,s),e),namespace:o}}}),Oo=It;It.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},It.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Po=Object.freeze({__proto__:null,DataConnection:Oo,RealTimeConnection:it,hijackHash:function(t){var e=It.prototype.put;return It.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){It.prototype.put=e}},ConnectionTarget:Y,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){mo=t}(t)}}),No=Do.ServerValue;!function(e){c(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i.wA("database",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Do(go(r,i,o,n),r)},"PUBLIC").setServiceProps({Reference:Ao,Query:Io,Database:Do,DataSnapshot:xo,enableLogging:k,INTERNAL:Ro,ServerValue:No,TEST_ACCESS:Po}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.10.5"),(0,o.Yr)()&&(t.exports=n)}(r.Z)},300:function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,{in:function(){return a},Yd:function(){return h},Ub:function(){return f},Am:function(){return d}});var o=[],a=(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(a||(a={})),a),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},4685:function(t,e,n){"use strict";n.d(e,{BH:function(){return f},LL:function(){return E},gQ:function(){return V},hu:function(){return i},g5:function(){return o},US:function(){return s},h$:function(){return u},r3:function(){return P},Sg:function(){return d},ne:function(){return B},p$:function(){return l},ZB:function(){return h},gK:function(){return G},m9:function(){return K},z$:function(){return p},GJ:function(){return O},jU:function(){return m},ru:function(){return g},d:function(){return b},xb:function(){return F},w1:function(){return w},uI:function(){return v},UG:function(){return y},Yr:function(){return C},b$:function(){return _},Mn:function(){return k},w9:function(){return R},cI:function(){return I},UI:function(){return L},xO:function(){return M},DV:function(){return N},ug:function(){return W},dS:function(){return Y},Pz:function(){return A},Dv:function(){return U},Wj:function(){return z},lb:function(){return H}});var r=n(4762),i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){var e=a(t);return s.encodeByteArray(e,!0)},c=function(t){try{return s.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var f=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function d(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[s.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),s.encodeString(JSON.stringify(a),!1),""].join(".")}function p(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())}function y(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function m(){return"object"==typeof self&&self.self===self}function g(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function _(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return p().indexOf("Electron/")>=0}function w(){var t=p();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function k(){return p().indexOf("MSAppHost/")>=0}function C(){return!1}var S=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,E.prototype.create),o}return(0,r.ZT)(e,t),e}(Error),E=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?T(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new S(i,s,r);return u},t}();function T(t,e){return t.replace(x,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var x=/\{\$([^}]+)}/g;function I(t){return JSON.parse(t)}function A(t){return JSON.stringify(t)}var D=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=I(c(o[0])||""),n=I(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},R=function(t){var e=D(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},O=function(t){var e=D(t).claims;return"object"==typeof e&&!0===e.admin};function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function N(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function F(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function L(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function M(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var V=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^s&(u^c),o=1518500249):(i=s^u^c,o=1859775393):r<60?(i=s&u|c&(s|u),o=2400959708):(i=s^u^c,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function B(t,e){var n=new q(t,e);return n.subscribe.bind(n)}var q=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=j),void 0===r.error&&(r.error=j),void 0===r.complete&&(r.complete=j);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function j(){}var U=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function G(t,e){return t+" failed: "+e+" argument "}function z(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(G(t,e)+"must be a valid function.")}function H(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(G(t,e)+"must be a valid context object.")}var Y=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},W=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function K(t){return t&&t._delegate?t._delegate:t}},2329:function(t,e,n){"use strict";n.d(e,{Z:function(){return r.Z}});var r=n(9759);r.Z.registerVersion("firebase","8.6.8","app"),r.Z.SDK_VERSION="8.6.8"},1776:function(t,e,n){"use strict";n.d(e,{y:function(){return l}});var r=n(2049),i=n(8839),o=n(8794),a=n(2738);function s(t){return 0===t.length?a.y:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}}var u=n(6806),c=n(8853),l=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var o,a=(o=t)&&o instanceof r.Lv||function(t){return t&&(0,c.m)(t.next)&&(0,c.m)(t.error)&&(0,c.m)(t.complete)}(o)&&(0,i.Nn)(o)?t:new r.Hp(t,e,n);if(u.v.useDeprecatedSynchronousErrorHandling)this._deprecatedSyncErrorSubscribe(a);else{var s=this.operator,l=this.source;a.add(s?s.call(a,l):l?this._subscribe(a):this._trySubscribe(a))}return a},t.prototype._deprecatedSyncErrorSubscribe=function(t){var e=t;e._syncErrorHack_isSubscribing=!0;var n=this.operator;if(n)t.add(n.call(t,this.source));else try{t.add(this._subscribe(t))}catch(i){e.__syncError=i}for(var r=e;r;){if("__syncError"in r)try{throw r.__syncError}finally{t.unsubscribe()}r=r.destination}e._syncErrorHack_isSubscribing=!1},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=h(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),null==i||i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[o.L]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length?s(t)(this):this},t.prototype.toPromise=function(t){var e=this;return new(t=h(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function h(t){var e;return null!==(e=null!=t?t:u.v.Promise)&&void 0!==e?e:Promise}},6889:function(t,e,n){"use strict";n.d(e,{x:function(){return u}});var r=n(9162),i=n(1776),o=n(8839),a=(0,n(3864).d)(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),s=n(5850),u=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return(0,r.ZT)(e,t),e.prototype.lift=function(t){var e=new c(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new a},e.prototype.next=function(t){var e,n;if(this._throwIfClosed(),!this.isStopped){var i=this.observers.slice();try{for(var o=(0,r.XA)(i),a=o.next();!a.done;a=o.next())a.value.next(t)}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}},e.prototype.error=function(t){if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;for(var e=this.observers;e.length;)e.shift().error(t)}},e.prototype.complete=function(){if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;for(var t=this.observers;t.length;)t.shift().complete()}},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this.observers;return this.hasError||this.isStopped?o.Lc:(e.push(t),new o.w0(function(){return(0,s.P)(e,t)}))},e.prototype._checkFinalizedStatuses=function(t){var e=this.isStopped;this.hasError?t.error(this.thrownError):e&&t.complete()},e.prototype.asObservable=function(){var t=new i.y;return t.source=this,t},e.create=function(t,e){return new c(t,e)},e}(i.y),c=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return(0,r.ZT)(e,t),e.prototype.next=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)},e.prototype.error=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:o.Lc},e}(u)},2049:function(t,e,n){"use strict";n.d(e,{Hp:function(){return d},Lv:function(){return f}});var r=n(9162),i=n(8853),o=n(8839),a=n(6806),s=n(8550),u=n(6186),c=l("C",void 0,void 0);function l(t,e,n){return{kind:t,value:e,error:n}}var h=n(9385),f=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,(0,o.Nn)(e)&&e.add(n)):n.destination=m,n}return(0,r.ZT)(e,t),e.create=function(t,e,n){return new d(t,e,n)},e.prototype.next=function(t){this.isStopped?y(function(t){return l("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?y(l("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?y(c,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(o.w0),d=function(t){function e(e,n,r){var o,s=t.call(this)||this;if((0,i.m)(e))o=e;else if(e){var c;o=e.next,n=e.error,r=e.complete,s&&a.v.useDeprecatedNextContext?(c=Object.create(e)).unsubscribe=function(){return s.unsubscribe()}:c=e,o=null==o?void 0:o.bind(c),n=null==n?void 0:n.bind(c),r=null==r?void 0:r.bind(c)}return s.destination={next:o?p(o,s):u.Z,error:p(null!=n?n:v,s),complete:r?p(r,s):u.Z},s}return(0,r.ZT)(e,t),e}(f);function p(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{t.apply(void 0,(0,r.ev)([],(0,r.CR)(n)))}catch(o){if(a.v.useDeprecatedSynchronousErrorHandling){if(!e._syncErrorHack_isSubscribing)throw o;e.__syncError=o}else(0,s.h)(o)}}}function v(t){throw t}function y(t,e){var n=a.v.onStoppedNotification;n&&h.z.setTimeout(function(){return n(t,e)})}var m={closed:!0,next:u.Z,error:v,complete:u.Z}},8839:function(t,e,n){"use strict";n.d(e,{Lc:function(){return u},w0:function(){return s},Nn:function(){return c}});var r=n(9162),i=n(8853),o=(0,n(3864).d)(function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}),a=n(5850),s=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}var e;return t.prototype.unsubscribe=function(){var t,e,n,a,s;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var c=(0,r.XA)(u),h=c.next();!h.done;h=c.next())h.value.remove(this)}catch(m){t={error:m}}finally{try{h&&!h.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}else u.remove(this);var f=this.initialTeardown;if((0,i.m)(f))try{f()}catch(g){s=g instanceof o?g.errors:[g]}var d=this._teardowns;if(d){this._teardowns=null;try{for(var p=(0,r.XA)(d),v=p.next();!v.done;v=p.next()){var y=v.value;try{l(y)}catch(_){s=null!=s?s:[],_ instanceof o?s=(0,r.ev)((0,r.ev)([],(0,r.CR)(s)),(0,r.CR)(_.errors)):s.push(_)}}}catch(b){n={error:b}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(n)throw n.error}}}if(s)throw new o(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)l(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&(0,a.P)(e,t)},t.prototype.remove=function(e){var n=this._teardowns;n&&(0,a.P)(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),u=s.EMPTY;function c(t){return t instanceof s||t&&"closed"in t&&(0,i.m)(t.remove)&&(0,i.m)(t.add)&&(0,i.m)(t.unsubscribe)}function l(t){(0,i.m)(t)?t():t.unsubscribe()}},6806:function(t,e,n){"use strict";n.d(e,{v:function(){return r}});var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6149:function(t,e,n){"use strict";n.d(e,{E:function(){return r}});var r=new(n(1776).y)(function(t){return t.complete()})},8476:function(t,e,n){"use strict";n.d(e,{Dp:function(){return b},OO:function(){return k},Xf:function(){return w}});var r=n(9162),i=n(4297),o=n(8853);function a(t){return(0,o.m)(null==t?void 0:t.then)}var s=n(8794),u=n(1776),c=n(8839),l=n(2504),h="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function f(t,e){if(!t)throw new Error("Iterable cannot be null");return new u.y(function(n){var r=new c.w0;return r.add(e.schedule(function(){var i=t[Symbol.asyncIterator]();r.add(e.schedule(function(){var t=this;i.next().then(function(e){e.done?n.complete():(n.next(e.value),t.schedule())})}))})),r})}function d(t){return(0,o.m)(t[s.L])}function p(t){return(0,o.m)(null==t?void 0:t[h])}function v(t){return Symbol.asyncIterator&&(0,o.m)(null==t?void 0:t[Symbol.asyncIterator])}function y(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function m(t){return(0,r.FC)(this,arguments,function(){var e,n,i;return(0,r.Jh)(this,function(o){switch(o.label){case 0:e=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,(0,r.qq)(e.read())];case 3:return n=o.sent(),i=n.value,n.done?[4,(0,r.qq)(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,(0,r.qq)(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function g(t){return(0,o.m)(null==t?void 0:t.getReader)}var _=n(8550);function b(t,e){return e?function(t,e){if(null!=t){if(d(t))return function(t,e){return new u.y(function(n){var r=new c.w0;return r.add(e.schedule(function(){var i=t[s.L]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if((0,i.z)(t))return(0,l.r)(t,e);if(a(t))return function(t,e){return new u.y(function(n){return e.schedule(function(){return t.then(function(t){n.add(e.schedule(function(){n.next(t),n.add(e.schedule(function(){return n.complete()}))}))},function(t){n.add(e.schedule(function(){return n.error(t)}))})})})}(t,e);if(v(t))return f(t,e);if(p(t))return function(t,e){return new u.y(function(n){var r;return n.add(e.schedule(function(){r=t[h](),function(t,e,n,r){void 0===r&&(r=0);var i=e.schedule(function(){try{n.call(this)}catch(e){t.error(e)}},r);t.add(i)}(n,e,function(){var t=r.next(),e=t.value;t.done?n.complete():(n.next(e),this.schedule())})})),function(){return(0,o.m)(null==r?void 0:r.return)&&r.return()}})}(t,e);if(g(t))return function(t,e){return f(m(t),e)}(t,e)}throw y(t)}(t,e):w(t)}function w(t){if(t instanceof u.y)return t;if(null!=t){if(d(t))return c=t,new u.y(function(t){var e=c[s.L]();if((0,o.m)(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if((0,i.z)(t))return k(t);if(a(t))return n=t,new u.y(function(t){n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,_.h)});if(v(t))return C(t);if(p(t))return e=t,new u.y(function(t){var n,i;try{for(var o=(0,r.XA)(e),a=o.next();!a.done;a=o.next())if(t.next(a.value),t.closed)return}catch(s){n={error:s}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}t.complete()});if(g(t))return C(m(t))}var e,n,c;throw y(t)}function k(t){return new u.y(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function C(t){return new u.y(function(e){(function(t,e){var n,i,o,a;return(0,r.mG)(this,void 0,void 0,function(){var s;return(0,r.Jh)(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=(0,r.KL)(t),u.label=1;case 1:return[4,n.next()];case 2:if((i=u.sent()).done)return[3,4];if(e.next(i.value),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),o={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),i&&!i.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})})(t,e).catch(function(t){return e.error(t)})})}},5994:function(t,e,n){"use strict";n.d(e,{h:function(){return o}});var r=n(2504),i=n(8476);function o(t,e){return e?(0,r.r)(t,e):(0,i.OO)(t)}},3763:function(t,e,n){"use strict";n.d(e,{T:function(){return u}});var r=n(23),i=n(5994),o=n(8476),a=n(6149),s=n(3856);function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,s.yG)(t),u=(0,s._6)(t,1/0),c=t;return c.length?1===c.length?(0,o.Xf)(c[0]):(0,r.J)(u)((0,i.h)(c,n)):a.E}},5076:function(t,e,n){"use strict";n.d(e,{Q:function(){return i}});var r=n(9162),i=function(t){function e(e,n,r,i,o){var a=t.call(this,e)||this;return a.onFinalize=o,a._next=n?function(t){try{n(t)}catch(r){e.error(r)}}:t.prototype._next,a._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,a._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,a}return(0,r.ZT)(e,t),e.prototype.unsubscribe=function(){var e,n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))},e}(n(2049).Lv)},5207:function(t,e,n){"use strict";n.d(e,{U:function(){return o}});var r=n(424),i=n(5076);function o(t,e){return(0,r.e)(function(n,r){var o=0;n.subscribe(new i.Q(r,function(n){r.next(t.call(e,n,o++))}))})}},23:function(t,e,n){"use strict";n.d(e,{J:function(){return o}});var r=n(7216),i=n(2738);function o(t){return void 0===t&&(t=1/0),(0,r.z)(i.y,t)}},7216:function(t,e,n){"use strict";n.d(e,{z:function(){return u}});var r=n(5207),i=n(8476),o=n(424),a=n(5076),s=n(8853);function u(t,e,n){return void 0===n&&(n=1/0),(0,s.m)(e)?u(function(n,o){return(0,r.U)(function(t,r){return e(n,t,o,r)})((0,i.Xf)(t(n,o)))},n):("number"==typeof e&&(n=e),(0,o.e)(function(e,r){return function(t,e,n,r,o,s,u,c){var l=[],h=0,f=0,d=!1,p=function(){!d||l.length||h||e.complete()},v=function t(o){h++;var s=!1;(0,i.Xf)(n(o,f++)).subscribe(new a.Q(e,function(t){e.next(t)},function(){s=!0},void 0,function(){if(s)try{for(h--;l.length&&h<r;)n=l.shift(),t(n);p()}catch(i){e.error(i)}var n}))};return t.subscribe(new a.Q(e,function(t){return h<r?v(t):l.push(t)},function(){d=!0,p()})),function(){}}(e,r,t,n)}))}},1992:function(t,e,n){"use strict";n.d(e,{Q:function(){return o}});var r=n(424),i=n(5076);function o(t,e){return void 0===e&&(e=0),(0,r.e)(function(n,r){n.subscribe(new i.Q(r,function(n){return r.add(t.schedule(function(){return r.next(n)},e))},function(){return r.add(t.schedule(function(){return r.complete()},e))},function(n){return r.add(t.schedule(function(){return r.error(n)},e))}))})}},8047:function(t,e,n){"use strict";n.d(e,{B:function(){return c}});var r=n(9162),i=n(8476),o=n(4294),a=n(6889),s=n(2049),u=n(424);function c(t){void 0===t&&(t={});var e=t.connector,n=void 0===e?function(){return new a.x}:e,r=t.resetOnError,o=void 0===r||r,c=t.resetOnComplete,h=void 0===c||c,f=t.resetOnRefCountZero,d=void 0===f||f;return function(t){var e=null,r=null,a=null,c=0,f=!1,p=!1,v=function(){null==r||r.unsubscribe(),r=null},y=function(){v(),e=a=null,f=p=!1},m=function(){var t=e;y(),null==t||t.unsubscribe()};return(0,u.e)(function(t,u){c++,p||f||v();var g=a=null!=a?a:n();u.add(function(){0!=--c||p||f||(r=l(m,d))}),g.subscribe(u),e||(e=new s.Hp({next:function(t){return g.next(t)},error:function(t){p=!0,v(),r=l(y,o,t),g.error(t)},complete:function(){f=!0,v(),r=l(y,h),g.complete()}}),(0,i.Dp)(t).subscribe(e))})(t)}}function l(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return!0===e?(t(),null):!1===e?null:e.apply(void 0,(0,r.ev)([],(0,r.CR)(n))).pipe((0,o.q)(1)).subscribe(function(){return t()})}},873:function(t,e,n){"use strict";n.d(e,{R:function(){return i}});var r=n(424);function i(t,e){return void 0===e&&(e=0),(0,r.e)(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}},4294:function(t,e,n){"use strict";n.d(e,{q:function(){return a}});var r=n(6149),i=n(424),o=n(5076);function a(t){return t<=0?function(){return r.E}:(0,i.e)(function(e,n){var r=0;e.subscribe(new o.Q(n,function(e){++r<=t&&(n.next(e),t<=r&&n.complete())}))})}},9922:function(t,e,n){"use strict";n.d(e,{b:function(){return s}});var r=n(8853),i=n(424),o=n(5076),a=n(2738);function s(t,e,n){var s=(0,r.m)(t)||e||n?{next:t,error:e,complete:n}:t;return s?(0,i.e)(function(t,e){t.subscribe(new o.Q(e,function(t){var n;null===(n=s.next)||void 0===n||n.call(s,t),e.next(t)},function(){var t;null===(t=s.complete)||void 0===t||t.call(s),e.complete()},function(t){var n;null===(n=s.error)||void 0===n||n.call(s,t),e.error(t)}))}):a.y}},2504:function(t,e,n){"use strict";n.d(e,{r:function(){return i}});var r=n(1776);function i(t,e){return new r.y(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}},6396:function(t,e,n){"use strict";n.d(e,{o:function(){return s}});var r=n(9162),i=function(t){function e(e,n){return t.call(this)||this}return(0,r.ZT)(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n(8839).w0),o={setInterval:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=o.delegate;return((null==n?void 0:n.setInterval)||setInterval).apply(void 0,(0,r.ev)([],(0,r.CR)(t)))}),clearInterval:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){var e=o.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)}),delegate:void 0},a=n(5850),s=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return(0,r.ZT)(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),o.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return e;o.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,a.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(i)},1146:function(t,e,n){"use strict";n.d(e,{v:function(){return a}});var r=n(9162),i=n(2248),o=function(){function t(e,n){void 0===n&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},t.now=i.l.now,t}(),a=function(t){function e(e,n){void 0===n&&(n=o.now);var r=t.call(this,e,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return(0,r.ZT)(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(o)},6902:function(t,e,n){"use strict";n.d(e,{z:function(){return i},P:function(){return o}});var r=n(6396),i=new(n(1146).v)(r.o),o=i},2248:function(t,e,n){"use strict";n.d(e,{l:function(){return r}});var r={now:function(){return(r.delegate||Date).now()},delegate:void 0}},9385:function(t,e,n){"use strict";n.d(e,{z:function(){return i}});var r=n(9162),i={setTimeout:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=i.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,(0,r.ev)([],(0,r.CR)(t)))}),clearTimeout:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){var e=i.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)}),delegate:void 0}},8794:function(t,e,n){"use strict";n.d(e,{L:function(){return r}});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},3856:function(t,e,n){"use strict";n.d(e,{jO:function(){return a},yG:function(){return s},_6:function(){return u}});var r=n(8853),i=n(5097);function o(t){return t[t.length-1]}function a(t){return(0,r.m)(o(t))?t.pop():void 0}function s(t){return(0,i.K)(o(t))?t.pop():void 0}function u(t,e){return"number"==typeof o(t)?t.pop():e}},5850:function(t,e,n){"use strict";function r(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}n.d(e,{P:function(){return r}})},3864:function(t,e,n){"use strict";function r(t){var e=t(function(t){Error.call(t),t.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}n.d(e,{d:function(){return r}})},2738:function(t,e,n){"use strict";function r(t){return t}n.d(e,{y:function(){return r}})},4297:function(t,e,n){"use strict";n.d(e,{z:function(){return r}});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},8853:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,{m:function(){return r}})},5097:function(t,e,n){"use strict";n.d(e,{K:function(){return i}});var r=n(8853);function i(t){return t&&(0,r.m)(t.schedule)}},424:function(t,e,n){"use strict";n.d(e,{e:function(){return i}});var r=n(8853);function i(t){return function(e){if(function(t){return(0,r.m)(null==t?void 0:t.lift)}(e))return e.lift(function(e){try{return t(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}},6186:function(t,e,n){"use strict";function r(){}n.d(e,{Z:function(){return r}})},8550:function(t,e,n){"use strict";n.d(e,{h:function(){return o}});var r=n(6806),i=n(9385);function o(t){i.z.setTimeout(function(){var e=r.v.onUnhandledError;if(!e)throw t;e(t)})}},4250:function(n,r,a){"use strict";var u=a(7716),c=null;function l(){return c}var m=new u.OlP("DocumentToken"),g=function(){var t=function(){function t(){f(this,t)}return h(t,[{key:"historyGo",value:function(t){throw new Error("Not implemented")}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,u.Yz7)({factory:_,token:t,providedIn:"platform"}),t}();function _(){return(0,u.LFG)(b)}var b=function(){var t=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this))._doc=t,r._init(),r}return h(n,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return l().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){var e=l().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),function(){return e.removeEventListener("popstate",t)}}},{key:"onHashChange",value:function(t){var e=l().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),function(){return e.removeEventListener("hashchange",t)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){k()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){k()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(t)}},{key:"getState",value:function(){return this._history.state}}]),n}(g);return t.\u0275fac=function(e){return new(e||t)(u.LFG(m))},t.\u0275prov=(0,u.Yz7)({factory:C,token:t,providedIn:"platform"}),t}();function k(){return!!window.history.pushState}function C(){return new b((0,u.LFG)(m))}function S(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function E(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function T(t){return t&&"?"!==t[0]?"?"+t:t}var x=function(){var t=function(){function t(){f(this,t)}return h(t,[{key:"historyGo",value:function(t){throw new Error("Not implemented")}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,u.Yz7)({factory:I,token:t,providedIn:"root"}),t}();function I(t){var e=(0,u.LFG)(m).location;return new D((0,u.LFG)(g),e&&e.origin||"")}var A=new u.OlP("appBaseHref"),D=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r){var i;if(f(this,n),(i=e.call(this))._platformLocation=t,i._removeListenerFns=[],null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,v(i)}return h(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return S(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+T(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+T(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+T(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(e=(t=this._platformLocation).historyGo)||void 0===e||e.call(t,n)}}]),n}(x);return t.\u0275fac=function(e){return new(e||t)(u.LFG(g),u.LFG(A,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),R=function(){var t=function(){function t(e,n){var r=this;f(this,t),this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=E(P(i)),this._platformStrategy.onPopState(function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})})}return h(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+T(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,P(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+T(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+T(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(e=(t=this._platformStrategy).historyGo)||void 0===e||e.call(t,n)}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(x),u.LFG(g))},t.normalizeQueryParams=T,t.joinWithSlash=S,t.stripTrailingSlash=E,t.\u0275prov=(0,u.Yz7)({factory:O,token:t,providedIn:"root"}),t}();function O(){return new R((0,u.LFG)(x),(0,u.LFG)(g))}function P(t){return t.replace(/\/index.html$/,"")}var N={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},F=((F=F||{})[F.Decimal=0]="Decimal",F[F.Percent=1]="Percent",F[F.Currency=2]="Currency",F[F.Scientific=3]="Scientific",F),L=((L=L||{})[L.Zero=0]="Zero",L[L.One=1]="One",L[L.Two=2]="Two",L[L.Few=3]="Few",L[L.Many=4]="Many",L[L.Other=5]="Other",L),M=((M=M||{})[M.Decimal=0]="Decimal",M[M.Group=1]="Group",M[M.List=2]="List",M[M.PercentSign=3]="PercentSign",M[M.PlusSign=4]="PlusSign",M[M.MinusSign=5]="MinusSign",M[M.Exponential=6]="Exponential",M[M.SuperscriptingExponent=7]="SuperscriptingExponent",M[M.PerMille=8]="PerMille",M[M[1/0]=9]="Infinity",M[M.NaN=10]="NaN",M[M.TimeSeparator=11]="TimeSeparator",M[M.CurrencyDecimal=12]="CurrencyDecimal",M[M.CurrencyGroup=13]="CurrencyGroup",M);function V(t,e){var n=(0,u.cg1)(t),r=n[u.wAp.NumberSymbols][e];if(void 0===r){if(e===M.CurrencyDecimal)return n[u.wAp.NumberSymbols][M.Decimal];if(e===M.CurrencyGroup)return n[u.wAp.NumberSymbols][M.Group]}return r}var B=u.kL8,q=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function j(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var U=function t(){f(this,t)},G=function(){var t=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this)).locale=t,r}return h(n,[{key:"getPluralCategory",value:function(t,e){switch(B(e||this.locale)(t)){case L.Zero:return"zero";case L.One:return"one";case L.Two:return"two";case L.Few:return"few";case L.Many:return"many";default:return"other"}}}]),n}(U);return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.soG))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}();function z(t,n){n=encodeURIComponent(n);var r,i=s(t.split(";"));try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.indexOf("="),u=e(-1==a?[o,""]:[o.slice(0,a),o.slice(a+1)],2),c=u[0],l=u[1];if(c.trim()===n)return decodeURIComponent(l)}}catch(h){i.e(h)}finally{i.f()}return null}var H=function(){var t=function(){function t(e,n,r,i){f(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return h(t,[{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat((0,u.AaK)(t.item)));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t}(),Y=function(){function t(e,n,r,i){f(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return h(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),W=function(){var t=function(){function t(e,n,r){f(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return h(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(QT){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new Y(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new K(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new K(t,s);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t}(),K=function t(e,n){f(this,t),this.record=e,this.view=n},Z=function(){var t=function(){function t(e,n){f(this,t),this._viewContainer=e,this._context=new Q,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return h(t,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){J("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){J("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.s_b),u.Y36(u.Rgc))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t}(),Q=function t(){f(this,t),this.$implicit=null,this.ngIf=null};function J(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat((0,u.AaK)(e),"'."))}var X,$=function(){function t(e,n){f(this,t),this._viewContainerRef=e,this._templateRef=n,this._created=!1}return h(t,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}]),t}(),tt=function(){var t=function(){function t(){f(this,t),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return h(t,[{key:"ngSwitch",set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}},{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}},{key:"_matchCase",value:function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}},{key:"_updateDefaultCases",value:function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=u.lG2({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t}(),et=function(){var t=function(){function t(e,n,r){f(this,t),this.ngSwitch=r,r._addCase(),this._view=new $(e,n)}return h(t,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(tt,9))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t}(),nt=function(){var t=function t(e,n,r){f(this,t),r._addDefault(new $(e,n))};return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(tt,9))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngSwitchDefault",""]]}),t}(),rt=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";f(this,t),this._locale=e,this._defaultCurrencyCode=n}return h(t,[{key:"transform",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._defaultCurrencyCode,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"symbol",i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;o=o||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");var a=n||this._defaultCurrencyCode;"code"!==r&&(a="symbol"===r||"symbol-narrow"===r?function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",r=function(t){return(0,u.cg1)(t)[u.wAp.Currencies]}(n)[t]||N[t]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||t}(a,"symbol"===r?"wide":"narrow",o):r);try{return function(t,e,n,r,i){var o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],a=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],s=a[0],u=a[1]||"";n.posPre=s.substr(0,s.indexOf("#"));for(var c=0;c<u.length;c++){var l=u.charAt(c);"0"===l?n.minFrac=n.maxFrac=c+1:"#"===l?n.maxFrac=c+1:n.posSuf+=l}var h=s.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var f=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf("#");n.negPre=o.substr(0,d).replace(/'/g,""),n.negSuf=o.substr(d+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return(0,u.cg1)(t)[u.wAp.NumberFormats][e]}(e,F.Currency),V(e,M.MinusSign));return o.minFrac=function(t){var e,n=N[t];return n&&(e=n[2]),"number"==typeof e?e:2}(r),o.maxFrac=o.minFrac,function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s="",u=!1;if(isFinite(t)){var c=function(t){var e,n,r,i,o,a=Math.abs(t)+"",s=0;for((n=a.indexOf("."))>-1&&(a=a.replace(".","")),(r=a.search(/e/i))>0?(n<0&&(n=r),n+=+a.slice(r+1),a=a.substring(0,r)):n<0&&(n=a.length),r=0;"0"===a.charAt(r);r++);if(r===(o=a.length))e=[0],n=1;else{for(o--;"0"===a.charAt(o);)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(a.charAt(r))}return n>22&&(e=e.splice(0,21),s=n-1,n=1),{digits:e,exponent:s,integerLen:n}}(t);a&&(c=function(t){if(0===t.digits[0])return t;var e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));var l=e.minInt,h=e.minFrac,f=e.maxFrac;if(o){var d=o.match(q);if(null===d)throw new Error("".concat(o," is not a valid digit info"));var p=d[1],v=d[3],y=d[5];null!=p&&(l=j(p)),null!=v&&(h=j(v)),null!=y?f=j(y):null!=v&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction (".concat(e,") is higher than the maximum (").concat(n,")."));var r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),a=o+t.integerLen,s=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(var u=a;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var c=1;c<a;c++)r[c]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var h=0!==o,f=e+t.integerLen,d=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,h&&(0===r[n]&&n>=f?r.pop():h=!1),e>=10?1:0},0);d&&(r.unshift(d),t.integerLen++)}(c,h,f);var m=c.digits,g=c.integerLen,_=c.exponent,b=[];for(u=m.every(function(t){return!t});g<l;g++)m.unshift(0);for(;g<0;g++)m.unshift(0);g>0?b=m.splice(g,m.length):(b=m,m=[0]);var w=[];for(m.length>=e.lgSize&&w.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)w.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&w.unshift(m.join("")),s=w.join(V(n,r)),b.length&&(s+=V(n,i)+b.join("")),_&&(s+=V(n,M.Exponential)+"+"+_)}else s=V(n,M.Infinity);return s=t<0&&!u?e.negPre+s+e.negSuf:e.posPre+s+e.posSuf}(t,o,e,M.CurrencyGroup,M.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error("".concat(t," is not a number"));return t}(e),o,a,n,i)}catch(s){throw function(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat((0,u.AaK)(t),"'"))}(t,s.message)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.soG,16),u.Y36(u.EJc,16))},t.\u0275pipe=u.Yjl({name:"currency",type:t,pure:!0}),t}(),it=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[{provide:U,useClass:G}]}),t}(),ot=function t(){f(this,t)},at=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){t.parentNode&&t.parentNode.removeChild(t)}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getBaseHref",value:function(t){var e=(st=st||document.querySelector("base"))?st.getAttribute("href"):null;return null==e?null:function(t){(X=X||document.createElement("a")).setAttribute("href",t);var e=X.pathname;return"/"===e.charAt(0)?e:"/".concat(e)}(e)}},{key:"resetBaseElement",value:function(){st=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(t){return z(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,c||(c=t)}}]),n}(function(t){d(n,t);var e=p(n);function n(){var t;return f(this,n),(t=e.apply(this,arguments)).supportsDOMEvents=!0,t}return n}(function(){return function t(){f(this,t)}}())),st=null,ut=new u.OlP("TRANSITION_ID"),ct=[{provide:u.ip1,useFactory:function(t,e,n){return function(){n.get(u.CZH).donePromise.then(function(){var n=l();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[ut,m,u.zs3],multi:!0}],lt=function(){function t(){f(this,t)}return h(t,[{key:"addToWindow",value:function(t){u.dqk.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},u.dqk.getAllAngularTestabilities=function(){return t.getAllTestabilities()},u.dqk.getAllAngularRootElements=function(){return t.getAllRootElements()},u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(function(t){var e=u.dqk.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?l().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){(0,u.VLi)(new t)}}]),t}(),ht=function(){var t=function(){function t(){f(this,t)}return h(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),ft=new u.OlP("EventManagerPlugins"),dt=function(){var t=function(){function t(e,n){var r=this;f(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=r}),this._plugins=e.slice().reverse()}return h(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(ft),u.LFG(u.R0b))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),pt=function(){function t(e){f(this,t),this._doc=e}return h(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=l().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),vt=function(){var t=function(){function t(){f(this,t),this._stylesSet=new Set}return h(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),yt=function(){var t=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Map,r._hostNodes.set(t.head,[]),r}return h(n,[{key:"_addStylesToHost",value:function(t,e,n){var r=this;t.forEach(function(t){var i=r._doc.createElement("style");i.textContent=t,n.push(e.appendChild(i))})}},{key:"addHost",value:function(t){var e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}},{key:"removeHost",value:function(t){var e=this._hostNodes.get(t);e&&e.forEach(mt),this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n,r){e._addStylesToHost(t,r,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(t){return t.forEach(mt)})}}]),n}(vt);return t.\u0275fac=function(e){return new(e||t)(u.LFG(m))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}();function mt(t){l().remove(t)}var gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},_t=/%COMP%/g;function bt(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?bt(t,i,n):(i=i.replace(_t,t),n.push(i))}return n}function wt(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var kt=function(){var t=function(){function t(e,n,r){f(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ct(e)}return h(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case u.ifc.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new St(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case u.ifc.ShadowDom:return new Et(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=bt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(dt),u.LFG(yt),u.LFG(u.AFp))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),Ct=function(){function t(e){f(this,t),this.eventManager=e,this.data=Object.create(null)}return h(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(gt[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=gt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=gt[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&(u.JOm.DashCase|u.JOm.Important)?t.style.setProperty(e,n,r&u.JOm.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&u.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,wt(n)):this.eventManager.addEventListener(t,e,wt(n))}}]),t}(),St=function(t){d(n,t);var e=p(n);function n(t,r,i,o){var a;f(this,n),(a=e.call(this,t)).component=i;var s=bt(o+"-"+i.id,i.styles,[]);return r.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(_t,o+"-"+i.id),a.hostAttr="_nghost-%COMP%".replace(_t,o+"-"+i.id),a}return h(n,[{key:"applyToHost",value:function(t){i(w(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=i(w(n.prototype),"createElement",this).call(this,t,e);return i(w(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Ct),Et=function(t){d(n,t);var e=p(n);function n(t,r,i,o){var a;f(this,n),(a=e.call(this,t)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=bt(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return h(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return i(w(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return i(w(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return i(w(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(i(w(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Ct),Tt=function(){var t=function(t){d(n,t);var e=p(n);function n(t){return f(this,n),e.call(this,t)}return h(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(pt);return t.\u0275fac=function(e){return new(e||t)(u.LFG(m))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),xt=["alt","control","meta","shift"],It={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},At={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Dt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Rt=function(){var t=function(t){d(n,t);var e=p(n);function n(t){return f(this,n),e.call(this,t)}return h(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return l().onAndCancel(t,i.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(xt.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&At.hasOwnProperty(e)&&(e=At[e]))}return It[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),xt.forEach(function(r){r!=n&&(0,Dt[r])(t)&&(e+=r+".")}),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(pt);return t.\u0275fac=function(e){return new(e||t)(u.LFG(m))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),Ot=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function(){at.makeCurrent(),lt.init()},multi:!0},{provide:m,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),Pt=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:ft,useClass:Tt,multi:!0,deps:[m,u.R0b,u.Lbi]},{provide:ft,useClass:Rt,multi:!0,deps:[m]},[],{provide:kt,useClass:kt,deps:[dt,yt,u.AFp]},{provide:u.FYo,useExisting:kt},{provide:vt,useExisting:yt},{provide:yt,useClass:yt,deps:[m]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:dt,useClass:dt,deps:[ft,u.R0b]},{provide:ot,useClass:ht,deps:[]},[]],Nt=function(){var t=function(){function t(e){if(f(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return h(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:u.AFp,useValue:e.appId},{provide:ut,useExisting:u.AFp},ct]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(t,12))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:Pt,imports:[it,u.hGG]}),t}();"undefined"!=typeof window&&window;var Ft=a(4762);function Lt(t){return null!=t&&"false"!="".concat(t)}function Mt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Vt(t)?Number(t):e}function Vt(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Bt(t){return Array.isArray(t)?t:[t]}function qt(t){return null==t?"":"string"==typeof t?t:"".concat(t,"px")}function jt(t){return t instanceof u.SBq?t.nativeElement:t}var Ut=a(1776),Gt=a(8853),zt=a(5994),Ht=a(2504),Yt=a(3856);function Wt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,Yt.yG)(t);return n?(0,Ht.r)(t,n):(0,zt.h)(t)}var Kt=a(6889);function Zt(t){return t&&"function"==typeof t.connect}var Qt,Jt,Xt=function(){function t(){f(this,t)}return h(t,[{key:"applyChanges",value:function(t,e,n,r,i){t.forEachOperation(function(t,r,o){var a,s;if(null==t.previousIndex){var u=n(t,r,o);a=e.createEmbeddedView(u.templateRef,u.context,u.index),s=1}else null==o?(e.remove(r),s=3):(a=e.get(r),e.move(a,o),s=2);i&&i({context:null==a?void 0:a.context,operation:s,record:t})})}},{key:"detach",value:function(){}}]),t}(),$t=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1?arguments[1]:void 0,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];f(this,t),this._multiple=n,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Kt.x,r&&r.length&&(n?r.forEach(function(t){return e._markSelected(t)}):this._markSelected(r[0]),this._selectedToEmit.length=0)}return h(t,[{key:"selected",get:function(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}},{key:"select",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._verifyValueAssignment(n),n.forEach(function(e){return t._markSelected(e)}),this._emitChangeEvent()}},{key:"deselect",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._verifyValueAssignment(n),n.forEach(function(e){return t._unmarkSelected(e)}),this._emitChangeEvent()}},{key:"toggle",value:function(t){this.isSelected(t)?this.deselect(t):this.select(t)}},{key:"clear",value:function(){this._unmarkAll(),this._emitChangeEvent()}},{key:"isSelected",value:function(t){return this._selection.has(t)}},{key:"isEmpty",value:function(){return 0===this._selection.size}},{key:"hasValue",value:function(){return!this.isEmpty()}},{key:"sort",value:function(t){this._multiple&&this.selected&&this._selected.sort(t)}},{key:"isMultipleSelection",value:function(){return this._multiple}},{key:"_emitChangeEvent",value:function(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}},{key:"_markSelected",value:function(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}},{key:"_unmarkSelected",value:function(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}},{key:"_unmarkAll",value:function(){var t=this;this.isEmpty()||this._selection.forEach(function(e){return t._unmarkSelected(e)})}},{key:"_verifyValueAssignment",value:function(t){}}]),t}(),te=new u.OlP("_ViewRepeater"),ee=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,u.f3M)(m)}}),ne=((Jt=function(){function t(e){if(f(this,t),this.value="ltr",this.change=new u.vpe,e){var n=e.documentElement?e.documentElement.dir:null,r=(e.body?e.body.dir:null)||n;this.value="ltr"===r||"rtl"===r?r:"ltr"}}return h(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}()).\u0275fac=function(t){return new(t||Jt)(u.LFG(ee,8))},Jt.\u0275prov=u.Yz7({factory:function(){return new Jt(u.LFG(ee,8))},token:Jt,providedIn:"root"}),Jt),re=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t}();try{Qt="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(QT){Qt=!1}var ie,oe,ae,se,ue=function(){var t=function t(e){f(this,t),this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Qt)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT};return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.Lbi))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(u.Lbi))},token:t,providedIn:"root"}),t}(),ce=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t}(),le=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function he(){if(ie)return ie;if("object"!=typeof document||!document)return ie=new Set(le);var t=document.createElement("input");return ie=new Set(le.filter(function(e){return t.setAttribute("type",e),t.type===e}))}function fe(t){return function(){if(null==oe&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return oe=!0}}))}finally{oe=oe||!1}return oe}()?t:!!t.capture}function de(t){if(function(){if(null==se){var t="undefined"!=typeof document?document.head:null;se=!(!t||!t.createShadowRoot&&!t.attachShadow)}return se}()){var e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function pe(){for(var t="undefined"!=typeof document&&document?document.activeElement:null;t&&t.shadowRoot;){var e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}var ve=a(9162),ye=a(7216),me=a(4297),ge=a(5207),_e=Array.isArray;function be(t){return(0,ge.U)(function(e){return function(t,e){return _e(e)?t.apply(void 0,(0,ve.ev)([],(0,ve.CR)(e))):t(e)}(t,e)})}var we=["addListener","removeListener"],ke=["addEventListener","removeEventListener"],Ce=["on","off"];function Se(t,e,n,r){if((0,Gt.m)(n)&&(r=n,n=void 0),r)return Se(t,e,n).pipe(be(r));var i=(0,ve.CR)(function(t){return(0,Gt.m)(t.addEventListener)&&(0,Gt.m)(t.removeEventListener)}(t)?ke.map(function(r){return function(i){return t[r](e,i,n)}}):function(t){return(0,Gt.m)(t.addListener)&&(0,Gt.m)(t.removeListener)}(t)?we.map(Ee(t,e)):function(t){return(0,Gt.m)(t.on)&&(0,Gt.m)(t.off)}(t)?Ce.map(Ee(t,e)):[],2),o=i[0],a=i[1];if(!o&&(0,me.z)(t))return(0,ye.z)(function(t){return Se(t,e,n)})((0,zt.h)(t));if(!o)throw new TypeError("Invalid event target");return new Ut.y(function(t){var e=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.next(1<e.length?e:e[0])};return o(e),function(){return a(e)}})}function Ee(t,e){return function(n){return function(r){return t[n](e,r)}}}var Te,xe=a(6396),Ie=a(8839),Ae={schedule:function(t){var e=requestAnimationFrame,n=cancelAnimationFrame,r=Ae.delegate;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);var i=e(function(e){n=void 0,t(e)});return new Ie.w0(function(){return null==n?void 0:n(i)})},requestAnimationFrame:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ae.delegate;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame).apply(void 0,(0,ve.ev)([],(0,ve.CR)(t)))}),cancelAnimationFrame:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ae.delegate;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,(0,ve.ev)([],(0,ve.CR)(t)))}),delegate:void 0},De=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return(0,ve.ZT)(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=Ae.requestAnimationFrame(function(){return e.flush(void 0)})))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(Ae.cancelAnimationFrame(n),e._scheduled=void 0)},e}(xe.o),Re=a(1146),Oe=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ve.ZT)(e,t),e.prototype.flush=function(t){this._active=!0,this._scheduled=void 0;var e,n=this.actions,r=-1;t=t||n.shift();var i=n.length;do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this._active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(Re.v))(De),Pe=1,Ne={};function Fe(t){return t in Ne&&(delete Ne[t],!0)}var Le=function(t){var e=Pe++;return Ne[e]=!0,Te||(Te=Promise.resolve()),Te.then(function(){return Fe(e)&&t()}),e},Me=function(t){Fe(t)},Ve={setImmediate:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ve.delegate;return((null==n?void 0:n.setImmediate)||Le).apply(void 0,(0,ve.ev)([],(0,ve.CR)(t)))},clearImmediate:function(t){var e=Ve.delegate;return((null==e?void 0:e.clearImmediate)||Me)(t)},delegate:void 0},Be=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return(0,ve.ZT)(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=Ve.setImmediate(e.flush.bind(e,void 0))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(Ve.clearImmediate(n),e._scheduled=void 0)},e}(xe.o),qe=(new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ve.ZT)(e,t),e.prototype.flush=function(t){this._active=!0,this._scheduled=void 0;var e,n=this.actions,r=-1;t=t||n.shift();var i=n.length;do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this._active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(Re.v))(Be),a(2738)),je=a(424),Ue=a(5076);function Ge(t,e){return void 0===e&&(e=qe.y),t=null!=t?t:ze,(0,je.e)(function(n,r){var i,o=!0;n.subscribe(new Ue.Q(r,function(n){var a=e(n);!o&&t(i,a)||(o=!1,i=a,r.next(n))}))})}function ze(t,e){return t===e}var He=a(6902),Ye=a(8476),We=a(5097);function Ke(t,e,n){void 0===t&&(t=0),void 0===n&&(n=He.P);var r=-1;return null!=e&&((0,We.K)(e)?n=e:r=e),new Ut.y(function(e){var i,o=(i=t)instanceof Date&&!isNaN(i)?+t-n.now():t;o<0&&(o=0);var a=0;return n.schedule(function(){e.closed||(e.next(a++),0<=r?this.schedule(void 0,r):e.complete())},o)})}function Ze(t,e){return void 0===e&&(e=He.P),n=function(){return Ke(t,e)},(0,je.e)(function(t,e){var r=!1,i=null,o=null,a=!1,s=function(){if(null==o||o.unsubscribe(),o=null,r){r=!1;var t=i;i=null,e.next(t)}a&&e.complete()},u=function(){o=null,a&&e.complete()};t.subscribe(new Ue.Q(e,function(t){r=!0,i=t,o||(0,Ye.Xf)(n()).subscribe(o=new Ue.Q(e,s,u))},function(){a=!0,(!r||!o||o.closed)&&e.complete()}))});var n}function Qe(t,e){return(0,je.e)(function(n,r){var i=0;n.subscribe(new Ue.Q(r,function(n){return t.call(e,n,i++)&&r.next(n)}))})}var Je=a(6186);function Xe(t){return(0,je.e)(function(e,n){(0,Ye.Xf)(t).subscribe(new Ue.Q(n,function(){return n.complete()},Je.Z)),!n.closed&&e.subscribe(n)})}var $e=a(23);function tn(){return(0,$e.J)(1)}function en(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return tn()((0,zt.h)(t,(0,Yt.yG)(t)))}function nn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,Yt.yG)(t);return(0,je.e)(function(e,r){(n?en(t,e,n):en(t,e)).subscribe(r)})}function rn(){return(0,je.e)(function(t,e){var n,r=!1;t.subscribe(new Ue.Q(e,function(t){var i=n;n=t,r&&e.next([i,t]),r=!0}))})}function on(t,e){return(0,je.e)(function(n,r){var i=null,o=0,a=!1,s=function(){return a&&!i&&r.complete()};n.subscribe(new Ue.Q(r,function(n){null==i||i.unsubscribe();var a=0,u=o++;(0,Ye.Xf)(t(n,u)).subscribe(i=new Ue.Q(r,function(t){return r.next(e?e(n,t,u,a++):t)},function(){i=null,s()}))},function(){a=!0,s()}))})}var an=a(2248),sn=(function(t){function e(e,n,r){void 0===e&&(e=1/0),void 0===n&&(n=1/0),void 0===r&&(r=an.l);var i=t.call(this)||this;return i._bufferSize=e,i._windowTime=n,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,e),i._windowTime=Math.max(1,n),i}(0,ve.ZT)(e,t),e.prototype.next=function(e){var n=this,r=n._buffer,i=n._infiniteTimeWindow,o=n._timestampProvider,a=n._windowTime;n.isStopped||(r.push(e),!i&&r.push(o.now()+a)),this._trimBuffer(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var e=this._innerSubscribe(t),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!t.closed;i+=n?1:2)t.next(r[i]);return this._checkFinalizedStatuses(t),e},e.prototype._trimBuffer=function(){var t=this._bufferSize,e=this._timestampProvider,n=this._buffer,r=this._infiniteTimeWindow,i=(r?1:2)*t;if(t<1/0&&i<n.length&&n.splice(0,n.length-i),!r){for(var o=e.now(),a=0,s=1;s<n.length&&n[s]<=o;s+=2)a=s;a&&n.splice(0,a+1)}}}(Kt.x),a(8047)),un=function(){var t=function(){function t(e,n,r){f(this,t),this._ngZone=e,this._platform=n,this._scrolled=new Kt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}return h(t,[{key:"register",value:function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(function(){return e._scrolled.next(t)}))}},{key:"deregister",value:function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new Ut.y(function(n){t._globalSubscription||t._addGlobalListener();var r=e>0?t._scrolled.pipe(Ze(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){r.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}}):Wt()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(e,n){return t.deregister(n)}),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Qe(function(t){return!t||n.indexOf(t)>-1}))}},{key:"getAncestorScrollContainers",value:function(t){var e=this,n=[];return this.scrollContainers.forEach(function(r,i){e._scrollableContainsElement(i,t)&&n.push(i)}),n}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_scrollableContainsElement",value:function(t,e){var n=jt(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return Se(t._getWindow().document,"scroll").subscribe(function(){return t._scrolled.next()})})}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.R0b),u.LFG(ue),u.LFG(m,8))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(u.R0b),u.LFG(ue),u.LFG(m,8))},token:t,providedIn:"root"}),t}(),cn=function(){var t=function(){function t(e,n,r){var i=this;f(this,t),this._platform=e,this._change=new Kt.x,this._changeListener=function(t){i._change.next(t)},this._document=r,n.runOutsideAngular(function(){if(e.isBrowser){var t=i._getWindow();t.addEventListener("resize",i._changeListener),t.addEventListener("orientationchange",i._changeListener)}i.change().subscribe(function(){return i._updateViewportSize()})})}return h(t,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,r=e.height;return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(Ze(t)):this._change}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_updateViewportSize",value:function(){var t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(ue),u.LFG(u.R0b),u.LFG(m,8))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(ue),u.LFG(u.R0b),u.LFG(m,8))},token:t,providedIn:"root"}),t}(),ln=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t}(),hn=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[re,ce,ln],re,ln]}),t}(),fn=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return(0,ve.ZT)(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){var t=this._value;if(this.hasError)throw this.thrownError;return this._throwIfClosed(),t},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(Kt.x),dn=a(4294),pn=[[["caption"]],[["colgroup"],["col"]]],vn=["caption","colgroup, col"];function yn(t){return function(t){d(n,t);var e=p(n);function n(){var t;f(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i)))._sticky=!1,t._hasStickyChanged=!1,t}return h(n,[{key:"sticky",get:function(){return this._sticky},set:function(t){var e=this._sticky;this._sticky=Lt(t),this._hasStickyChanged=e!==this._sticky}},{key:"hasStickyChanged",value:function(){var t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}},{key:"resetStickyChanged",value:function(){this._hasStickyChanged=!1}}]),n}(t)}var mn=new u.OlP("CDK_TABLE"),gn=function(){var t=function t(e){f(this,t),this.template=e};return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.Rgc))},t.\u0275dir=u.lG2({type:t,selectors:[["","cdkCellDef",""]]}),t}(),_n=function(){var t=function t(e){f(this,t),this.template=e};return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.Rgc))},t.\u0275dir=u.lG2({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t}(),bn=function(){var t=function t(e){f(this,t),this.template=e};return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.Rgc))},t.\u0275dir=u.lG2({type:t,selectors:[["","cdkFooterCellDef",""]]}),t}(),wn=yn(function t(){f(this,t)}),kn=function(){var t=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this))._table=t,r._stickyEnd=!1,r}return h(n,[{key:"name",get:function(){return this._name},set:function(t){this._setNameInput(t)}},{key:"stickyEnd",get:function(){return this._stickyEnd},set:function(t){var e=this._stickyEnd;this._stickyEnd=Lt(t),this._hasStickyChanged=e!==this._stickyEnd}},{key:"_updateColumnCssClassName",value:function(){this._columnCssClassName=["cdk-column-".concat(this.cssClassFriendlyName)]}},{key:"_setNameInput",value:function(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}]),n}(wn);return t.\u0275fac=function(e){return new(e||t)(u.Y36(mn,8))},t.\u0275dir=u.lG2({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,n){var r;(1&t&&(u.Suo(n,gn,5),u.Suo(n,_n,5),u.Suo(n,bn,5)),2&t)&&(u.iGM(r=u.CRH())&&(e.cell=r.first),u.iGM(r=u.CRH())&&(e.headerCell=r.first),u.iGM(r=u.CRH())&&(e.footerCell=r.first))},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[u._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),u.qOj]}),t}(),Cn=function t(e,n){f(this,t);var r,i=n.nativeElement.classList,o=s(e._columnCssClassName);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.add(a)}}catch(u){o.e(u)}finally{o.f()}},Sn=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r){return f(this,n),e.call(this,t,r)}return n}(Cn);return t.\u0275fac=function(e){return new(e||t)(u.Y36(kn),u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[u.qOj]}),t}(),En=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r){return f(this,n),e.call(this,t,r)}return n}(Cn);return t.\u0275fac=function(e){return new(e||t)(u.Y36(kn),u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[u.qOj]}),t}(),Tn=function t(){f(this,t),this.tasks=[],this.endTasks=[]},xn=new u.OlP("_COALESCED_STYLE_SCHEDULER"),In=function(){var t=function(){function t(e){f(this,t),this._ngZone=e,this._currentSchedule=null,this._destroyed=new Kt.x}return h(t,[{key:"schedule",value:function(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}},{key:"scheduleEnd",value:function(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_createScheduleIfNeeded",value:function(){var t=this;this._currentSchedule||(this._currentSchedule=new Tn,this._getScheduleObservable().pipe(Xe(this._destroyed)).subscribe(function(){for(;t._currentSchedule.tasks.length||t._currentSchedule.endTasks.length;){var e=t._currentSchedule;t._currentSchedule=new Tn;var n,r=s(e.tasks);try{for(r.s();!(n=r.n()).done;){(0,n.value)()}}catch(a){r.e(a)}finally{r.f()}var i,o=s(e.endTasks);try{for(o.s();!(i=o.n()).done;){(0,i.value)()}}catch(a){o.e(a)}finally{o.f()}}t._currentSchedule=null}))}},{key:"_getScheduleObservable",value:function(){return this._ngZone.isStable?(0,Ye.Dp)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,dn.q)(1))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.R0b))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),An=function(){var t=function(){function t(e,n){f(this,t),this.template=e,this._differs=n}return h(t,[{key:"ngOnChanges",value:function(t){if(!this._columnsDiffer){var e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}},{key:"getColumnsDiff",value:function(){return this._columnsDiffer.diff(this.columns)}},{key:"extractCellTemplate",value:function(t){return this instanceof Rn?t.headerCell.template:this instanceof Pn?t.footerCell.template:t.cell.template}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.Rgc),u.Y36(u.ZZ4))},t.\u0275dir=u.lG2({type:t,features:[u.TTD]}),t}(),Dn=yn(function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(An)),Rn=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t,r))._table=i,o}return h(n,[{key:"ngOnChanges",value:function(t){i(w(n.prototype),"ngOnChanges",this).call(this,t)}}]),n}(Dn);return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36(mn,8))},t.\u0275dir=u.lG2({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[u.qOj,u.TTD]}),t}(),On=yn(function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(An)),Pn=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t,r))._table=i,o}return h(n,[{key:"ngOnChanges",value:function(t){i(w(n.prototype),"ngOnChanges",this).call(this,t)}}]),n}(On);return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36(mn,8))},t.\u0275dir=u.lG2({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[u.qOj,u.TTD]}),t}(),Nn=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t,r))._table=i,o}return n}(An);return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36(mn,8))},t.\u0275dir=u.lG2({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[u.qOj]}),t}(),Fn=function(){var t=function(){function t(e){f(this,t),this._viewContainer=e,t.mostRecentCellOutlet=this}return h(t,[{key:"ngOnDestroy",value:function(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.s_b))},t.\u0275dir=u.lG2({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t}(),Ln=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&u.GkF(0,0)},directives:[Fn],encapsulation:2}),t}(),Mn=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&u.GkF(0,0)},directives:[Fn],encapsulation:2}),t}(),Vn=function(){var t=function t(e){f(this,t),this.templateRef=e};return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.Rgc))},t.\u0275dir=u.lG2({type:t,selectors:[["ng-template","cdkNoDataRow",""]]}),t}(),Bn=["top","bottom","left","right"],qn=function(){function t(e,n,r,i){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6?arguments[6]:void 0;f(this,t),this._isNativeHtmlTable=e,this._stickCellCss=n,this.direction=r,this._coalescedStyleScheduler=i,this._isBrowser=o,this._needsPositionStickyOnElement=a,this._positionListener=s,this._cachedCellWidths=[],this._borderCellCss={top:"".concat(n,"-border-elem-top"),bottom:"".concat(n,"-border-elem-bottom"),left:"".concat(n,"-border-elem-left"),right:"".concat(n,"-border-elem-right")}}return h(t,[{key:"clearStickyPositioning",value:function(t,e){var n,r=this,i=[],o=s(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.nodeType===a.ELEMENT_NODE){i.push(a);for(var u=0;u<a.children.length;u++)i.push(a.children[u])}}}catch(c){o.e(c)}finally{o.f()}this._coalescedStyleScheduler.schedule(function(){var t,n=s(i);try{for(n.s();!(t=n.n()).done;){var o=t.value;r._removeStickyStyle(o,e)}}catch(c){n.e(c)}finally{n.f()}})}},{key:"updateStickyColumns",value:function(t,e,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t.length&&this._isBrowser&&(e.some(function(t){return t})||n.some(function(t){return t}))){var o=t[0],a=o.children.length,u=this._getCellWidths(o,i),c=this._getStickyStartColumnPositions(u,e),l=this._getStickyEndColumnPositions(u,n),h=e.lastIndexOf(!0),f=n.indexOf(!0);this._coalescedStyleScheduler.schedule(function(){var i,o="rtl"===r.direction,d=o?"right":"left",p=o?"left":"right",v=s(t);try{for(v.s();!(i=v.n()).done;)for(var y=i.value,m=0;m<a;m++){var g=y.children[m];e[m]&&r._addStickyStyle(g,d,c[m],m===h),n[m]&&r._addStickyStyle(g,p,l[m],m===f)}}catch(_){v.e(_)}finally{v.f()}r._positionListener&&(r._positionListener.stickyColumnsUpdated({sizes:-1===h?[]:u.slice(0,h+1).map(function(t,n){return e[n]?t:null})}),r._positionListener.stickyEndColumnsUpdated({sizes:-1===f?[]:u.slice(f).map(function(t,e){return n[e+f]?t:null}).reverse()}))})}else this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}},{key:"stickRows",value:function(t,e,n){var r=this;if(this._isBrowser){for(var i="bottom"===n?t.slice().reverse():t,o="bottom"===n?e.slice().reverse():e,a=[],u=[],c=[],l=0,h=0;l<i.length;l++)if(o[l]){a[l]=h;var f=i[l];c[l]=this._isNativeHtmlTable?Array.from(f.children):[f];var d=f.getBoundingClientRect().height;h+=d,u[l]=d}var p=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(function(){for(var t,e,l=0;l<i.length;l++)if(o[l]){var h,f=a[l],d=l===p,v=s(c[l]);try{for(v.s();!(h=v.n()).done;){var y=h.value;r._addStickyStyle(y,n,f,d)}}catch(m){v.e(m)}finally{v.f()}}"top"===n?null===(t=r._positionListener)||void 0===t||t.stickyHeaderRowsUpdated({sizes:u,offsets:a,elements:c}):null===(e=r._positionListener)||void 0===e||e.stickyFooterRowsUpdated({sizes:u,offsets:a,elements:c})})}}},{key:"updateStickyFooterContainer",value:function(t,e){var n=this;if(this._isNativeHtmlTable){var r=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(function(){e.some(function(t){return!t})?n._removeStickyStyle(r,["bottom"]):n._addStickyStyle(r,"bottom",0,!1)})}}},{key:"_removeStickyStyle",value:function(t,e){var n,r=s(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.style[i]="",t.classList.remove(this._borderCellCss[i])}}catch(o){r.e(o)}finally{r.f()}Bn.some(function(n){return-1===e.indexOf(n)&&t.style[n]})?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}},{key:"_addStickyStyle",value:function(t,e,n,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]="".concat(n,"px"),t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}},{key:"_getCalculatedZIndex",value:function(t){var e,n={top:100,bottom:10,left:1,right:1},r=0,i=s(Bn);try{for(i.s();!(e=i.n()).done;){var o=e.value;t.style[o]&&(r+=n[o])}}catch(a){i.e(a)}finally{i.f()}return r?"".concat(r):""}},{key:"_getCellWidths",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;for(var n=[],r=t.children,i=0;i<r.length;i++)n.push(r[i].getBoundingClientRect().width);return this._cachedCellWidths=n,n}},{key:"_getStickyStartColumnPositions",value:function(t,e){for(var n=[],r=0,i=0;i<t.length;i++)e[i]&&(n[i]=r,r+=t[i]);return n}},{key:"_getStickyEndColumnPositions",value:function(t,e){for(var n=[],r=0,i=t.length;i>0;i--)e[i]&&(n[i]=r,r+=t[i]);return n}}]),t}(),jn=new u.OlP("CDK_SPL"),Un=function(){var t=function t(e,n){f(this,t),this.viewContainer=e,this.elementRef=n};return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.s_b),u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t,selectors:[["","rowOutlet",""]]}),t}(),Gn=function(){var t=function t(e,n){f(this,t),this.viewContainer=e,this.elementRef=n};return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.s_b),u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t,selectors:[["","headerRowOutlet",""]]}),t}(),zn=function(){var t=function t(e,n){f(this,t),this.viewContainer=e,this.elementRef=n};return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.s_b),u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t,selectors:[["","footerRowOutlet",""]]}),t}(),Hn=function(){var t=function t(e,n){f(this,t),this.viewContainer=e,this.elementRef=n};return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.s_b),u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t,selectors:[["","noDataRowOutlet",""]]}),t}(),Yn=function(){var t=function(){function t(e,n,r,i,o,a,s,u,c,l,h){f(this,t),this._differs=e,this._changeDetectorRef=n,this._elementRef=r,this._dir=o,this._platform=s,this._viewRepeater=u,this._coalescedStyleScheduler=c,this._viewportRuler=l,this._stickyPositioningListener=h,this._onDestroy=new Kt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.viewChange=new fn({start:0,end:Number.MAX_VALUE}),i||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=a,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}return h(t,[{key:"trackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"dataSource",get:function(){return this._dataSource},set:function(t){this._dataSource!==t&&this._switchDataSource(t)}},{key:"multiTemplateDataRows",get:function(){return this._multiTemplateDataRows},set:function(t){this._multiTemplateDataRows=Lt(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}},{key:"fixedLayout",get:function(){return this._fixedLayout},set:function(t){this._fixedLayout=Lt(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}},{key:"ngOnInit",value:function(){var t=this;this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create(function(e,n){return t.trackBy?t.trackBy(n.dataIndex,n.data):n}),this._viewportRuler.change().pipe(Xe(this._onDestroy)).subscribe(function(){t._forceRecalculateCellWidths=!0})}},{key:"ngAfterContentChecked",value:function(){this._cacheRowDefs(),this._cacheColumnDefs();var t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||t,this._forceRecalculateCellWidths=t,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}},{key:"ngOnDestroy",value:function(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),Zt(this.dataSource)&&this.dataSource.disconnect(this)}},{key:"renderRows",value:function(){var t=this;this._renderRows=this._getAllRenderRows();var e=this._dataDiffer.diff(this._renderRows);if(e){var n=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,n,function(e,n,r){return t._getEmbeddedViewArgs(e.item,r)},function(t){return t.item.data},function(e){1===e.operation&&e.context&&t._renderCellTemplateForItem(e.record.item.rowDef,e.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(function(t){n.get(t.currentIndex).context.$implicit=t.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}else this._updateNoDataRow()}},{key:"addColumnDef",value:function(t){this._customColumnDefs.add(t)}},{key:"removeColumnDef",value:function(t){this._customColumnDefs.delete(t)}},{key:"addRowDef",value:function(t){this._customRowDefs.add(t)}},{key:"removeRowDef",value:function(t){this._customRowDefs.delete(t)}},{key:"addHeaderRowDef",value:function(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}},{key:"removeHeaderRowDef",value:function(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}},{key:"addFooterRowDef",value:function(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}},{key:"removeFooterRowDef",value:function(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}},{key:"setNoDataRow",value:function(t){this._customNoDataRow=t}},{key:"updateStickyHeaderRowStyles",value:function(){var t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");var n=this._headerRowDefs.map(function(t){return t.sticky});this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(function(t){return t.resetStickyChanged()})}},{key:"updateStickyFooterRowStyles",value:function(){var t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");var n=this._footerRowDefs.map(function(t){return t.sticky});this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(function(t){return t.resetStickyChanged()})}},{key:"updateStickyColumnStyles",value:function(){var t=this,e=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([].concat(o(e),o(n),o(r)),["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach(function(e,n){t._addStickyColumnStyles([e],t._headerRowDefs[n])}),this._rowDefs.forEach(function(e){for(var r=[],i=0;i<n.length;i++)t._renderRows[i].rowDef===e&&r.push(n[i]);t._addStickyColumnStyles(r,e)}),r.forEach(function(e,n){t._addStickyColumnStyles([e],t._footerRowDefs[n])}),Array.from(this._columnDefsByName.values()).forEach(function(t){return t.resetStickyChanged()})}},{key:"_getAllRenderRows",value:function(){var t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(var n=0;n<this._data.length;n++){var r=this._data[n],i=this._getRenderRowsForData(r,n,e.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(var o=0;o<i.length;o++){var a=i[o],s=this._cachedRenderRowsMap.get(a.data);s.has(a.rowDef)?s.get(a.rowDef).push(a):s.set(a.rowDef,[a]),t.push(a)}}return t}},{key:"_getRenderRowsForData",value:function(t,e,n){return this._getRowDefs(t,e).map(function(r){var i=n&&n.has(r)?n.get(r):[];if(i.length){var o=i.shift();return o.dataIndex=e,o}return{data:t,rowDef:r,dataIndex:e}})}},{key:"_cacheColumnDefs",value:function(){var t=this;this._columnDefsByName.clear(),Wn(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(function(e){t._columnDefsByName.has(e.name),t._columnDefsByName.set(e.name,e)})}},{key:"_cacheRowDefs",value:function(){this._headerRowDefs=Wn(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Wn(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Wn(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);var t=this._rowDefs.filter(function(t){return!t.when});this._defaultRowDef=t[0]}},{key:"_renderUpdatedColumns",value:function(){var t=function(t,e){return t||!!e.getColumnsDiff()},e=this._rowDefs.reduce(t,!1);e&&this._forceRenderDataRows();var n=this._headerRowDefs.reduce(t,!1);n&&this._forceRenderHeaderRows();var r=this._footerRowDefs.reduce(t,!1);return r&&this._forceRenderFooterRows(),e||n||r}},{key:"_switchDataSource",value:function(t){this._data=[],Zt(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}},{key:"_observeRenderChanges",value:function(){var t,e,n=this;this.dataSource&&(Zt(this.dataSource)?t=this.dataSource.connect(this):(e=this.dataSource)&&(e instanceof Ut.y||(0,Gt.m)(e.lift)&&(0,Gt.m)(e.subscribe))?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Wt(this.dataSource)),this._renderChangeSubscription=t.pipe(Xe(this._onDestroy)).subscribe(function(t){n._data=t||[],n.renderRows()}))}},{key:"_forceRenderHeaderRows",value:function(){var t=this;this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach(function(e,n){return t._renderRow(t._headerRowOutlet,e,n)}),this.updateStickyHeaderRowStyles()}},{key:"_forceRenderFooterRows",value:function(){var t=this;this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach(function(e,n){return t._renderRow(t._footerRowOutlet,e,n)}),this.updateStickyFooterRowStyles()}},{key:"_addStickyColumnStyles",value:function(t,e){var n=this,r=Array.from(e.columns||[]).map(function(t){return n._columnDefsByName.get(t)}),i=r.map(function(t){return t.sticky}),o=r.map(function(t){return t.stickyEnd});this._stickyStyler.updateStickyColumns(t,i,o,!this._fixedLayout||this._forceRecalculateCellWidths)}},{key:"_getRenderedRows",value:function(t){for(var e=[],n=0;n<t.viewContainer.length;n++){var r=t.viewContainer.get(n);e.push(r.rootNodes[0])}return e}},{key:"_getRowDefs",value:function(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];var n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(function(n){return!n.when||n.when(e,t)});else{var r=this._rowDefs.find(function(n){return n.when&&n.when(e,t)})||this._defaultRowDef;r&&n.push(r)}return n}},{key:"_getEmbeddedViewArgs",value:function(t,e){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:e}}},{key:"_renderRow",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.viewContainer.createEmbeddedView(e.template,r,n);return this._renderCellTemplateForItem(e,r),i}},{key:"_renderCellTemplateForItem",value:function(t,e){var n,r=s(this._getCellTemplates(t));try{for(r.s();!(n=r.n()).done;){var i=n.value;Fn.mostRecentCellOutlet&&Fn.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,e)}}catch(o){r.e(o)}finally{r.f()}this._changeDetectorRef.markForCheck()}},{key:"_updateRowIndexContext",value:function(){for(var t=this._rowOutlet.viewContainer,e=0,n=t.length;e<n;e++){var r=t.get(e).context;r.count=n,r.first=0===e,r.last=e===n-1,r.even=e%2==0,r.odd=!r.even,this.multiTemplateDataRows?(r.dataIndex=this._renderRows[e].dataIndex,r.renderIndex=e):r.index=this._renderRows[e].dataIndex}}},{key:"_getCellTemplates",value:function(t){var e=this;return t&&t.columns?Array.from(t.columns,function(n){var r=e._columnDefsByName.get(n);return t.extractCellTemplate(r)}):[]}},{key:"_applyNativeTableSections",value:function(){for(var t=this._document.createDocumentFragment(),e=0,n=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];e<n.length;e++){var r=n[e],i=this._document.createElement(r.tag);i.setAttribute("role","rowgroup");var o,a=s(r.outlets);try{for(a.s();!(o=a.n()).done;){var u=o.value;i.appendChild(u.elementRef.nativeElement)}}catch(c){a.e(c)}finally{a.f()}t.appendChild(i)}this._elementRef.nativeElement.appendChild(t)}},{key:"_forceRenderDataRows",value:function(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}},{key:"_checkStickyStates",value:function(){var t=function(t,e){return t||e.hasStickyChanged()};this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}},{key:"_setupStickyStyler",value:function(){var t=this;this._stickyStyler=new qn(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Wt()).pipe(Xe(this._onDestroy)).subscribe(function(e){t._stickyStyler.direction=e,t.updateStickyColumnStyles()})}},{key:"_getOwnDefs",value:function(t){var e=this;return t.filter(function(t){return!t._table||t._table===e})}},{key:"_updateNoDataRow",value:function(){var t=this._customNoDataRow||this._noDataRow;if(t){var e=0===this._rowOutlet.viewContainer.length;if(e!==this._isShowingNoDataRow){var n=this._noDataRowOutlet.viewContainer;e?n.createEmbeddedView(t.templateRef):n.clear(),this._isShowingNoDataRow=e}}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.ZZ4),u.Y36(u.sBO),u.Y36(u.SBq),u.$8M("role"),u.Y36(ne,8),u.Y36(m),u.Y36(ue),u.Y36(te),u.Y36(xn),u.Y36(cn),u.Y36(jn,12))},t.\u0275cmp=u.Xpm({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,n){var r;(1&t&&(u.Suo(n,Vn,5),u.Suo(n,kn,5),u.Suo(n,Nn,5),u.Suo(n,Rn,5),u.Suo(n,Pn,5)),2&t)&&(u.iGM(r=u.CRH())&&(e._noDataRow=r.first),u.iGM(r=u.CRH())&&(e._contentColumnDefs=r),u.iGM(r=u.CRH())&&(e._contentRowDefs=r),u.iGM(r=u.CRH())&&(e._contentHeaderRowDefs=r),u.iGM(r=u.CRH())&&(e._contentFooterRowDefs=r))},viewQuery:function(t,e){var n;(1&t&&(u.Gf(Un,7),u.Gf(Gn,7),u.Gf(zn,7),u.Gf(Hn,7)),2&t)&&(u.iGM(n=u.CRH())&&(e._rowOutlet=n.first),u.iGM(n=u.CRH())&&(e._headerRowOutlet=n.first),u.iGM(n=u.CRH())&&(e._footerRowOutlet=n.first),u.iGM(n=u.CRH())&&(e._noDataRowOutlet=n.first))},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,e){2&t&&u.ekj("cdk-table-fixed-layout",e.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},exportAs:["cdkTable"],features:[u._Bn([{provide:mn,useExisting:t},{provide:te,useClass:Xt},{provide:xn,useClass:In},{provide:jn,useValue:null}])],ngContentSelectors:vn,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(u.F$t(pn),u.Hsn(0),u.Hsn(1,1),u.GkF(2,0),u.GkF(3,1),u.GkF(4,2),u.GkF(5,3))},directives:[Gn,Un,Hn,zn],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),t}();function Wn(t,e){return t.concat(Array.from(e))}var Kn=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[hn]]}),t}();function Zn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.length?n.some(function(e){return t[e]}):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var Qn=a(9922);function Jn(t,e){return void 0===e&&(e=He.z),(0,je.e)(function(n,r){var i=null,o=null,a=null,s=function(){if(i){i.unsubscribe(),i=null;var t=o;o=null,r.next(t)}};function u(){var n=a+t,r=e.now();r<n?i=this.schedule(void 0,n-r):s()}n.subscribe(new Ue.Q(r,function(n){o=n,a=e.now(),i||(i=e.schedule(u,t))},function(){s(),r.complete()},void 0,function(){o=i=null}))})}var Xn=function(){var t=function(){function t(){f(this,t)}return h(t,[{key:"create",value:function(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t}(),$n=function(){var t=function(){function t(e){f(this,t),this._mutationObserverFactory=e,this._observedElements=new Map}return h(t,[{key:"ngOnDestroy",value:function(){var t=this;this._observedElements.forEach(function(e,n){return t._cleanupObserver(n)})}},{key:"observe",value:function(t){var e=this,n=jt(t);return new Ut.y(function(t){var r=e._observeElement(n).subscribe(t);return function(){r.unsubscribe(),e._unobserveElement(n)}})}},{key:"_observeElement",value:function(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{var e=new Kt.x,n=this._mutationObserverFactory.create(function(t){return e.next(t)});n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}},{key:"_unobserveElement",value:function(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}},{key:"_cleanupObserver",value:function(t){if(this._observedElements.has(t)){var e=this._observedElements.get(t),n=e.observer,r=e.stream;n&&n.disconnect(),r.complete(),this._observedElements.delete(t)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(Xn))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(Xn))},token:t,providedIn:"root"}),t}(),tr=function(){var t=function(){function t(e,n,r){f(this,t),this._contentObserver=e,this._elementRef=n,this._ngZone=r,this.event=new u.vpe,this._disabled=!1,this._currentSubscription=null}return h(t,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Lt(t),this._disabled?this._unsubscribe():this._subscribe()}},{key:"debounce",get:function(){return this._debounce},set:function(t){this._debounce=Mt(t),this._subscribe()}},{key:"ngAfterContentInit",value:function(){this._currentSubscription||this.disabled||this._subscribe()}},{key:"ngOnDestroy",value:function(){this._unsubscribe()}},{key:"_subscribe",value:function(){var t=this;this._unsubscribe();var e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(function(){t._currentSubscription=(t.debounce?e.pipe(Jn(t.debounce)):e).subscribe(t.event)})}},{key:"_unsubscribe",value:function(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36($n),u.Y36(u.SBq),u.Y36(u.R0b))},t.\u0275dir=u.lG2({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t}(),er=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[Xn]}),t}(),nr=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"setActiveItem",value:function(t){this.activeItem&&this.activeItem.setInactiveStyles(),i(w(n.prototype),"setActiveItem",this).call(this,t),this.activeItem&&this.activeItem.setActiveStyles()}}]),n}(function(){function t(e){var n=this;f(this,t),this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Kt.x,this._typeaheadSubscription=Ie.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=function(t){return t.disabled},this._pressedLetters=[],this.tabOut=new Kt.x,this.change=new Kt.x,e instanceof u.n_E&&e.changes.subscribe(function(t){if(n._activeItem){var e=t.toArray().indexOf(n._activeItem);e>-1&&e!==n._activeItemIndex&&(n._activeItemIndex=e)}})}return h(t,[{key:"skipPredicate",value:function(t){return this._skipPredicateFn=t,this}},{key:"withWrap",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._wrap=t,this}},{key:"withVerticalOrientation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._vertical=t,this}},{key:"withHorizontalOrientation",value:function(t){return this._horizontal=t,this}},{key:"withAllowedModifierKeys",value:function(t){return this._allowedModifierKeys=t,this}},{key:"withTypeAhead",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Qn.b)(function(e){return t._pressedLetters.push(e)}),Jn(e),Qe(function(){return t._pressedLetters.length>0}),(0,ge.U)(function(){return t._pressedLetters.join("")})).subscribe(function(e){for(var n=t._getItemsArray(),r=1;r<n.length+1;r++){var i=(t._activeItemIndex+r)%n.length,o=n[i];if(!t._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){t.setActiveItem(i);break}}t._pressedLetters=[]}),this}},{key:"withHomeAndEnd",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._homeAndEnd=t,this}},{key:"setActiveItem",value:function(t){var e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}},{key:"onKeydown",value:function(t){var e=this,n=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(function(n){return!t[n]||e._allowedModifierKeys.indexOf(n)>-1});switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Zn(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],t.preventDefault()}},{key:"activeItemIndex",get:function(){return this._activeItemIndex}},{key:"activeItem",get:function(){return this._activeItem}},{key:"isTyping",value:function(){return this._pressedLetters.length>0}},{key:"setFirstItemActive",value:function(){this._setActiveItemByIndex(0,1)}},{key:"setLastItemActive",value:function(){this._setActiveItemByIndex(this._items.length-1,-1)}},{key:"setNextItemActive",value:function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}},{key:"setPreviousItemActive",value:function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}},{key:"updateActiveItem",value:function(t){var e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}},{key:"_setActiveItemByDelta",value:function(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}},{key:"_setActiveInWrapMode",value:function(t){for(var e=this._getItemsArray(),n=1;n<=e.length;n++){var r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}},{key:"_setActiveInDefaultMode",value:function(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}},{key:"_setActiveItemByIndex",value:function(t,e){var n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}},{key:"_getItemsArray",value:function(){return this._items instanceof u.n_E?this._items.toArray():this._items}}]),t}()),rr=function(){var t=function(){function t(e){f(this,t),this._platform=e}return h(t,[{key:"isDisabled",value:function(t){return t.hasAttribute("disabled")}},{key:"isVisible",value:function(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}},{key:"isTabbable",value:function(t){if(!this._platform.isBrowser)return!1;var e,n=function(t){try{return t.frameElement}catch(QT){return null}}((e=t).ownerDocument&&e.ownerDocument.defaultView||window);if(n){if(-1===or(n))return!1;if(!this.isVisible(n))return!1}var r=t.nodeName.toLowerCase(),i=or(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){var e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}},{key:"isFocusable",value:function(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){var e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||ir(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(ue))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(ue))},token:t,providedIn:"root"}),t}();function ir(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;var e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function or(t){if(!ir(t))return null;var e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}var ar=function(){function t(e,n,r,i){var o=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];f(this,t),this._element=e,this._checker=n,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=function(){return o.focusLastTabbableElement()},this.endAnchorListener=function(){return o.focusFirstTabbableElement()},this._enabled=!0,a||this.attachAnchors()}return h(t,[{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}},{key:"destroy",value:function(){var t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}},{key:"attachAnchors",value:function(){var t=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular(function(){t._startAnchor||(t._startAnchor=t._createAnchor(),t._startAnchor.addEventListener("focus",t.startAnchorListener)),t._endAnchor||(t._endAnchor=t._createAnchor(),t._endAnchor.addEventListener("focus",t.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}},{key:"focusInitialElementWhenReady",value:function(t){var e=this;return new Promise(function(n){e._executeOnStable(function(){return n(e.focusInitialElement(t))})})}},{key:"focusFirstTabbableElementWhenReady",value:function(t){var e=this;return new Promise(function(n){e._executeOnStable(function(){return n(e.focusFirstTabbableElement(t))})})}},{key:"focusLastTabbableElementWhenReady",value:function(t){var e=this;return new Promise(function(n){e._executeOnStable(function(){return n(e.focusLastTabbableElement(t))})})}},{key:"_getRegionBoundary",value:function(t){for(var e=this._element.querySelectorAll("[cdk-focus-region-".concat(t,"], [cdkFocusRegion").concat(t,"], [cdk-focus-").concat(t,"]")),n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-".concat(t))?console.warn("Found use of deprecated attribute 'cdk-focus-".concat(t,"', use 'cdkFocusRegion").concat(t,"' instead. The deprecated attribute will be removed in 8.0.0."),e[n]):e[n].hasAttribute("cdk-focus-region-".concat(t))&&console.warn("Found use of deprecated attribute 'cdk-focus-region-".concat(t,"', use 'cdkFocusRegion").concat(t,"' instead. The deprecated attribute will be removed in 8.0.0."),e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}},{key:"focusInitialElement",value:function(t){var e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){var n=this._getFirstTabbableElement(e);return null==n||n.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}},{key:"focusFirstTabbableElement",value:function(t){var e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}},{key:"focusLastTabbableElement",value:function(t){var e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}},{key:"hasAttached",value:function(){return this._hasAttached}},{key:"_getFirstTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}},{key:"_getLastTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=e.length-1;n>=0;n--){var r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}},{key:"_createAnchor",value:function(){var t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}},{key:"_toggleAnchorTabIndex",value:function(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}},{key:"toggleAnchors",value:function(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}},{key:"_executeOnStable",value:function(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,dn.q)(1)).subscribe(t)}}]),t}(),sr=function(){var t=function(){function t(e,n,r){f(this,t),this._checker=e,this._ngZone=n,this._document=r}return h(t,[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new ar(t,this._checker,this._ngZone,this._document,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(rr),u.LFG(u.R0b),u.LFG(m))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(rr),u.LFG(u.R0b),u.LFG(m))},token:t,providedIn:"root"}),t}();function ur(t){return 0===t.buttons}function cr(t){var e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;var lr=new u.OlP("cdk-input-modality-detector-options"),hr={ignoreKeys:[18,17,224,91,16]},fr=fe({passive:!0,capture:!0}),dr=function(){var t=function(){function t(e,n,r,i){var o=this;f(this,t),this._platform=e,this._mostRecentTarget=null,this._modality=new fn(null),this._lastTouchMs=0,this._onKeydown=function(t){var e,n;(null===(n=null===(e=o._options)||void 0===e?void 0:e.ignoreKeys)||void 0===n?void 0:n.some(function(e){return e===t.keyCode}))||(o._modality.next("keyboard"),o._mostRecentTarget=pr(t))},this._onMousedown=function(t){Date.now()-o._lastTouchMs<650||(o._modality.next(ur(t)?"keyboard":"mouse"),o._mostRecentTarget=pr(t))},this._onTouchstart=function(t){cr(t)?o._modality.next("keyboard"):(o._lastTouchMs=Date.now(),o._modality.next("touch"),o._mostRecentTarget=pr(t))},this._options=Object.assign(Object.assign({},hr),i),this.modalityDetected=this._modality.pipe(Qe(function(t,e){return 1<=e})),this.modalityChanged=this.modalityDetected.pipe(Ge()),e.isBrowser&&n.runOutsideAngular(function(){r.addEventListener("keydown",o._onKeydown,fr),r.addEventListener("mousedown",o._onMousedown,fr),r.addEventListener("touchstart",o._onTouchstart,fr)})}return h(t,[{key:"mostRecentModality",get:function(){return this._modality.value}},{key:"ngOnDestroy",value:function(){this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,fr),document.removeEventListener("mousedown",this._onMousedown,fr),document.removeEventListener("touchstart",this._onTouchstart,fr))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(ue),u.LFG(u.R0b),u.LFG(m),u.LFG(lr,8))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(ue),u.LFG(u.R0b),u.LFG(m),u.LFG(lr,8))},token:t,providedIn:"root"}),t}();function pr(t){return t.composedPath?t.composedPath()[0]:t.target}var vr=new u.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),yr=new u.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),mr=function(){var t=function(){function t(e,n,r,i){f(this,t),this._ngZone=n,this._defaultOptions=i,this._document=r,this._liveElement=e||this._createLiveElement()}return h(t,[{key:"announce",value:function(t){for(var n,r,i,o=this,a=this._defaultOptions,s=arguments.length,u=new Array(s>1?s-1:0),c=1;c<s;c++)u[c-1]=arguments[c];return 1===u.length&&"number"==typeof u[0]?i=u[0]:(r=(n=e(u,2))[0],i=n[1]),this.clear(),clearTimeout(this._previousTimeout),r||(r=a&&a.politeness?a.politeness:"polite"),null==i&&a&&(i=a.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(function(){return new Promise(function(e){clearTimeout(o._previousTimeout),o._previousTimeout=setTimeout(function(){o._liveElement.textContent=t,e(),"number"==typeof i&&(o._previousTimeout=setTimeout(function(){return o.clear()},i))},100)})})}},{key:"clear",value:function(){this._liveElement&&(this._liveElement.textContent="")}},{key:"ngOnDestroy",value:function(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}},{key:"_createLiveElement",value:function(){for(var t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div"),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(vr,8),u.LFG(u.R0b),u.LFG(m),u.LFG(yr,8))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(vr,8),u.LFG(u.R0b),u.LFG(m),u.LFG(yr,8))},token:t,providedIn:"root"}),t}(),gr=new u.OlP("cdk-focus-monitor-default-options"),_r=fe({passive:!0,capture:!0}),br=function(){var t=function(){function t(e,n,r,i,o){var a=this;f(this,t),this._ngZone=e,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=function(){a._windowFocused=!0,a._windowFocusTimeoutId=setTimeout(function(){return a._windowFocused=!1})},this._stopInputModalityDetector=new Kt.x,this._rootNodeFocusAndBlurListener=function(t){for(var e=pr(t),n="focus"===t.type?a._onFocus:a._onBlur,r=e;r;r=r.parentElement)n.call(a,t,r)},this._document=i,this._detectionMode=(null==o?void 0:o.detectionMode)||0}return h(t,[{key:"monitor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=jt(t);if(!this._platform.isBrowser||1!==n.nodeType)return Wt(null);var r=de(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;var o={checkChildren:e,subject:new Kt.x,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}},{key:"stopMonitoring",value:function(t){var e=jt(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}},{key:"focusVia",value:function(t,n,r){var i=this,o=jt(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(function(t){var r=e(t,2),o=r[0],a=r[1];return i._originChanged(o,n,a)}):(this._setOrigin(n),"function"==typeof o.focus&&o.focus(r))}},{key:"ngOnDestroy",value:function(){var t=this;this._elementInfo.forEach(function(e,n){return t.stopMonitoring(n)})}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_toggleClass",value:function(t,e,n){n?t.classList.add(e):t.classList.remove(e)}},{key:"_getFocusOrigin",value:function(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}},{key:"_shouldBeAttributedToTouch",value:function(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}},{key:"_setClasses",value:function(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}},{key:"_setOrigin",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._ngZone.runOutsideAngular(function(){e._origin=t,e._originFromTouchInteraction="touch"===t&&n,0===e._detectionMode&&(clearTimeout(e._originTimeoutId),e._originTimeoutId=setTimeout(function(){return e._origin=null},e._originFromTouchInteraction?650:1))})}},{key:"_onFocus",value:function(t,e){var n=this._elementInfo.get(e),r=pr(t);n&&(n.checkChildren||e===r)&&this._originChanged(e,this._getFocusOrigin(r),n)}},{key:"_onBlur",value:function(t,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(t,e){this._ngZone.run(function(){return t.next(e)})}},{key:"_registerGlobalListeners",value:function(t){var e=this;if(this._platform.isBrowser){var n=t.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(function(){n.addEventListener("focus",e._rootNodeFocusAndBlurListener,_r),n.addEventListener("blur",e._rootNodeFocusAndBlurListener,_r)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(function(){e._getWindow().addEventListener("focus",e._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Xe(this._stopInputModalityDetector)).subscribe(function(t){e._setOrigin(t,!0)}))}}},{key:"_removeGlobalListeners",value:function(t){var e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){var n=this._rootNodeFocusListenerCount.get(e);n>1?this._rootNodeFocusListenerCount.set(e,n-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,_r),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,_r),this._rootNodeFocusListenerCount.delete(e))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}},{key:"_originChanged",value:function(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}},{key:"_getClosestElementsInfo",value:function(t){var e=[];return this._elementInfo.forEach(function(n,r){(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.R0b),u.LFG(ue),u.LFG(dr),u.LFG(m,8),u.LFG(gr,8))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(u.R0b),u.LFG(ue),u.LFG(dr),u.LFG(m,8),u.LFG(gr,8))},token:t,providedIn:"root"}),t}(),wr=function(){var t=function(){function t(e,n){f(this,t),this._platform=e,this._document=n}return h(t,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);var e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){var t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black"),this._hasCheckedHighContrastMode=!0;var e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(ue),u.LFG(m))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(ue),u.LFG(m))},token:t,providedIn:"root"}),t}(),kr=function(){var t=function t(e){f(this,t),e._applyBodyHighContrastModeCssClasses()};return t.\u0275fac=function(e){return new(e||t)(u.LFG(wr))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[ce,er]]}),t}(),Cr=new u.GfV("12.1.0"),Sr=function t(){f(this,t)};function Er(t,e){return{type:7,name:t,definitions:e,options:{}}}function Tr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:e,timings:t}}function xr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function Ir(t){return{type:6,styles:t,offset:null}}function Ar(t,e,n){return{type:0,name:t,styles:e,options:n}}function Dr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:e,options:n}}function Rr(t){Promise.resolve(null).then(t)}var Or=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}return h(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;Rr(function(){return t._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this._started=!1}},{key:"setPosition",value:function(t){this._position=this.totalTime?t*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}(),Pr=function(){function t(e){var n=this;f(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var r=0,i=0,o=0,a=this.players.length;0==a?Rr(function(){return n._onFinish()}):this.players.forEach(function(t){t.onDone(function(){++r==a&&n._onFinish()}),t.onDestroy(function(){++i==a&&n._onDestroy()}),t.onStart(function(){++o==a&&n._onStart()})}),this.totalTime=this.players.reduce(function(t,e){return Math.max(t,e.totalTime)},0)}return h(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(t){return t.init()})}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})}},{key:"pause",value:function(){this.players.forEach(function(t){return t.pause()})}},{key:"restart",value:function(){this.players.forEach(function(t){return t.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach(function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}},{key:"getPosition",value:function(){var t=this.players.reduce(function(t,e){return null===t||e.totalTime>t.totalTime?e:t},null);return null!=t?t.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}();function Nr(){return"undefined"!=typeof window&&void 0!==window.document}function Fr(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Lr(t){switch(t.length){case 0:return new Or;case 1:return t[0];default:return new Pr(t)}}function Mr(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,c=null;if(r.forEach(function(t){var n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(function(n){var r=n,s=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,a),s){case"!":s=i[n];break;case"*":s=o[n];break;default:s=e.normalizeStyleValue(n,r,s,a)}l[r]=s}),r||s.push(l),c=l,u=n}),a.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(a.join(l)))}return s}function Vr(t,e,n,r){switch(e){case"start":t.onStart(function(){return r(n&&Br(n,"start",t))});break;case"done":t.onDone(function(){return r(n&&Br(n,"done",t))});break;case"destroy":t.onDestroy(function(){return r(n&&Br(n,"destroy",t))})}}function Br(t,e,n){var r=n.totalTime,i=qr(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function qr(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function jr(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function Ur(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var Gr=function(t,e){return!1},zr=function(t,e){return!1},Hr=function(t,e,n){return[]},Yr=Fr();(Yr||"undefined"!=typeof Element)&&(Gr=Nr()?function(t,e){for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:function(t,e){return t.contains(e)},zr=function(){if(Yr||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:zr}(),Hr=function(t,e,n){var r=[];if(n)for(var i=t.querySelectorAll(e),o=0;o<i.length;o++)r.push(i[o]);else{var a=t.querySelector(e);a&&r.push(a)}return r});var Wr=null,Kr=!1;function Zr(t){Wr||(Wr=("undefined"!=typeof document?document.body:null)||{},Kr=!!Wr.style&&"WebkitAppearance"in Wr.style);var e=!0;return Wr.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in Wr.style)&&Kr)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Wr.style),e}var Qr=zr,Jr=Gr,Xr=Hr;function $r(t){var e={};return Object.keys(t).forEach(function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}var ti=function(){var t=function(){function t(){f(this,t)}return h(t,[{key:"validateStyleProperty",value:function(t){return Zr(t)}},{key:"matchesElement",value:function(t,e){return Qr(t,e)}},{key:"containsElement",value:function(t,e){return Jr(t,e)}},{key:"query",value:function(t,e,n){return Xr(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,r,i){return new Or(n,r)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),ei=function t(){f(this,t)};function ni(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ri(parseFloat(e[1]),e[2])}function ri(t,e){switch(e){case"s":return 1e3*t;default:return t}}function ii(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};r=ri(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=ri(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=t;if(!n){var c=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&e.splice(l,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(t,e,n)}function oi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function ai(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var r in t)n[r]=t[r];else oi(t,n);return n}function si(t,e,n){return n?e+":"+n+";":""}function ui(t){for(var e="",n=0;n<t.style.length;n++){var r=t.style.item(n);e+=si(0,r,t.style.getPropertyValue(r))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=si(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[i]));t.setAttribute("style",e)}function ci(t,e,n){t.style&&(Object.keys(e).forEach(function(r){var i=mi(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Fr()&&ui(t))}function li(t,e){t.style&&(Object.keys(e).forEach(function(e){var n=mi(e);t.style[n]=""}),Fr()&&ui(t))}function hi(t){return Array.isArray(t)?1==t.length?t[0]:xr(t):t}ei.NOOP=new ti;var fi=new RegExp("{{\\s*(.+?)\\s*}}","g");function di(t){var e=[];if("string"==typeof t){for(var n;n=fi.exec(t);)e.push(n[1]);fi.lastIndex=0}return e}function pi(t,e,n){var r=t.toString(),i=r.replace(fi,function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()});return i==r?t:i}function vi(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var yi=/-+([a-z0-9])/g;function mi(t){return t.replace(yi,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()})}function gi(t,e){return 0===t||0===e}function _i(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach(function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]}),o.length)for(var a=function(){var n=e[s];o.forEach(function(e){n[e]=wi(t,e)})},s=1;s<e.length;s++)a()}return e}function bi(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #".concat(e.type))}}function wi(t,e){return window.getComputedStyle(t)[e]}var ki=new Set(["true","1"]),Ci=new Set(["false","0"]);function Si(t,e){var n=ki.has(t)||Ci.has(t),r=ki.has(e)||Ci.has(e);return function(i,o){var a="*"==t||t==i,s="*"==e||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?ki.has(t):Ci.has(t)),!s&&r&&"boolean"==typeof o&&(s=o?ki.has(e):Ci.has(e)),a&&s}}var Ei=new RegExp("s*:selfs*,?","g");function Ti(t,e,n){return new xi(t).build(e,n)}var xi=function(){function t(e){f(this,t),this._driver=e}return h(t,[{key:"build",value:function(t,e){var n=new Ii(e);return this._resetContextStyleTimingState(n),bi(this,hi(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,u=s.name;u.toString().split(/\s*,\s*/).forEach(function(t){s.name=t,o.push(n.visitState(s,e))}),s.name=u}else if(1==t.type){var c=n.visitTransition(t,e);r+=c.queryCount,i+=c.depCount,a.push(c)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach(function(t){if(Ai(t)){var e=t;Object.keys(e).forEach(function(t){di(e[t]).forEach(function(t){o.hasOwnProperty(t)||i.add(t)})})}}),i.size){var a=vi(i.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=bi(this,hi(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=i[1],a=i[2],s=i[3];e.push(Si(o,s)),"<"!=a[0]||"*"==o&&"*"==s||e.push(Si(s,o))}(t,i,r)}):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:Di(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map(function(t){return bi(n,t,e)}),options:Di(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map(function(t){e.currentTime=r;var o=bi(n,t,e);return i=Math.max(i,e.currentTime),o});return e.currentTime=i,{type:3,steps:o,options:Di(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Ri(ii(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some(function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)})){var i=Ri(0,0,"");return i.dynamic=!0,i.strValue=r,i}return Ri((n=n||ii(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:Ir({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=Ir(s)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=a,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach(function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)}):n.push(t.styles);var r=!1,i=null;return n.forEach(function(t){if(Ai(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(function(t){"string"!=typeof t&&Object.keys(t).forEach(function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,c,l,h=e.collectedStyles[e.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(e.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),e.options&&(a=t[r],s=e.options,u=e.errors,c=s.params||{},(l=di(a)).length&&l.forEach(function(t){c.hasOwnProperty(t)||u.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))}))}else e.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,c=t.steps.map(function(t){var r=n._makeStyleAst(t,e),c=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach(function(t){if(Ai(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}});else if(Ai(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,a=a||l<u,u=l,o.push(l),r});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var l=t.steps.length,h=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=e.currentTime,p=e.currentAnimateTimings,v=p.duration;return c.forEach(function(t,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;e.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(t,e),t.offset=a,r.styles.push(t)}),r}},{key:"visitReference",value:function(t,e){return{type:8,animation:bi(this,hi(t.animation),e),options:Di(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:Di(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Di(t.options)}}},{key:"visitQuery",value:function(t,n){var r=n.currentQuerySelector,i=t.options||{};n.queryCount++,n.currentQuery=t;var o=e(function(t){var e=!!t.split(/\s*,\s*/).find(function(t){return":self"==t});return e&&(t=t.replace(Ei,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(t){return".ng-trigger-"+t.substr(1)}).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),a=o[0],s=o[1];n.currentQuerySelector=r.length?r+" "+a:a,jr(n.collectedStyles,n.currentQuerySelector,{});var u=bi(this,hi(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:u,originalSelector:t.selector,options:Di(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:ii(t.timings,e.errors,!0);return{type:12,animation:bi(this,hi(t.animation),e),timings:n,options:null}}}]),t}(),Ii=function t(e){f(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Ai(t){return!Array.isArray(t)&&"object"==typeof t}function Di(t){var e;return t?(t=oi(t)).params&&(t.params=(e=t.params)?oi(e):null):t={},t}function Ri(t,e,n){return{duration:t,delay:e,easing:n}}function Oi(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var Pi=function(){function t(){f(this,t),this._map=new Map}return h(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,r=this._map.get(t);r||this._map.set(t,r=[]),(n=r).push.apply(n,o(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),Ni=new RegExp(":enter","g"),Fi=new RegExp(":leave","g");function Li(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new Mi).buildKeyframes(t,e,n,r,i,o,a,s,u,c)}var Mi=function(){function t(){f(this,t)}return h(t,[{key:"buildKeyframes",value:function(t,e,n,r,i,o,a,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new Pi;var l=new Bi(t,e,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),bi(this,n,l);var h=l.timelines.filter(function(t){return t.containsAnimation()});if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,l.errors,s)}return h.length?h.map(function(t){return t.buildKeyframes()}):[Oi(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?ni(n.duration):null,o=null!=n.delay?ni(n.delay):null;return 0!==i&&t.forEach(function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),bi(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Vi);var a=ni(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach(function(t){return bi(n,t,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?ni(t.options.delay):0;t.steps.forEach(function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),bi(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)}),e.transformIntoNewTimeline(i),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return ii(e.params?pi(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?ni(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Vi);var a=r,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;var u=null;s.forEach(function(r,i){e.currentQueryIndex=i;var s=e.createSubContext(t.options,r);o&&s.delayNextStep(o),r===e.element&&(u=s.currentTimeline),bi(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=e.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;bi(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),t}(),Vi={},Bi=function(){function t(e,n,r,i,o,a,s,u){f(this,t),this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new qi(this._driver,n,0),s.push(this.currentTimeline)}return h(t,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=ni(r.duration)),null!=r.delay&&(i.delay=ni(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach(function(t){e&&a.hasOwnProperty(t)||(a[t]=pi(o[t],a,n.errors))})}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach(function(t){n[t]=e[t]})}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=Vi,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new ji(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,r,i,a){var s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(Ni,"."+this._enterClassName)).replace(Fi,"."+this._leaveClassName);var u=this._driver.query(this.element,t,1!=n);0!==n&&(u=n<0?u.slice(u.length+n,u.length):u.slice(0,n)),s.push.apply(s,o(u))}return i||0!=s.length||a.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),s}}]),t}(),qi=function(){function t(e,n,r,i){f(this,t),this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return h(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},a=function(t,e){var n,r={};return t.forEach(function(t){"*"===t?(n=n||Object.keys(e)).forEach(function(t){r[t]="*"}):ai(t,!1,r)}),r}(t,this._globalTimelineStyles);Object.keys(a).forEach(function(t){var e=pi(a[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:"*"),i._updateStyle(t,e)})}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){t._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach(function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach(function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)})}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach(function(o,a){var s=ai(o,!0);Object.keys(s).forEach(function(t){var r=s[t];"!"==r?e.add(t):"*"==r&&n.add(t)}),r||(s.offset=a/t.duration),i.push(s)});var o=e.size?vi(e.values()):[],a=n.size?vi(n.values()):[];if(r){var s=i[0],u=oi(s);s.offset=0,u.offset=1,i=[s,u]}return Oi(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}}]),t}(),ji=function(t){d(n,t);var e=p(n);function n(t,r,i,o,a,s){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return f(this,n),(u=e.call(this,t,r,s.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=c,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return h(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=ai(t[0],!1);u.offset=0,o.push(u);var c=ai(t[0],!1);c.offset=Ui(s),o.push(c);for(var l=t.length-1,h=1;h<=l;h++){var f=ai(t[h],!1);f.offset=Ui((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",t=o}return Oi(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(qi);function Ui(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var Gi,zi,Hi=function t(){f(this,t)},Yi=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"normalizePropertyName",value:function(t,e){return mi(t)}},{key:"normalizeStyleValue",value:function(t,e,n,r){var i="",o=n.toString().trim();if(Wi[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+i}}]),n}(Hi),Wi=(Gi="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),zi={},Gi.forEach(function(t){return zi[t]=!0}),zi);function Ki(t,e,n,r,i,o,a,s,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var Zi={},Qi=function(){function t(e,n,r){f(this,t),this._triggerName=e,this.ast=n,this._stateStyles=r}return h(t,[{key:"match",value:function(t,e,n,r){return function(t,e,n,r,i){return t.some(function(t){return t(e,n,r,i)})}(this.ast.matchers,t,e,n,r)}},{key:"buildStyles",value:function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,r,i,o,a,s,u,c){var l=[],h=this.ast.options&&this.ast.options.params||Zi,f=this.buildStyles(n,a&&a.params||Zi,l),d=s&&s.params||Zi,p=this.buildStyles(r,d,l),v=new Set,y=new Map,m=new Map,g="void"===r,_={params:Object.assign(Object.assign({},h),d)},b=c?[]:Li(t,e,this.ast.animation,i,o,f,p,_,u,l),w=0;if(b.forEach(function(t){w=Math.max(t.duration+t.delay,w)}),l.length)return Ki(e,this._triggerName,n,r,g,f,p,[],[],y,m,w,l);b.forEach(function(t){var n=t.element,r=jr(y,n,{});t.preStyleProps.forEach(function(t){return r[t]=!0});var i=jr(m,n,{});t.postStyleProps.forEach(function(t){return i[t]=!0}),n!==e&&v.add(n)});var k=vi(v.values());return Ki(e,this._triggerName,n,r,g,f,p,b,k,y,m,w)}}]),t}(),Ji=function(){function t(e,n){f(this,t),this.styles=e,this.defaultParams=n}return h(t,[{key:"buildStyles",value:function(t,e){var n={},r=oi(this.defaultParams);return Object.keys(t).forEach(function(e){var n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach(function(t){var o=i[t];o.length>1&&(o=pi(o,r,e)),n[t]=o})}}),n}}]),t}(),Xi=function(){function t(e,n){var r=this;f(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach(function(t){r.states[t.name]=new Ji(t.style,t.options&&t.options.params||{})}),$i(this.states,"true","1"),$i(this.states,"false","0"),n.transitions.forEach(function(t){r.transitionFactories.push(new Qi(e,t,r.states))}),this.fallbackTransition=new Qi(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return h(t,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(t,e,n,r){return this.transitionFactories.find(function(i){return i.match(t,e,n,r)})||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}]),t}();function $i(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var to=new Pi,eo=function(){function t(e,n,r){f(this,t),this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return h(t,[{key:"register",value:function(t,e){var n=[],r=Ti(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[t]=r}},{key:"_buildPlayer",value:function(t,e,n){var r=t.element,i=Mr(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[t],s=new Map;if(a?(n=Li(this._driver,e,a,"ng-enter","ng-leave",{},{},i,to,o)).forEach(function(t){var e=jr(s,t.element,{});t.postStyleProps.forEach(function(t){return e[t]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));s.forEach(function(t,e){Object.keys(t).forEach(function(n){t[n]=r._driver.computeStyle(e,n,"*")})});var u=Lr(n.map(function(t){var e=s.get(t.element);return r._buildPlayer(t,{},e)}));return this._playersById[t]=u,u.onDestroy(function(){return r.destroy(t)}),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by ".concat(t));return e}},{key:"listen",value:function(t,e,n,r){var i=qr(e,"","","");return Vr(this._getPlayer(t),n,i,r),function(){}}},{key:"command",value:function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])}}]),t}(),no=[],ro={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},io={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oo=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";f(this,t),this.namespaceId=n;var r,i=e&&e.hasOwnProperty("value");if(this.value=null!=(r=i?e.value:e)?r:null,i){var o=oi(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return h(t,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach(function(t){null==n[t]&&(n[t]=e[t])})}}}]),t}(),ao=new oo("void"),so=function(){function t(e,n,r){f(this,t),this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,vo(n,this._hostClassName)}return h(t,[{key:"listen",value:function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var a=jr(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};a.push(s);var u=jr(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(vo(t,"ng-trigger"),vo(t,"ng-trigger-"+e),u[e]=ao),function(){o._engine.afterFlush(function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete u[e]})}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),a=new co(this.id,e,t),s=this._engine.statesByElement.get(t);s||(vo(t,"ng-trigger"),vo(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var u=s[e],c=new oo(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[e]=c,u||(u=ao),"void"===c.value||u.value!==c.value){var l=jr(this._engine.playersByElement,t,[]);l.forEach(function(t){t.namespaceId==r.id&&t.triggerName==e&&t.queued&&t.destroy()});var h=o.matchTransition(u.value,c.value,t,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:c,player:a,isFallbackTransition:f}),f||(vo(t,"ng-animate-queued"),a.onStart(function(){yo(t,"ng-animate-queued")})),a.onDone(function(){var e=r.players.indexOf(a);e>=0&&r.players.splice(e,1);var n=r._engine.playersByElement.get(t);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}}),this.players.push(a),l.push(a),a}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush(function(){li(t,p),ci(t,v)})}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach(function(e,n){delete e[t]}),this._elementListeners.forEach(function(n,r){e._elementListeners.set(r,n.filter(function(e){return e.name!=t}))})}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach(function(t){return t.destroy()}),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,r=this._engine.driver.query(t,".ng-trigger",!0);r.forEach(function(t){if(!t.__ng_removed){var r=n._engine.fetchNamespacesByElement(t);r.size?r.forEach(function(n){return n.triggerLeaveAnimation(t,e,!1,!0)}):n.clearElementCache(t)}}),this._engine.afterFlushAnimationsDone(function(){return r.forEach(function(t){return n.clearElementCache(t)})})}},{key:"triggerLeaveAnimation",value:function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach(function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Lr(a).onDone(function(){return i._engine.processLeaveNode(t)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(n&&r){var i=new Set;n.forEach(function(n){var o=n.name;if(!i.has(o)){i.add(o);var a=e._triggers[o].fallbackTransition,s=r[o]||ao,u=new oo("void"),c=new co(e.id,o,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:o,transition:a,fromState:s,toState:u,player:c,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var a=t;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{var s=t.__ng_removed;s&&s!==ro||(r.afterFlush(function(){return n.clearElementCache(t)}),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){vo(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach(function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=e._elementListeners.get(o);a&&a.forEach(function(e){if(e.name==r.triggerName){var n=qr(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,Vr(r.player,e.phase,n,e.callback)}}),i.markedForDestroy?e._engine.afterFlush(function(){i.destroy()}):n.push(r)}}),this._queue=[],n.sort(function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1})}},{key:"destroy",value:function(t){this.players.forEach(function(t){return t.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(function(e){return e.element===t})||e}}]),t}(),uo=function(){function t(e,n,r){f(this,t),this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return h(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t}},{key:"createNamespace",value:function(t,e){var n=new so(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(e)})}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e}},{key:"trigger",value:function(t,e,n,r){if(lo(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}},{key:"insertNode",value:function(t,e,n,r){if(lo(e)){var i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),vo(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),yo(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,r){if(lo(e)){var i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}},{key:"markElementAsRemoved",value:function(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,r,i){return lo(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}}},{key:"_buildInstruction",value:function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach(function(t){return e.destroyActiveAnimationsForElement(t)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach(function(t){return e.finishActiveQueriedAnimationOnElement(t)})}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach(function(t){t.queued?t.markedForDestroy=!0:t.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach(function(t){return t.finish()})}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise(function(e){if(t.players.length)return Lr(t.players).onDone(function(){return e()});e()})}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=ro,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(function(t){e.markElementAsDisabled(t,!1)})}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(e,n){return t._balanceNamespaceList(e,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)vo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,e)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(t){return t()}),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?Lr(n).onDone(function(){s.forEach(function(t){return t()})}):s.forEach(function(t){return t()})}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(t.join("\n")))}},{key:"_flushAnimations",value:function(t,e){var n=this,r=new Pi,i=[],a=new Map,s=[],u=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(function(t){h.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)h.add(e[r])});var f=this.bodyNode,d=Array.from(this.statesByElement.keys()),p=po(d,this.collectedEnterElements),v=new Map,y=0;p.forEach(function(t,e){var n="ng-enter"+y++;v.set(e,n),t.forEach(function(t){return vo(t,n)})});for(var m=[],g=new Set,_=new Set,b=0;b<this.collectedLeaveElements.length;b++){var w=this.collectedLeaveElements[b],k=w.__ng_removed;k&&k.setForRemoval&&(m.push(w),g.add(w),k.hasAnimation?this.driver.query(w,".ng-star-inserted",!0).forEach(function(t){return g.add(t)}):_.add(w))}var C=new Map,S=po(d,Array.from(g));S.forEach(function(t,e){var n="ng-leave"+y++;C.set(e,n),t.forEach(function(t){return vo(t,n)})}),t.push(function(){p.forEach(function(t,e){var n=v.get(e);t.forEach(function(t){return yo(t,n)})}),S.forEach(function(t,e){var n=C.get(e);t.forEach(function(t){return yo(t,n)})}),m.forEach(function(t){n.processLeaveNode(t)})});for(var E=[],T=[],x=this._namespaceList.length-1;x>=0;x--)this._namespaceList[x].drainQueuedTransitions(e).forEach(function(t){var e=t.player,o=t.element;if(E.push(e),n.collectedEnterElements.length){var a=o.__ng_removed;if(a&&a.setForMove)return void e.destroy()}var h=!f||!n.driver.containsElement(f,o),d=C.get(o),p=v.get(o),y=n._buildInstruction(t,r,p,d,h);if(y.errors&&y.errors.length)T.push(y);else{if(h)return e.onStart(function(){return li(o,y.fromStyles)}),e.onDestroy(function(){return ci(o,y.toStyles)}),void i.push(e);if(t.isFallbackTransition)return e.onStart(function(){return li(o,y.fromStyles)}),e.onDestroy(function(){return ci(o,y.toStyles)}),void i.push(e);y.timelines.forEach(function(t){return t.stretchStartingKeyframe=!0}),r.append(o,y.timelines),s.push({instruction:y,player:e,element:o}),y.queriedElements.forEach(function(t){return jr(u,t,[]).push(e)}),y.preStyleProps.forEach(function(t,e){var n=Object.keys(t);if(n.length){var r=c.get(e);r||c.set(e,r=new Set),n.forEach(function(t){return r.add(t)})}}),y.postStyleProps.forEach(function(t,e){var n=Object.keys(t),r=l.get(e);r||l.set(e,r=new Set),n.forEach(function(t){return r.add(t)})})}});if(T.length){var I=[];T.forEach(function(t){I.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach(function(t){return I.push("- ".concat(t,"\n"))})}),E.forEach(function(t){return t.destroy()}),this.reportError(I)}var A=new Map,D=new Map;s.forEach(function(t){var e=t.element;r.has(e)&&(D.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,A))}),i.forEach(function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(function(t){jr(A,e,[]).push(t),t.destroy()})});var R=m.filter(function(t){return _o(t,c,l)}),O=new Map;fo(O,this.driver,_,l,"*").forEach(function(t){_o(t,c,l)&&R.push(t)});var P=new Map;p.forEach(function(t,e){fo(P,n.driver,new Set(t),c,"!")}),R.forEach(function(t){var e=O.get(t),n=P.get(t);O.set(t,Object.assign(Object.assign({},e),n))});var N=[],F=[],L={};s.forEach(function(t){var e=t.element,o=t.player,s=t.instruction;if(r.has(e)){if(h.has(e))return o.onDestroy(function(){return ci(e,s.toStyles)}),o.disabled=!0,o.overrideTotalTime(s.totalTime),void i.push(o);var u=L;if(D.size>1){for(var c=e,l=[];c=c.parentNode;){var f=D.get(c);if(f){u=f;break}l.push(c)}l.forEach(function(t){return D.set(t,u)})}var d=n._buildAnimation(o.namespaceId,s,A,a,P,O);if(o.setRealPlayer(d),u===L)N.push(o);else{var p=n.playersByElement.get(u);p&&p.length&&(o.parentPlayer=Lr(p)),i.push(o)}}else li(e,s.fromStyles),o.onDestroy(function(){return ci(e,s.toStyles)}),F.push(o),h.has(e)&&i.push(o)}),F.forEach(function(t){var e=a.get(t.element);if(e&&e.length){var n=Lr(e);t.setRealPlayer(n)}}),i.forEach(function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(var M=0;M<m.length;M++){var V=m[M],B=V.__ng_removed;if(yo(V,"ng-leave"),!B||!B.hasAnimation){var q=[];if(u.size){var j=u.get(V);j&&j.length&&q.push.apply(q,o(j));for(var U=this.driver.query(V,".ng-animating",!0),G=0;G<U.length;G++){var z=u.get(U[G]);z&&z.length&&q.push.apply(q,o(z))}}var H=q.filter(function(t){return!t.destroyed});H.length?mo(this,V,H):this.processLeaveNode(V)}}return m.length=0,N.forEach(function(t){n.players.push(t),t.onDone(function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)}),t.play()}),N}},{key:"elementContainsData",value:function(t,e){var n=!1,r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,r,i){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var u=!i||"void"==i;s.forEach(function(t){t.queued||(u||t.triggerName==r)&&o.push(t)})}}return(n||r)&&(o=o.filter(function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)})),o}},{key:"_beforeAnimationBuild",value:function(t,e,n){var r,i=this,o=e.element,a=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName,c=s(e.timelines);try{var l=function(){var t=r.value.element,s=t!==o,c=jr(n,t,[]);i._getPreviousPlayers(t,s,a,u,e.toState).forEach(function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})};for(c.s();!(r=c.n()).done;)l()}catch(h){c.e(h)}finally{c.f()}li(o,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,r,i,o){var a=this,s=e.triggerName,u=e.element,c=[],l=new Set,h=new Set,f=e.timelines.map(function(e){var f=e.element;l.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new Or(e.duration,e.delay);var p,v,y=f!==u,m=(p=(n.get(f)||no).map(function(t){return t.getRealPlayer()}),v=[],go(p,v),v).filter(function(t){return!!t.element&&t.element===f}),g=i.get(f),_=o.get(f),b=Mr(0,a._normalizer,0,e.keyframes,g,_),w=a._buildPlayer(e,b,m);if(e.subTimeline&&r&&h.add(f),y){var k=new co(t,s,f);k.setRealPlayer(w),c.push(k)}return w});c.forEach(function(t){jr(a.playersByQueriedElement,t.element,[]).push(t),t.onDone(function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete t[e]}return r}(a.playersByQueriedElement,t.element,t)})}),l.forEach(function(t){return vo(t,"ng-animating")});var d=Lr(f);return d.onDestroy(function(){l.forEach(function(t){return yo(t,"ng-animating")}),ci(u,e.toStyles)}),h.forEach(function(t){jr(r,t,[]).push(d)}),d}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Or(t.duration,t.delay)}}]),t}(),co=function(){function t(e,n,r){f(this,t),this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Or,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return h(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(function(n){e._queuedCallbacks[n].forEach(function(e){return Vr(t,n,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart(function(){return n.triggerCallback("start")}),t.onDone(function(){return e.finish()}),t.onDestroy(function(){return e.destroy()})}},{key:"_queueEvent",value:function(t,e){jr(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function lo(t){return t&&1===t.nodeType}function ho(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function fo(t,e,n,r,i){var o=[];n.forEach(function(t){return o.push(ho(t))});var a=[];r.forEach(function(n,r){var o={};n.forEach(function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=io,a.push(r))}),t.set(r,o)});var s=0;return n.forEach(function(t){return ho(t,o[s++])}),a}function po(t,e){var n=new Map;if(t.forEach(function(t){return n.set(t,[])}),0==e.length)return n;var r=new Set(e),i=new Map;function o(t){if(!t)return 1;var e=i.get(t);if(e)return e;var a=t.parentNode;return e=n.has(a)?a:r.has(a)?1:o(a),i.set(t,e),e}return e.forEach(function(t){var e=o(t);1!==e&&n.get(e).push(t)}),n}function vo(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function yo(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function mo(t,e,n){Lr(n).onDone(function(){return t.processLeaveNode(e)})}function go(t,e){for(var n=0;n<t.length;n++){var r=t[n];r instanceof Pr?go(r.players,e):e.push(r)}}function _o(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach(function(t){return i.add(t)}):e.set(t,r),n.delete(t),!0}var bo=function(){function t(e,n,r){var i=this;f(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new uo(e,n,r),this._timelineEngine=new eo(e,n,r),this._transitionEngine.onRemovalComplete=function(t,e){return i.onRemovalComplete(t,e)}}return h(t,[{key:"registerTrigger",value:function(t,e,n,r,i){var o=t+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=Ti(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(t,e){return new Xi(t,e)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}},{key:"onRemove",value:function(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,n,r,i){if("@"==r.charAt(0)){var o=e(Ur(r),2),a=o[0],s=o[1];this._timelineEngine.command(a,n,s,i)}else this._transitionEngine.trigger(t,n,r,i)}},{key:"listen",value:function(t,n,r,i,o){if("@"==r.charAt(0)){var a=e(Ur(r),2),s=a[0],u=a[1];return this._timelineEngine.listen(s,n,u,o)}return this._transitionEngine.listen(t,n,r,i,o)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),t}();function wo(t,e){var n=null,r=null;return Array.isArray(e)&&e.length?(n=Co(e[0]),e.length>1&&(r=Co(e[e.length-1]))):e&&(n=Co(e)),n||r?new ko(t,n,r):null}var ko=function(){function t(e,n,r){f(this,t),this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;var i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}return h(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&ci(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(ci(this._element,this._initialStyles),this._endStyles&&(ci(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(li(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(li(this._element,this._endStyles),this._endStyles=null),ci(this._element,this._initialStyles),this._state=3)}}]),t}();function Co(t){for(var e=null,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];So(i)&&((e=e||{})[i]=t[i])}return e}function So(t){return"display"===t||"position"===t}ko.initialStylesByElement=new WeakMap;var Eo=function(){function t(e,n,r,i,o,a,s){var u=this;f(this,t),this._element=e,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return u._handleCallback(t)}}return h(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=Ro(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),Do(t,"",e),Ao(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){To(this._element,this._name,"paused")}},{key:"resume",value:function(){To(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=xo(this._element,this._name);this._position=t*this._duration,Do(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Ao(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var t,e,n,r;this._destroyed||(this._destroyed=!0,this.finish(),t=this._element,e=this._name,n=Ro(t,"").split(","),(r=Io(n,e))>=0&&(n.splice(r,1),Do(t,"",n.join(","))))}}]),t}();function To(t,e,n){Do(t,"PlayState",n,xo(t,e))}function xo(t,e){var n=Ro(t,"");return n.indexOf(",")>0?Io(n.split(","),e):Io([n],e)}function Io(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Ao(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Do(t,e,n,r){var i="animation"+e;if(null!=r){var o=t.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}t.style[i]=n}function Ro(t,e){return t.style["animation"+e]||""}var Oo=function(){function t(e,n,r,i,o,a,s,u){f(this,t),this.element=e,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return h(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new Eo(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return t.finish()})}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:wi(t.element,r))})}this.currentSnapshot=e}}]),t}(),Po=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).element=t,i._startingStyles={},i.__initialized=!1,i._styles=$r(r),i}return h(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(e){t._startingStyles[e]=t.element.style[e]}),i(w(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(e){return t.element.style.setProperty(e,t._styles[e])}),i(w(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)}),this._startingStyles=null,i(w(n.prototype),"destroy",this).call(this))}}]),n}(Or),No=function(){function t(){f(this,t),this._count=0}return h(t,[{key:"validateStyleProperty",value:function(t){return Zr(t)}},{key:"matchesElement",value:function(t,e){return Qr(t,e)}},{key:"containsElement",value:function(t,e){return Jr(t,e)}},{key:"query",value:function(t,e,n){return Xr(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map(function(t){return $r(t)});var r="@keyframes ".concat(e," {\n"),i="";n.forEach(function(t){i=" ";var e=parseFloat(t.offset);r+="".concat(i).concat(100*e,"% {\n"),i+=" ",Object.keys(t).forEach(function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(e,": ").concat(n,";\n"))}}),r+="".concat(i,"}\n")}),r+="}\n";var o=document.createElement("style");return o.textContent=r,o}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=o.filter(function(t){return t instanceof Oo}),s={};gi(n,r)&&a.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return s[t]=e[t]})});var u=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach(function(t){Object.keys(t).forEach(function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=_i(t,e,s));if(0==n)return new Po(t,u);var c="gen_css_kf_"+this._count++,l=this.buildKeyframeElement(t,c,e);(function(t){var e,n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(l);var h=wo(t,e),f=new Oo(t,e,c,n,r,i,u,h);return f.onDestroy(function(){var t;(t=l).parentNode.removeChild(t)}),f}}]),t}(),Fo=function(){function t(e,n,r,i){f(this,t),this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return h(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",function(){return t._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:wi(t.element,n))}),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}(),Lo=function(){function t(){f(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Mo().toString()),this._cssKeyframesDriver=new No}return h(t,[{key:"validateStyleProperty",value:function(t){return Zr(t)}},{key:"matchesElement",value:function(t,e){return Qr(t,e)}},{key:"containsElement",value:function(t,e){return Jr(t,e)}},{key:"query",value:function(t,e,n){return Xr(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},c=o.filter(function(t){return t instanceof Fo});gi(n,r)&&c.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return u[t]=e[t]})});var l=wo(t,e=_i(t,e=e.map(function(t){return ai(t,!1)}),u));return new Fo(t,e,s,l)}}]),t}();function Mo(){return Nr()&&Element.prototype.animate||{}}var Vo=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this))._nextAnimationId=0,i._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}}),i}return h(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?xr(t):t;return jo(this._renderer,null,e,"register",[n]),new Bo(e,this._renderer)}}]),n}(Sr);return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.FYo),u.LFG(m))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),Bo=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this))._id=t,i._renderer=r,i}return h(n,[{key:"create",value:function(t,e){return new qo(this._id,t,e||{},this._renderer)}}]),n}(function(){return function t(){f(this,t)}}()),qo=function(){function t(e,n,r,i){f(this,t),this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return h(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return jo(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset"),this._started=!1}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}]),t}();function jo(t,e,n,r,i){return t.setProperty(e,"@@".concat(n,":").concat(r),i)}var Uo=function(){var t=function(){function t(e,n,r){f(this,t),this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return h(t,[{key:"createRenderer",value:function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new Go("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);return e.data.animation.forEach(function e(r){Array.isArray(r)?r.forEach(e):n.engine.registerTrigger(o,a,t,r.name,r)}),new zo(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then(function(){t._microtaskId++})}},{key:"scheduleListenerCallback",value:function(t,n,r){var i=this;t>=0&&t<this._microtaskId?this._zone.run(function(){return n(r)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){i._zone.run(function(){i._animationCallbacksBuffer.forEach(function(t){var n=e(t,2);(0,n[0])(n[1])}),i._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.FYo),u.LFG(bo),u.LFG(u.R0b))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),Go=function(){function t(e,n,r){f(this,t),this.namespaceId=e,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return h(t,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}}]),t}(),zo=function(t){d(r,t);var n=p(r);function r(t,e,i,o){var a;return f(this,r),(a=n.call(this,e,i,o)).factory=t,a.namespaceId=e,a}return h(r,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,n,r){var i,o,a=this;if("@"==n.charAt(0)){var s,u=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),c=n.substr(1),l="";return"@"!=c.charAt(0)&&(o=(i=c).indexOf("."),c=(s=e([i.substring(0,o),i.substr(o+1)],2))[0],l=s[1]),this.engine.listen(this.namespaceId,u,c,l,function(t){a.factory.scheduleListenerCallback(t._data||-1,r,t)})}return this.delegate.listen(t,n,r)}}]),r}(Go),Ho=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r,i){return f(this,n),e.call(this,t.body,r,i)}return h(n,[{key:"ngOnDestroy",value:function(){this.flush()}}]),n}(bo);return t.\u0275fac=function(e){return new(e||t)(u.LFG(m),u.LFG(ei),u.LFG(Hi))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),Yo=new u.OlP("AnimationModuleType"),Wo=[{provide:Sr,useClass:Vo},{provide:Hi,useFactory:function(){return new Yi}},{provide:bo,useClass:Ho},{provide:u.FYo,useFactory:function(t,e,n){return new Uo(t,e,n)},deps:[kt,bo,u.R0b]}],Ko=[{provide:ei,useFactory:function(){return"function"==typeof Mo()?new Lo:new No}},{provide:Yo,useValue:"BrowserAnimations"}].concat(Wo),Zo=[{provide:ei,useClass:ti},{provide:Yo,useValue:"NoopAnimations"}].concat(Wo),Qo=function(){var t=function(){function t(){f(this,t)}return h(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:e.disableAnimations?Zo:Ko}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:Ko,imports:[Nt]}),t}();function Jo(t,e){if(1&t&&u._UZ(0,"mat-pseudo-checkbox",4),2&t){var n=u.oxw();u.Q6J("state",n.selected?"checked":"unchecked")("disabled",n.disabled)}}function Xo(t,e){if(1&t&&(u.TgZ(0,"span",5),u._uU(1),u.qZA()),2&t){var n=u.oxw();u.xp6(1),u.hij("(",n.group.label,")")}}var $o=["*"],ta=new u.GfV("12.1.0"),ea=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),na=function(){var t=function(){function t(e,n,r){f(this,t),this._hasDoneGlobalChecks=!1,this._document=r,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return h(t,[{key:"_getWindow",value:function(){var t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}},{key:"_checksAreEnabled",value:function(){return(0,u.X6Q)()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var t=this._getWindow();return t&&(t.__karma__||t.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){if(this._checksAreEnabled()&&!1!==this._sanityChecks&&this._sanityChecks.theme&&this._document.body&&"function"==typeof getComputedStyle){var t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);var e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&ta.full!==Cr.full&&console.warn("The Angular Material version ("+ta.full+") does not match the Angular CDK version ("+Cr.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(wr),u.LFG(ea,8),u.LFG(m))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[re],re]}),t}();function ra(t){return function(t){d(n,t);var e=p(n);function n(){var t;f(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i)))._disabled=!1,t}return h(n,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Lt(t)}}]),n}(t)}function ia(t,e){return function(t){d(r,t);var n=p(r);function r(){var t;f(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))).defaultColor=e,t.color=e,t}return h(r,[{key:"color",get:function(){return this._color},set:function(t){var e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-".concat(this._color)),e&&this._elementRef.nativeElement.classList.add("mat-".concat(e)),this._color=e)}}]),r}(t)}function oa(t){return function(t){d(n,t);var e=p(n);function n(){var t;f(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i)))._disableRipple=!1,t}return h(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=Lt(t)}}]),n}(t)}function aa(t){return function(t){d(n,t);var e=p(n);function n(){var t;f(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).stateChanges=new Kt.x,t.errorState=!1,t}return h(n,[{key:"updateErrorState",value:function(){var t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}]),n}(t)}var sa,ua=new u.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,u.f3M)(u.soG)}}),ca=function(){function t(){f(this,t),this._localeChanges=new Kt.x,this.localeChanges=this._localeChanges}return h(t,[{key:"getValidDateOrNull",value:function(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}},{key:"deserialize",value:function(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}},{key:"setLocale",value:function(t){this.locale=t,this._localeChanges.next()}},{key:"compareDate",value:function(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}},{key:"sameDate",value:function(t,e){if(t&&e){var n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareDate(t,e):n==r}return t==e}},{key:"clampDate",value:function(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}]),t}(),la=new u.OlP("mat-date-formats");try{sa="undefined"!=typeof Intl}catch(QT){sa=!1}var ha={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},fa=va(31,function(t){return String(t+1)}),da={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},pa=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function va(t,e){for(var n=Array(t),r=0;r<t;r++)n[r]=e(r);return n}var ya=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r){var o,a;return f(this,n),(a=e.call(this)).useUtcForDisplay=!0,i((o=y(a),w(n.prototype)),"setLocale",o).call(o,t),a.useUtcForDisplay=!r.TRIDENT,a._clampDate=r.TRIDENT||r.EDGE,a}return h(n,[{key:"getYear",value:function(t){return t.getFullYear()}},{key:"getMonth",value:function(t){return t.getMonth()}},{key:"getDate",value:function(t){return t.getDate()}},{key:"getDayOfWeek",value:function(t){return t.getDay()}},{key:"getMonthNames",value:function(t){var e=this;if(sa){var n=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return va(12,function(t){return e._stripDirectionalityCharacters(e._format(n,new Date(2017,t,1)))})}return ha[t]}},{key:"getDateNames",value:function(){var t=this;if(sa){var e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return va(31,function(n){return t._stripDirectionalityCharacters(t._format(e,new Date(2017,0,n+1)))})}return fa}},{key:"getDayOfWeekNames",value:function(t){var e=this;if(sa){var n=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return va(7,function(t){return e._stripDirectionalityCharacters(e._format(n,new Date(2017,0,t+1)))})}return da[t]}},{key:"getYearName",value:function(t){if(sa){var e=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(e,t))}return String(this.getYear(t))}},{key:"getFirstDayOfWeek",value:function(){return 0}},{key:"getNumDaysInMonth",value:function(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}},{key:"clone",value:function(t){return new Date(t.getTime())}},{key:"createDate",value:function(t,e,n){var r=this._createDateWithOverflow(t,e,n);return r.getMonth(),r}},{key:"today",value:function(){return new Date}},{key:"parse",value:function(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}},{key:"format",value:function(t,e){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if(sa){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),e=Object.assign(Object.assign({},e),{timeZone:"utc"});var n=new Intl.DateTimeFormat(this.locale,e);return this._stripDirectionalityCharacters(this._format(n,t))}return this._stripDirectionalityCharacters(t.toDateString())}},{key:"addCalendarYears",value:function(t,e){return this.addCalendarMonths(t,12*e)}},{key:"addCalendarMonths",value:function(t,e){var n=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+e,this.getDate(t));return this.getMonth(n)!=((this.getMonth(t)+e)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}},{key:"addCalendarDays",value:function(t,e){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+e)}},{key:"toIso8601",value:function(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}},{key:"deserialize",value:function(t){if("string"==typeof t){if(!t)return null;if(pa.test(t)){var e=new Date(t);if(this.isValid(e))return e}}return i(w(n.prototype),"deserialize",this).call(this,t)}},{key:"isDateInstance",value:function(t){return t instanceof Date}},{key:"isValid",value:function(t){return!isNaN(t.getTime())}},{key:"invalid",value:function(){return new Date(NaN)}},{key:"_createDateWithOverflow",value:function(t,e,n){var r=new Date;return r.setFullYear(t,e,n),r.setHours(0,0,0,0),r}},{key:"_2digit",value:function(t){return("00"+t).slice(-2)}},{key:"_stripDirectionalityCharacters",value:function(t){return t.replace(/[\u200e\u200f]/g,"")}},{key:"_format",value:function(t,e){var n=new Date;return n.setUTCFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setUTCHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t.format(n)}}]),n}(ca);return t.\u0275fac=function(e){return new(e||t)(u.LFG(ua,8),u.LFG(ue))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),ma=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[{provide:ca,useClass:ya}],imports:[[ce]]}),t}(),ga={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}},_a=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[{provide:la,useValue:ga}],imports:[[ma]]}),t}(),ba=function(){var t=function(){function t(){f(this,t)}return h(t,[{key:"isErrorState",value:function(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t}(),wa=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[na],na]}),t}(),ka=function(){function t(e,n,r){f(this,t),this._renderer=e,this.element=n,this.config=r,this.state=3}return h(t,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),t}(),Ca={enterDuration:450,exitDuration:400},Sa=fe({passive:!0}),Ea=["mousedown","touchstart"],Ta=["mouseup","mouseleave","touchend","touchcancel"],xa=function(){function t(e,n,r,i){f(this,t),this._target=e,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=jt(r))}return h(t,[{key:"fadeInRipple",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},Ca),r.animation);r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);var a=r.radius||function(t,e,n){var r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),s=t-i.left,u=e-i.top,c=o.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=s-a+"px",l.style.top=u-a+"px",l.style.height=2*a+"px",l.style.width=2*a+"px",null!=r.color&&(l.style.backgroundColor=r.color),l.style.transitionDuration="".concat(c,"ms"),this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";var h=new ka(this,l,r);return h.state=0,this._activeRipples.add(h),r.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(function(){var t=h===n._mostRecentTransientRipple;h.state=1,r.persistent||t&&n._isPointerDown||h.fadeOut()},c),h}},{key:"fadeOutRipple",value:function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=t.element,r=Object.assign(Object.assign({},Ca),t.config.animation);n.style.transitionDuration="".concat(r.exitDuration,"ms"),n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(function(){t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach(function(t){return t.fadeOut()})}},{key:"fadeOutAllNonPersistent",value:function(){this._activeRipples.forEach(function(t){t.config.persistent||t.fadeOut()})}},{key:"setupTriggerEvents",value:function(t){var e=jt(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Ea))}},{key:"handleEvent",value:function(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Ta),this._pointerUpEventsRegistered=!0)}},{key:"_onMousedown",value:function(t){var e=ur(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}},{key:"_onTouchStart",value:function(t){if(!this._target.rippleDisabled&&!cr(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;for(var e=t.changedTouches,n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}},{key:"_onPointerUp",value:function(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(function(t){!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}},{key:"_runTimeoutOutsideZone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular(function(){return setTimeout(t,e)})}},{key:"_registerEvents",value:function(t){var e=this;this._ngZone.runOutsideAngular(function(){t.forEach(function(t){e._triggerElement.addEventListener(t,e,Sa)})})}},{key:"_removeTriggerEvents",value:function(){var t=this;this._triggerElement&&(Ea.forEach(function(e){t._triggerElement.removeEventListener(e,t,Sa)}),this._pointerUpEventsRegistered&&Ta.forEach(function(e){t._triggerElement.removeEventListener(e,t,Sa)}))}}]),t}(),Ia=new u.OlP("mat-ripple-global-options"),Aa=function(){var t=function(){function t(e,n,r,i,o){f(this,t),this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new xa(this,n,e,r)}return h(t,[{key:"disabled",get:function(){return this._disabled},set:function(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}},{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"fadeOutAllNonPersistent",value:function(){this._rippleRenderer.fadeOutAllNonPersistent()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(ue),u.Y36(Ia,8),u.Y36(Yo,8))},t.\u0275dir=u.lG2({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&u.ekj("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t}(),Da=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[na,ce],na]}),t}(),Ra=function(){var t=function t(e){f(this,t),this._animationMode=e,this.state="unchecked",this.disabled=!1};return t.\u0275fac=function(e){return new(e||t)(u.Y36(Yo,8))},t.\u0275cmp=u.Xpm({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&u.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t}(),Oa=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[na]]}),t}(),Pa=new u.OlP("MAT_OPTION_PARENT_COMPONENT"),Na=ra(function(){return function t(){f(this,t)}}()),Fa=0,La=function(){var t=function(t){d(n,t);var e=p(n);function n(t){var r,i;return f(this,n),(r=e.call(this))._labelId="mat-optgroup-label-"+Fa++,r._inert=null!==(i=null==t?void 0:t.inertGroups)&&void 0!==i&&i,r}return n}(Na);return t.\u0275fac=function(e){return new(e||t)(u.Y36(Pa,8))},t.\u0275dir=u.lG2({type:t,inputs:{label:"label"},features:[u.qOj]}),t}(),Ma=new u.OlP("MatOptgroup"),Va=0,Ba=function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];f(this,t),this.source=e,this.isUserInput=n},qa=function(){var t=function(){function t(e,n,r,i){f(this,t),this._element=e,this._changeDetectorRef=n,this._parent=r,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Va++,this.onSelectionChange=new u.vpe,this._stateChanges=new Kt.x}return h(t,[{key:"multiple",get:function(){return this._parent&&this._parent.multiple}},{key:"selected",get:function(){return this._selected}},{key:"disabled",get:function(){return this.group&&this.group.disabled||this._disabled},set:function(t){this._disabled=Lt(t)}},{key:"disableRipple",get:function(){return this._parent&&this._parent.disableRipple}},{key:"active",get:function(){return this._active}},{key:"viewValue",get:function(){return(this._getHostElement().textContent||"").trim()}},{key:"select",value:function(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"deselect",value:function(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"focus",value:function(t,e){var n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}},{key:"setActiveStyles",value:function(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}},{key:"setInactiveStyles",value:function(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}},{key:"getLabel",value:function(){return this.viewValue}},{key:"_handleKeydown",value:function(t){13!==t.keyCode&&32!==t.keyCode||Zn(t)||(this._selectViaInteraction(),t.preventDefault())}},{key:"_selectViaInteraction",value:function(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}},{key:"_getAriaSelected",value:function(){return this.selected||!this.multiple&&null}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._element.nativeElement}},{key:"ngAfterViewChecked",value:function(){if(this._selected){var t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"_emitSelectionChangeEvent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.onSelectionChange.emit(new Ba(this,t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(void 0),u.Y36(La))},t.\u0275dir=u.lG2({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t}(),ja=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r,i,o){return f(this,n),e.call(this,t,r,i,o)}return n}(qa);return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Pa,8),u.Y36(Ma,8))},t.\u0275cmp=u.Xpm({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&u.NdJ("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(u.Ikx("id",e.id),u.uIk("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),u.ekj("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[u.qOj],ngContentSelectors:$o,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,e){1&t&&(u.F$t(),u.YNc(0,Jo,1,2,"mat-pseudo-checkbox",0),u.TgZ(1,"span",1),u.Hsn(2),u.qZA(),u.YNc(3,Xo,2,1,"span",2),u._UZ(4,"div",3)),2&t&&(u.Q6J("ngIf",e.multiple),u.xp6(3),u.Q6J("ngIf",e.group&&e.group._inert),u.xp6(1),u.Q6J("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[Z,Aa,Ra],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t}();function Ua(t,e,n){if(n.length){for(var r=e.toArray(),i=n.toArray(),o=0,a=0;a<t+1;a++)r[a].group&&r[a].group===i[o]&&o++;return o}return 0}var Ga=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[Da,it,na,Oa]]}),t}(),za=a(3763),Ha=Array.isArray,Ya=Object.getPrototypeOf,Wa=Object.prototype,Ka=Object.keys;function Za(t){if(1===t.length){var e=t[0];if(Ha(e))return{args:e,keys:null};if((r=e)&&"object"==typeof r&&Ya(r)===Wa){var n=Ka(e);return{args:n.map(function(t){return e[t]}),keys:n}}}var r;return{args:t,keys:null}}function Qa(t,e){return t.reduce(function(t,n,r){return t[n]=e[r],t},{})}function Ja(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,Yt.yG)(t),r=(0,Yt.jO)(t),i=Za(t),o=i.args,a=i.keys;if(0===o.length)return(0,Ye.Dp)([],n);var s=new Ut.y(Xa(o,n,a?function(t){return Qa(a,t)}:qe.y));return r?s.pipe(be(r)):s}function Xa(t,e,n){return void 0===n&&(n=qe.y),function(r){$a(e,function(){for(var i=t.length,o=new Array(i),a=i,s=i,u=function(i){$a(e,function(){var u=(0,Ye.Dp)(t[i],e),c=!1;u.subscribe(new Ue.Q(r,function(t){o[i]=t,c||(c=!0,s--),s||r.next(n(o.slice()))},function(){--a||r.complete()}))},r)},c=0;c<i;c++)u(c)},r)}}function $a(t,e,n){t?n.add(t.schedule(e)):e()}var ts=[[["caption"]],[["colgroup"],["col"]]],es=["caption","colgroup, col"],ns=function(){var t,e=function(t){d(n,t);var e=p(n);function n(){var t;return f(this,n),(t=e.apply(this,arguments)).stickyCssClass="mat-table-sticky",t.needsPositionStickyOnElement=!1,t}return n}(Yn);return e.\u0275fac=function(n){return(t||(t=u.n5z(e)))(n||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,e){2&t&&u.ekj("mat-table-fixed-layout",e.fixedLayout)},exportAs:["matTable"],features:[u._Bn([{provide:te,useClass:Xt},{provide:Yn,useExisting:e},{provide:mn,useExisting:e},{provide:xn,useClass:In},{provide:jn,useValue:null}]),u.qOj],ngContentSelectors:es,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(u.F$t(ts),u.Hsn(0),u.Hsn(1,1),u.GkF(2,0),u.GkF(3,1),u.GkF(4,2),u.GkF(5,3))},directives:[Gn,Un,Hn,zn],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),e}(),rs=function(){var t,e=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(gn);return e.\u0275fac=function(n){return(t||(t=u.n5z(e)))(n||e)},e.\u0275dir=u.lG2({type:e,selectors:[["","matCellDef",""]],features:[u._Bn([{provide:gn,useExisting:e}]),u.qOj]}),e}(),is=function(){var t,e=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(_n);return e.\u0275fac=function(n){return(t||(t=u.n5z(e)))(n||e)},e.\u0275dir=u.lG2({type:e,selectors:[["","matHeaderCellDef",""]],features:[u._Bn([{provide:_n,useExisting:e}]),u.qOj]}),e}(),os=function(){var t,e=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"name",get:function(){return this._name},set:function(t){this._setNameInput(t)}},{key:"_updateColumnCssClassName",value:function(){i(w(n.prototype),"_updateColumnCssClassName",this).call(this),this._columnCssClassName.push("mat-column-".concat(this.cssClassFriendlyName))}}]),n}(kn);return e.\u0275fac=function(n){return(t||(t=u.n5z(e)))(n||e)},e.\u0275dir=u.lG2({type:e,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[u._Bn([{provide:kn,useExisting:e},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),u.qOj]}),e}(),as=function(){var t,e=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(Sn);return e.\u0275fac=function(n){return(t||(t=u.n5z(e)))(n||e)},e.\u0275dir=u.lG2({type:e,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[u.qOj]}),e}(),ss=function(){var t,e=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(En);return e.\u0275fac=function(n){return(t||(t=u.n5z(e)))(n||e)},e.\u0275dir=u.lG2({type:e,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[u.qOj]}),e}(),us=function(){var t,e=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(Rn);return e.\u0275fac=function(n){return(t||(t=u.n5z(e)))(n||e)},e.\u0275dir=u.lG2({type:e,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[u._Bn([{provide:Rn,useExisting:e}]),u.qOj]}),e}(),cs=function(){var t,e=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(Nn);return e.\u0275fac=function(n){return(t||(t=u.n5z(e)))(n||e)},e.\u0275dir=u.lG2({type:e,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[u._Bn([{provide:Nn,useExisting:e}]),u.qOj]}),e}(),ls=function(){var t,e=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(Ln);return e.\u0275fac=function(n){return(t||(t=u.n5z(e)))(n||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[u._Bn([{provide:Ln,useExisting:e}]),u.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&u.GkF(0,0)},directives:[Fn],encapsulation:2}),e}(),hs=function(){var t,e=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(Mn);return e.\u0275fac=function(n){return(t||(t=u.n5z(e)))(n||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[u._Bn([{provide:Mn,useExisting:e}]),u.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&u.GkF(0,0)},directives:[Fn],encapsulation:2}),e}(),fs=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[Kn,na],na]}),t}(),ds=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(function(t){d(r,t);var n=p(r);function r(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return f(this,r),(t=n.call(this))._renderData=new fn([]),t._filter=new fn(""),t._internalPageChanges=new Kt.x,t._renderChangesSubscription=null,t.sortingDataAccessor=function(t,e){var n=t[e];if(Vt(n)){var r=Number(n);return r<9007199254740991?r:n}return n},t.sortData=function(e,n){var r=n.active,i=n.direction;return r&&""!=i?e.sort(function(e,n){var o=t.sortingDataAccessor(e,r),a=t.sortingDataAccessor(n,r),s=typeof o,u=typeof a;s!==u&&("number"===s&&(o+=""),"number"===u&&(a+=""));var c=0;return null!=o&&null!=a?o>a?c=1:o<a&&(c=-1):null!=o?c=1:null!=a&&(c=-1),c*("asc"==i?1:-1)}):e},t.filterPredicate=function(t,e){var n=Object.keys(t).reduce(function(e,n){return e+t[n]+"\u25ec"},"").toLowerCase(),r=e.trim().toLowerCase();return-1!=n.indexOf(r)},t._data=new fn(e),t._updateChangeSubscription(),t}return h(r,[{key:"data",get:function(){return this._data.value},set:function(t){this._data.next(t),this._renderChangesSubscription||this._filterData(t)}},{key:"filter",get:function(){return this._filter.value},set:function(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}},{key:"sort",get:function(){return this._sort},set:function(t){this._sort=t,this._updateChangeSubscription()}},{key:"paginator",get:function(){return this._paginator},set:function(t){this._paginator=t,this._updateChangeSubscription()}},{key:"_updateChangeSubscription",value:function(){var t,n=this,r=this._sort?(0,za.T)(this._sort.sortChange,this._sort.initialized):Wt(null),i=this._paginator?(0,za.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Wt(null),o=Ja([this._data,this._filter]).pipe((0,ge.U)(function(t){var r=e(t,1)[0];return n._filterData(r)})),a=Ja([o,r]).pipe((0,ge.U)(function(t){var r=e(t,1)[0];return n._orderData(r)})),s=Ja([a,i]).pipe((0,ge.U)(function(t){var r=e(t,1)[0];return n._pageData(r)}));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=s.subscribe(function(t){return n._renderData.next(t)})}},{key:"_filterData",value:function(t){var e=this;return this.filteredData=null==this.filter||""===this.filter?t:t.filter(function(t){return e.filterPredicate(t,e.filter)}),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}},{key:"_orderData",value:function(t){return this.sort?this.sortData(t.slice(),this.sort):t}},{key:"_pageData",value:function(t){if(!this.paginator)return t;var e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}},{key:"_updatePaginator",value:function(t){var e=this;Promise.resolve().then(function(){var n=e.paginator;if(n&&(n.length=t,n.pageIndex>0)){var r=Math.ceil(n.length/n.pageSize)-1||0,i=Math.min(n.pageIndex,r);i!==n.pageIndex&&(n.pageIndex=i,e._internalPageChanges.next())}})}},{key:"connect",value:function(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}},{key:"disconnect",value:function(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}]),r}(function(){return function t(){f(this,t)}}())),ps=function(){function t(){f(this,t)}return h(t,[{key:"attach",value:function(t){return this._attachedHost=t,t.attach(this)}},{key:"detach",value:function(){var t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}},{key:"isAttached",get:function(){return null!=this._attachedHost}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}}]),t}(),vs=function(t){d(n,t);var e=p(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this)).component=t,a.viewContainerRef=r,a.injector=i,a.componentFactoryResolver=o,a}return n}(ps),ys=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this)).templateRef=t,o.viewContainerRef=r,o.context=i,o}return h(n,[{key:"origin",get:function(){return this.templateRef.elementRef}},{key:"attach",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=e,i(w(n.prototype),"attach",this).call(this,t)}},{key:"detach",value:function(){return this.context=void 0,i(w(n.prototype),"detach",this).call(this)}}]),n}(ps),ms=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this)).element=t instanceof u.SBq?t.nativeElement:t,r}return n}(ps),gs=function(){function t(){f(this,t),this._isDisposed=!1,this.attachDomPortal=null}return h(t,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(t){return t instanceof vs?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof ys?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof ms?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),t}(),_s=function(t){d(n,t);var e=p(n);function n(t,r,o,a,s){var u,c;return f(this,n),(c=e.call(this)).outletElement=t,c._componentFactoryResolver=r,c._appRef=o,c._defaultInjector=a,c.attachDomPortal=function(t){var e=t.element,r=c._document.createComment("dom-portal");e.parentNode.insertBefore(r,e),c.outletElement.appendChild(e),c._attachedPortal=t,i((u=y(c),w(n.prototype)),"setDisposeFn",u).call(u,function(){r.parentNode&&r.parentNode.replaceChild(e,r)})},c._document=s,c}return h(n,[{key:"attachComponentPortal",value:function(t){var e,n=this,r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(function(){return e.destroy()})):(e=r.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn(function(){n._appRef.detachView(e.hostView),e.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}},{key:"attachTemplatePortal",value:function(t){var e=this,n=t.viewContainerRef,r=n.createEmbeddedView(t.templateRef,t.context);return r.rootNodes.forEach(function(t){return e.outletElement.appendChild(t)}),r.detectChanges(),this.setDisposeFn(function(){var t=n.indexOf(r);-1!==t&&n.remove(t)}),this._attachedPortal=t,r}},{key:"dispose",value:function(){i(w(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),n}(gs),bs=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r,o){var a,s;return f(this,n),(s=e.call(this))._componentFactoryResolver=t,s._viewContainerRef=r,s._isInitialized=!1,s.attached=new u.vpe,s.attachDomPortal=function(t){var e=t.element,r=s._document.createComment("dom-portal");t.setAttachedHost(y(s)),e.parentNode.insertBefore(r,e),s._getRootNode().appendChild(e),s._attachedPortal=t,i((a=y(s),w(n.prototype)),"setDisposeFn",a).call(a,function(){r.parentNode&&r.parentNode.replaceChild(e,r)})},s._document=o,s}return h(n,[{key:"portal",get:function(){return this._attachedPortal},set:function(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&i(w(n.prototype),"detach",this).call(this),t&&i(w(n.prototype),"attach",this).call(this,t),this._attachedPortal=t)}},{key:"attachedRef",get:function(){return this._attachedRef}},{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){i(w(n.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(t){t.setAttachedHost(this);var e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=e.createComponent(r,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),i(w(n.prototype),"setDisposeFn",this).call(this,function(){return o.destroy()}),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}},{key:"attachTemplatePortal",value:function(t){var e=this;t.setAttachedHost(this);var r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return i(w(n.prototype),"setDisposeFn",this).call(this,function(){return e._viewContainerRef.clear()}),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}},{key:"_getRootNode",value:function(){var t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}]),n}(gs);return t.\u0275fac=function(e){return new(e||t)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(m))},t.\u0275dir=u.lG2({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]}),t}(),ws=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t}(),ks=function(){if(null==ae){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ae=!1;if("scrollBehavior"in document.documentElement.style)ae=!0;else{var t=Element.prototype.scrollTo;ae=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return ae}(),Cs=function(){function t(e,n){f(this,t),this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return h(t,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=qt(-this._previousScrollPosition.left),t.style.top=qt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ks&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ks&&(e.scrollBehavior=r,n.scrollBehavior=i)}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}]),t}(),Ss=function(){function t(e,n,r,i){var o=this;f(this,t),this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=function(){o.disable(),o._overlayRef.hasAttached()&&o._ngZone.run(function(){return o._overlayRef.detach()})}}return h(t,[{key:"attach",value:function(t){this._overlayRef=t}},{key:"enable",value:function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),Es=function(){function t(){f(this,t)}return h(t,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),t}();function Ts(t,e){return e.some(function(e){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right})}function xs(t,e){return e.some(function(e){return t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right})}var Is=function(){function t(e,n,r,i){f(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}return h(t,[{key:"attach",value:function(t){this._overlayRef=t}},{key:"enable",value:function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),n=t._viewportRuler.getViewportSize(),r=n.width,i=n.height;Ts(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(t.disable(),t._ngZone.run(function(){return t._overlayRef.detach()}))}}))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),As=function(){var t=function t(e,n,r,i){var o=this;f(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=function(){return new Es},this.close=function(t){return new Ss(o._scrollDispatcher,o._ngZone,o._viewportRuler,t)},this.block=function(){return new Cs(o._viewportRuler,o._document)},this.reposition=function(t){return new Is(o._scrollDispatcher,o._viewportRuler,o._ngZone,t)},this._document=i};return t.\u0275fac=function(e){return new(e||t)(u.LFG(un),u.LFG(cn),u.LFG(u.R0b),u.LFG(m))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(un),u.LFG(cn),u.LFG(u.R0b),u.LFG(m))},token:t,providedIn:"root"}),t}(),Ds=function t(e){if(f(this,t),this.scrollStrategy=new Es,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e)for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];void 0!==e[i]&&(this[i]=e[i])}},Rs=function t(e,n,r,i,o){f(this,t),this.offsetX=r,this.offsetY=i,this.panelClass=o,this.originX=e.originX,this.originY=e.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},Os=function t(e,n){f(this,t),this.connectionPair=e,this.scrollableViewProperties=n},Ps=function(){var t=function(){function t(e){f(this,t),this._attachedOverlays=[],this._document=e}return h(t,[{key:"ngOnDestroy",value:function(){this.detach()}},{key:"add",value:function(t){this.remove(t),this._attachedOverlays.push(t)}},{key:"remove",value:function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(m))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(m))},token:t,providedIn:"root"}),t}(),Ns=function(){var t=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this,t))._keydownListener=function(t){for(var e=r._attachedOverlays,n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}},r}return h(n,[{key:"add",value:function(t){i(w(n.prototype),"add",this).call(this,t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}},{key:"detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),n}(Ps);return t.\u0275fac=function(e){return new(e||t)(u.LFG(m))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(m))},token:t,providedIn:"root"}),t}(),Fs=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t))._platform=r,i._cursorStyleIsSet=!1,i._clickListener=function(t){for(var e=t.composedPath?t.composedPath()[0]:t.target,n=i._attachedOverlays.slice(),r=n.length-1;r>-1;r--){var o=n[r];if(!(o._outsidePointerEvents.observers.length<1)&&o.hasAttached()){if(o.overlayElement.contains(e))break;o._outsidePointerEvents.next(t)}}},i}return h(n,[{key:"add",value:function(t){if(i(w(n.prototype),"add",this).call(this,t),!this._isAttached){var e=this._document.body;e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=e.style.cursor,e.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}},{key:"detach",value:function(){if(this._isAttached){var t=this._document.body;t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}]),n}(Ps);return t.\u0275fac=function(e){return new(e||t)(u.LFG(m),u.LFG(ue))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(m),u.LFG(ue))},token:t,providedIn:"root"}),t}(),Ls="undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha,Ms=function(){var t=function(){function t(e,n){f(this,t),this._platform=n,this._document=e}return h(t,[{key:"ngOnDestroy",value:function(){var t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){if(this._platform.isBrowser||Ls)for(var t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]'),e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e]);var n=this._document.createElement("div");n.classList.add("cdk-overlay-container"),Ls?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(m),u.LFG(ue))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(m),u.LFG(ue))},token:t,providedIn:"root"}),t}(),Vs=function(){function t(e,n,r,i,o,a,s,u,c){var l=this;f(this,t),this._portalOutlet=e,this._host=n,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=u,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Kt.x,this._attachments=new Kt.x,this._detachments=new Kt.x,this._locationChanges=Ie.w0.EMPTY,this._backdropClickHandler=function(t){return l._backdropClick.next(t)},this._keydownEvents=new Kt.x,this._outsidePointerEvents=new Kt.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}return h(t,[{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}},{key:"attach",value:function(t){var e=this,n=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,dn.q)(1)).subscribe(function(){e.hasAttached()&&e.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(function(){return e.dispose()})),this._outsideClickDispatcher.add(this),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}}},{key:"dispose",value:function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick}},{key:"attachments",value:function(){return this._attachments}},{key:"detachments",value:function(){return this._detachments}},{key:"keydownEvents",value:function(){return this._keydownEvents}},{key:"outsidePointerEvents",value:function(){return this._outsidePointerEvents}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}},{key:"setDirection",value:function(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}},{key:"addPanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!0)}},{key:"removePanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!1)}},{key:"getDirection",value:function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}},{key:"updateScrollStrategy",value:function(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var t=this._pane.style;t.width=qt(this._config.width),t.height=qt(this._config.height),t.minWidth=qt(this._config.minWidth),t.minHeight=qt(this._config.minHeight),t.maxWidth=qt(this._config.maxWidth),t.maxHeight=qt(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(t){this._pane.style.pointerEvents=t?"":"none"}},{key:"_attachBackdrop",value:function(){var t=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){t._backdropElement&&t._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var t,e=this,n=this._backdropElement;if(n){var r=function r(){n&&(n.removeEventListener("click",e._backdropClickHandler),n.removeEventListener("transitionend",r),n.parentNode&&n.parentNode.removeChild(n)),e._backdropElement==n&&(e._backdropElement=null),e._config.backdropClass&&e._toggleClasses(n,e._config.backdropClass,!1),clearTimeout(t)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(function(){n.addEventListener("transitionend",r)}),n.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(function(){return setTimeout(r,500)})}}},{key:"_toggleClasses",value:function(t,e,n){var r=t.classList;Bt(e).forEach(function(t){t&&(n?r.add(t):r.remove(t))})}},{key:"_detachContentWhenStable",value:function(){var t=this;this._ngZone.runOutsideAngular(function(){var e=t._ngZone.onStable.pipe(Xe((0,za.T)(t._attachments,t._detachments))).subscribe(function(){t._pane&&t._host&&0!==t._pane.children.length||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())})})}},{key:"_disposeScrollStrategy",value:function(){var t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}]),t}(),Bs=/([A-Za-z%]+)$/,qs=function(){function t(e,n,r,i,o){f(this,t),this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Kt.x,this._resizeSubscription=Ie.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}return h(t,[{key:"positions",get:function(){return this._preferredPositions}},{key:"attach",value:function(t){var e=this;this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(function(){e._isInitialRender=!0,e.apply()})}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var t,e,n=this._originRect,r=this._overlayRect,i=this._viewportRect,o=[],a=s(this._preferredPositions);try{for(a.s();!(e=a.n()).done;){var u=e.value,c=this._getOriginPoint(n,u),l=this._getOverlayPoint(c,r,u),h=this._getOverlayFit(l,r,i,u);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,c);this._canFitWithFlexibleDimensions(h,l,i)?o.push({position:u,origin:c,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(c,u)}):(!t||t.overlayFit.visibleArea<h.visibleArea)&&(t={overlayFit:h,overlayPoint:l,originPoint:c,position:u,overlayRect:r})}}catch(g){a.e(g)}finally{a.f()}if(o.length){var f,d=null,p=-1,v=s(o);try{for(v.s();!(f=v.n()).done;){var y=f.value,m=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);m>p&&(p=m,d=y)}}catch(g){v.e(g)}finally{v.f()}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&js(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}},{key:"withScrollableContainers",value:function(t){return this._scrollables=t,this}},{key:"withPositions",value:function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(t){return this._viewportMargin=t,this}},{key:"withFlexibleDimensions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=t,this}},{key:"withGrowAfterOpen",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=t,this}},{key:"withPush",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=t,this}},{key:"withLockedPosition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=t,this}},{key:"setOrigin",value:function(t){return this._origin=t,this}},{key:"withDefaultOffsetX",value:function(t){return this._offsetX=t,this}},{key:"withDefaultOffsetY",value:function(t){return this._offsetY=t,this}},{key:"withTransformOriginOn",value:function(t){return this._transformOriginSelector=t,this}},{key:"_getOriginPoint",value:function(t,e){var n;if("center"==e.originX)n=t.left+t.width/2;else{var r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return{x:n,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}},{key:"_getOverlayPoint",value:function(t,e,n){var r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}},{key:"_getOverlayFit",value:function(t,e,n,r){var i=Gs(e),o=t.x,a=t.y,s=this._getOffset(r,"x"),u=this._getOffset(r,"y");s&&(o+=s),u&&(a+=u);var c=0-a,l=a+i.height-n.height,h=this._subtractOverflows(i.width,0-o,o+i.width-n.width),f=this._subtractOverflows(i.height,c,l),d=h*f;return{visibleArea:d,isCompletelyWithinViewport:i.width*i.height===d,fitsInViewportVertically:f===i.height,fitsInViewportHorizontally:h==i.width}}},{key:"_canFitWithFlexibleDimensions",value:function(t,e,n){if(this._hasFlexibleDimensions){var r=n.bottom-e.y,i=n.right-e.x,o=Us(this._overlayRef.getConfig().minHeight),a=Us(this._overlayRef.getConfig().minWidth),s=t.fitsInViewportHorizontally||null!=a&&a<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&s}return!1}},{key:"_pushOverlayOnScreen",value:function(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var r,i,o=Gs(e),a=this._viewportRect,s=Math.max(t.x+o.width-a.width,0),u=Math.max(t.y+o.height-a.height,0),c=Math.max(a.top-n.top-t.y,0),l=Math.max(a.left-n.left-t.x,0);return r=o.width<=a.width?l||-s:t.x<this._viewportMargin?a.left-n.left-t.x:0,i=o.height<=a.height?c||-u:t.y<this._viewportMargin?a.top-n.top-t.y:0,this._previousPushAmount={x:r,y:i},{x:t.x+r,y:t.y+i}}},{key:"_applyPosition",value:function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){var n=this._getScrollVisibility(),r=new Os(t,n);this._positionChanges.next(r)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(t){if(this._transformOriginSelector){var e,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var i=0;i<n.length;i++)n[i].style.transformOrigin="".concat(e," ").concat(r)}}},{key:"_calculateBoundingBoxRect",value:function(t,e){var n,r,i,o,a,s,u=this._viewportRect,c=this._isRtl();if("top"===e.overlayY)r=t.y,n=u.height-r+this._viewportMargin;else if("bottom"===e.overlayY)i=u.height-t.y+2*this._viewportMargin,n=u.height-i+this._viewportMargin;else{var l=Math.min(u.bottom-t.y+u.top,t.y),h=this._lastBoundingBoxSize.height;n=2*l,r=t.y-l,n>h&&!this._isInitialRender&&!this._growAfterOpen&&(r=t.y-h/2)}if("end"===e.overlayX&&!c||"start"===e.overlayX&&c)s=u.width-t.x+this._viewportMargin,o=t.x-this._viewportMargin;else if("start"===e.overlayX&&!c||"end"===e.overlayX&&c)a=t.x,o=u.right-t.x;else{var f=Math.min(u.right-t.x+u.left,t.x),d=this._lastBoundingBoxSize.width;o=2*f,a=t.x-f,o>d&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.x-d/2)}return{top:r,left:a,bottom:i,right:s,width:o,height:n}}},{key:"_setBoundingBoxStyles",value:function(t,e){var n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{var i=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=qt(n.height),r.top=qt(n.top),r.bottom=qt(n.bottom),r.width=qt(n.width),r.left=qt(n.left),r.right=qt(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",i&&(r.maxHeight=qt(i)),o&&(r.maxWidth=qt(o))}this._lastBoundingBoxSize=n,js(this._boundingBox.style,r)}},{key:"_resetBoundingBoxStyles",value:function(){js(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){js(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(t,e){var n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){var a=this._viewportRuler.getViewportScrollPosition();js(n,this._getExactOverlayY(e,t,a)),js(n,this._getExactOverlayX(e,t,a))}else n.position="static";var s="",u=this._getOffset(e,"x"),c=this._getOffset(e,"y");u&&(s+="translateX(".concat(u,"px) ")),c&&(s+="translateY(".concat(c,"px)")),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=qt(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=qt(o.maxWidth):i&&(n.maxWidth="")),js(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(t,e,n){var r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));var o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=qt(i.y),r}},{key:"_getExactOverlayX",value:function(t,e,n){var r={left:"",right:""},i=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n)),"right"===(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?r.right=this._document.documentElement.clientWidth-(i.x+this._overlayRect.width)+"px":r.left=qt(i.x),r}},{key:"_getScrollVisibility",value:function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(function(t){return t.getElementRef().nativeElement.getBoundingClientRect()});return{isOriginClipped:xs(t,n),isOriginOutsideView:Ts(t,n),isOverlayClipped:xs(e,n),isOverlayOutsideView:Ts(e,n)}}},{key:"_subtractOverflows",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce(function(t,e){return t-Math.max(e,0)},t)}},{key:"_getNarrowedViewportRect",value:function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}},{key:"_validatePositions",value:function(){}},{key:"_addPanelClasses",value:function(t){var e=this;this._pane&&Bt(t).forEach(function(t){""!==t&&-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))})}},{key:"_clearPanelClasses",value:function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach(function(e){t._pane.classList.remove(e)}),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var t=this._origin;if(t instanceof u.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();var e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}]),t}();function js(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Us(t){if("number"!=typeof t&&null!=t){var n=e(t.split(Bs),2),r=n[0],i=n[1];return i&&"px"!==i?null:parseFloat(r)}return t||null}function Gs(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}var zs=function(){function t(e,n,r,i,o,a,s){f(this,t),this._preferredPositions=[],this._positionStrategy=new qs(r,i,o,a,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,n),this.onPositionChange=this._positionStrategy.positionChanges}return h(t,[{key:"positions",get:function(){return this._preferredPositions}},{key:"attach",value:function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(t){this._positionStrategy.withScrollableContainers(t)}},{key:"withFallbackPosition",value:function(t,e,n,r){var i=new Rs(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}},{key:"withOffsetX",value:function(t){return this._positionStrategy.withDefaultOffsetX(t),this}},{key:"withOffsetY",value:function(t){return this._positionStrategy.withDefaultOffsetY(t),this}},{key:"withLockedPosition",value:function(t){return this._positionStrategy.withLockedPosition(t),this}},{key:"withPositions",value:function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(t){return this._positionStrategy.setOrigin(t),this}}]),t}(),Hs=function(){function t(){f(this,t),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return h(t,[{key:"attach",value:function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}},{key:"left",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}},{key:"right",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}},{key:"width",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}},{key:"height",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}},{key:"centerHorizontally",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(t),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(t),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),r=n.width,i=n.height,o=n.maxWidth,a=n.maxHeight,s=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),u=!("100%"!==i&&"100vh"!==i||a&&"100%"!==a&&"100vh"!==a);t.position=this._cssPosition,t.marginLeft=s?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,s?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}}]),t}(),Ys=function(){var t=function(){function t(e,n,r,i){f(this,t),this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i}return h(t,[{key:"global",value:function(){return new Hs}},{key:"connectedTo",value:function(t,e,n){return new zs(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(t){return new qs(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(cn),u.LFG(m),u.LFG(ue),u.LFG(Ms))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(cn),u.LFG(m),u.LFG(ue),u.LFG(Ms))},token:t,providedIn:"root"}),t}(),Ws=0,Ks=function(){var t=function(){function t(e,n,r,i,o,a,s,u,c,l,h){f(this,t),this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=i,this._keyboardDispatcher=o,this._injector=a,this._ngZone=s,this._document=u,this._directionality=c,this._location=l,this._outsideClickDispatcher=h}return h(t,[{key:"create",value:function(t){var e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new Ds(t);return i.direction=i.direction||this._directionality.value,new Vs(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-"+Ws++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}},{key:"_createHostElement",value:function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}},{key:"_createPortalOutlet",value:function(t){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new _s(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(As),u.LFG(Ms),u.LFG(u._Vd),u.LFG(Ys),u.LFG(Ns),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(m),u.LFG(ne),u.LFG(R),u.LFG(Fs))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),Zs=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Qs=new u.OlP("cdk-connected-overlay-scroll-strategy"),Js=function(){var t=function t(e){f(this,t),this.elementRef=e};return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t}(),Xs=function(){var t=function(){function t(e,n,r,i,o){f(this,t),this._overlay=e,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ie.w0.EMPTY,this._attachSubscription=Ie.w0.EMPTY,this._detachSubscription=Ie.w0.EMPTY,this._positionSubscription=Ie.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new u.vpe,this.positionChange=new u.vpe,this.attach=new u.vpe,this.detach=new u.vpe,this.overlayKeydown=new u.vpe,this.overlayOutsideClick=new u.vpe,this._templatePortal=new ys(n,r),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}return h(t,[{key:"offsetX",get:function(){return this._offsetX},set:function(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}},{key:"offsetY",get:function(){return this._offsetY},set:function(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}},{key:"hasBackdrop",get:function(){return this._hasBackdrop},set:function(t){this._hasBackdrop=Lt(t)}},{key:"lockPosition",get:function(){return this._lockPosition},set:function(t){this._lockPosition=Lt(t)}},{key:"flexibleDimensions",get:function(){return this._flexibleDimensions},set:function(t){this._flexibleDimensions=Lt(t)}},{key:"growAfterOpen",get:function(){return this._growAfterOpen},set:function(t){this._growAfterOpen=Lt(t)}},{key:"push",get:function(){return this._push},set:function(t){this._push=Lt(t)}},{key:"overlayRef",get:function(){return this._overlayRef}},{key:"dir",get:function(){return this._dir?this._dir.value:"ltr"}},{key:"ngOnDestroy",value:function(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}},{key:"ngOnChanges",value:function(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}},{key:"_createOverlay",value:function(){var t=this;this.positions&&this.positions.length||(this.positions=Zs);var e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(function(){return t.attach.emit()}),this._detachSubscription=e.detachments().subscribe(function(){return t.detach.emit()}),e.keydownEvents().subscribe(function(e){t.overlayKeydown.next(e),27!==e.keyCode||t.disableClose||Zn(e)||(e.preventDefault(),t._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(function(e){t.overlayOutsideClick.next(e)})}},{key:"_buildConfig",value:function(){var t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new Ds({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}},{key:"_updatePositionStrategy",value:function(t){var e=this,n=this.positions.map(function(t){return{originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||e.offsetX,offsetY:t.offsetY||e.offsetY,panelClass:t.panelClass||void 0}});return t.setOrigin(this.origin.elementRef).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}},{key:"_createPositionStrategy",value:function(){var t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}},{key:"_attachOverlay",value:function(){var t,e,n=this;this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(function(t){n.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((t=function(){return n.positionChange.observers.length>0},void 0===e&&(e=!1),(0,je.e)(function(n,r){n.subscribe(new Ue.Q(r,function(n){var i=t();(i||e)&&r.next(n),!i&&r.complete()}))}))).subscribe(function(t){n.positionChange.emit(t),0===n.positionChange.observers.length&&n._positionSubscription.unsubscribe()}))}},{key:"_detachOverlay",value:function(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(Ks),u.Y36(u.Rgc),u.Y36(u.s_b),u.Y36(Qs),u.Y36(ne,8))},t.\u0275dir=u.lG2({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[u.TTD]}),t}(),$s={provide:Qs,deps:[Ks],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},tu=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[Ks,$s],imports:[[re,ws,hn],hn]}),t}();function eu(t){return new Ut.y(function(e){(0,Ye.Xf)(t()).subscribe(e)})}function nu(t,e){}var ru=function t(){f(this,t),this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0},iu={dialogContainer:Er("dialogContainer",[Ar("void, exit",Ir({opacity:0,transform:"scale(0.7)"})),Ar("enter",Ir({transform:"none"})),Dr("* => enter",Tr("150ms cubic-bezier(0, 0, 0.2, 1)",Ir({transform:"none",opacity:1}))),Dr("* => void, * => exit",Tr("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Ir({opacity:0})))])},ou=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r,i,o,a,s){var c;return f(this,n),(c=e.call(this))._elementRef=t,c._focusTrapFactory=r,c._changeDetectorRef=i,c._config=a,c._focusMonitor=s,c._animationStateChanged=new u.vpe,c._elementFocusedBeforeDialogWasOpened=null,c._closeInteractionType=null,c.attachDomPortal=function(t){return c._portalOutlet.hasAttached(),c._portalOutlet.attachDomPortal(t)},c._ariaLabelledBy=a.ariaLabelledBy||null,c._document=o,c}return h(n,[{key:"_initializeWithAttachedContent",value:function(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}},{key:"attachComponentPortal",value:function(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}},{key:"attachTemplatePortal",value:function(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}},{key:"_recaptureFocus",value:function(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}},{key:"_trapFocus",value:function(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}},{key:"_restoreFocus",value:function(){var t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){var e=pe(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}},{key:"_setupFocusTrap",value:function(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}},{key:"_capturePreviouslyFocusedElement",value:function(){this._document&&(this._elementFocusedBeforeDialogWasOpened=pe())}},{key:"_focusDialogContainer",value:function(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}},{key:"_containsFocus",value:function(){var t=this._elementRef.nativeElement,e=pe();return t===e||t.contains(e)}}]),n}(gs);return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.SBq),u.Y36(sr),u.Y36(u.sBO),u.Y36(m,8),u.Y36(ru),u.Y36(br))},t.\u0275dir=u.lG2({type:t,viewQuery:function(t,e){var n;(1&t&&u.Gf(bs,7),2&t)&&(u.iGM(n=u.CRH())&&(e._portalOutlet=n.first))},features:[u.qOj]}),t}(),au=function(){var t,e=function(t){d(n,t);var e=p(n);function n(){var t;return f(this,n),(t=e.apply(this,arguments))._state="enter",t}return h(n,[{key:"_onAnimationDone",value:function(t){var e=t.toState,n=t.totalTime;"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:n}))}},{key:"_onAnimationStart",value:function(t){var e=t.toState,n=t.totalTime;"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:n}):"exit"!==e&&"void"!==e||this._animationStateChanged.next({state:"closing",totalTime:n})}},{key:"_startExitAnimation",value:function(){this._state="exit",this._changeDetectorRef.markForCheck()}}]),n}(ou);return e.\u0275fac=function(n){return(t||(t=u.n5z(e)))(n||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&u.WFA("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(u.Ikx("id",e._id),u.uIk("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),u.d8E("@dialogContainer",e._state))},features:[u.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&u.YNc(0,nu,0,0,"ng-template",0)},directives:[bs],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[iu.dialogContainer]}}),e}(),su=0,uu=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mat-dialog-"+su++;f(this,t),this._overlayRef=e,this._containerInstance=n,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Kt.x,this._afterClosed=new Kt.x,this._beforeClosed=new Kt.x,this._state=0,n._id=i,n._animationStateChanged.pipe(Qe(function(t){return"opened"===t.state}),(0,dn.q)(1)).subscribe(function(){r._afterOpened.next(),r._afterOpened.complete()}),n._animationStateChanged.pipe(Qe(function(t){return"closed"===t.state}),(0,dn.q)(1)).subscribe(function(){clearTimeout(r._closeFallbackTimeout),r._finishDialogClose()}),e.detachments().subscribe(function(){r._beforeClosed.next(r._result),r._beforeClosed.complete(),r._afterClosed.next(r._result),r._afterClosed.complete(),r.componentInstance=null,r._overlayRef.dispose()}),e.keydownEvents().pipe(Qe(function(t){return 27===t.keyCode&&!r.disableClose&&!Zn(t)})).subscribe(function(t){t.preventDefault(),cu(r,"keyboard")}),e.backdropClick().subscribe(function(){r.disableClose?r._containerInstance._recaptureFocus():cu(r,"mouse")})}return h(t,[{key:"close",value:function(t){var e=this;this._result=t,this._containerInstance._animationStateChanged.pipe(Qe(function(t){return"closing"===t.state}),(0,dn.q)(1)).subscribe(function(n){e._beforeClosed.next(t),e._beforeClosed.complete(),e._overlayRef.detachBackdrop(),e._closeFallbackTimeout=setTimeout(function(){return e._finishDialogClose()},n.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}},{key:"afterOpened",value:function(){return this._afterOpened}},{key:"afterClosed",value:function(){return this._afterClosed}},{key:"beforeClosed",value:function(){return this._beforeClosed}},{key:"backdropClick",value:function(){return this._overlayRef.backdropClick()}},{key:"keydownEvents",value:function(){return this._overlayRef.keydownEvents()}},{key:"updatePosition",value:function(t){var e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}},{key:"updateSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}},{key:"addPanelClass",value:function(t){return this._overlayRef.addPanelClass(t),this}},{key:"removePanelClass",value:function(t){return this._overlayRef.removePanelClass(t),this}},{key:"getState",value:function(){return this._state}},{key:"_finishDialogClose",value:function(){this._state=2,this._overlayRef.dispose()}},{key:"_getPositionStrategy",value:function(){return this._overlayRef.getConfig().positionStrategy}}]),t}();function cu(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}var lu=new u.OlP("MatDialogData"),hu=new u.OlP("mat-dialog-default-options"),fu=new u.OlP("mat-dialog-scroll-strategy"),du={provide:fu,deps:[Ks],useFactory:function(t){return function(){return t.scrollStrategies.block()}}},pu=function(){var t=function(){function t(e,n,r,i,o,a,s,u,c){var l=this;f(this,t),this._overlay=e,this._injector=n,this._defaultOptions=r,this._parentDialog=i,this._overlayContainer=o,this._dialogRefConstructor=s,this._dialogContainerType=u,this._dialogDataToken=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Kt.x,this._afterOpenedAtThisLevel=new Kt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=eu(function(){return l.openDialogs.length?l._getAfterAllClosed():l._getAfterAllClosed().pipe(nn(void 0))}),this._scrollStrategy=a}return h(t,[{key:"openDialogs",get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}},{key:"afterOpened",get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}},{key:"_getAfterAllClosed",value:function(){var t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}},{key:"open",value:function(t,e){var n=this;(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new ru)).id&&this.getDialogById(e.id);var r=this._createOverlay(e),i=this._attachDialogContainer(r,e),o=this._attachDialogContent(t,i,r,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(function(){return n._removeOpenDialog(o)}),this.afterOpened.next(o),i._initializeWithAttachedContent(),o}},{key:"closeAll",value:function(){this._closeDialogs(this.openDialogs)}},{key:"getDialogById",value:function(t){return this.openDialogs.find(function(e){return e.id===t})}},{key:"ngOnDestroy",value:function(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}},{key:"_createOverlay",value:function(t){var e=this._getOverlayConfig(t);return this._overlay.create(e)}},{key:"_getOverlayConfig",value:function(t){var e=new Ds({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}},{key:"_attachDialogContainer",value:function(t,e){var n=u.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:ru,useValue:e}]}),r=new vs(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(r).instance}},{key:"_attachDialogContent",value:function(t,e,n,r){var i=new this._dialogRefConstructor(n,e,r.id);if(t instanceof u.Rgc)e.attachTemplatePortal(new ys(t,null,{$implicit:r.data,dialogRef:i}));else{var o=this._createInjector(r,i,e),a=e.attachComponentPortal(new vs(t,r.viewContainerRef,o));i.componentInstance=a.instance}return i.updateSize(r.width,r.height).updatePosition(r.position),i}},{key:"_createInjector",value:function(t,e,n){var r=t&&t.viewContainerRef&&t.viewContainerRef.injector,i=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||r&&r.get(ne,null,u.XFs.Optional)||i.push({provide:ne,useValue:{value:t.direction,change:Wt()}}),u.zs3.create({parent:r||this._injector,providers:i})}},{key:"_removeOpenDialog",value:function(t){var e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach(function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}},{key:"_hideNonDialogContentFromAssistiveTechnology",value:function(){var t=this._overlayContainer.getContainerElement();if(t.parentElement)for(var e=t.parentElement.children,n=e.length-1;n>-1;n--){var r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}},{key:"_closeDialogs",value:function(t){for(var e=t.length;e--;)t[e].close()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(Ks),u.Y36(u.zs3),u.Y36(void 0),u.Y36(void 0),u.Y36(Ms),u.Y36(void 0),u.Y36(u.DyG),u.Y36(u.DyG),u.Y36(u.OlP))},t.\u0275dir=u.lG2({type:t}),t}(),vu=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r,i,o,a,s,u){return f(this,n),e.call(this,t,r,o,s,u,a,uu,au,lu)}return n}(pu);return t.\u0275fac=function(e){return new(e||t)(u.LFG(Ks),u.LFG(u.zs3),u.LFG(R,8),u.LFG(hu,8),u.LFG(fu),u.LFG(t,12),u.LFG(Ms))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),yu=0,mu=function(){var t=function(){function t(e,n,r){f(this,t),this.dialogRef=e,this._elementRef=n,this._dialog=r,this.type="button"}return h(t,[{key:"ngOnInit",value:function(){this.dialogRef||(this.dialogRef=wu(this._elementRef,this._dialog.openDialogs))}},{key:"ngOnChanges",value:function(t){var e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}},{key:"_onButtonClick",value:function(t){cu(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(uu,8),u.Y36(u.SBq),u.Y36(vu))},t.\u0275dir=u.lG2({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&u.NdJ("click",function(t){return e._onButtonClick(t)}),2&t&&u.uIk("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[u.TTD]}),t}(),gu=function(){var t=function(){function t(e,n,r){f(this,t),this._dialogRef=e,this._elementRef=n,this._dialog=r,this.id="mat-dialog-title-"+yu++}return h(t,[{key:"ngOnInit",value:function(){var t=this;this._dialogRef||(this._dialogRef=wu(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(function(){var e=t._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=t.id)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(uu,8),u.Y36(u.SBq),u.Y36(vu))},t.\u0275dir=u.lG2({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&u.Ikx("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t}(),_u=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=u.lG2({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t}(),bu=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=u.lG2({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t}();function wu(t,e){for(var n=t.nativeElement.parentElement;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(function(t){return t.id===n.id}):null}var ku=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[vu,du],imports:[[tu,ws,na],na]}),t}(),Cu=function(){var t=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return h(t,[{key:"setProperty",value:function(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"setDisabledState",value:function(t){this.setProperty("disabled",t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.Qsj),u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t}),t}(),Su=function(){var t,e=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(Cu);return e.\u0275fac=function(n){return(t||(t=u.n5z(e)))(n||e)},e.\u0275dir=u.lG2({type:e,features:[u.qOj]}),e}(),Eu=new u.OlP("NgValueAccessor"),Tu={provide:Eu,useExisting:(0,u.Gpc)(function(){return Iu}),multi:!0},xu=new u.OlP("CompositionEventMode"),Iu=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r,i){var o,a;return f(this,n),(o=e.call(this,t,r))._compositionMode=i,o._composing=!1,null==o._compositionMode&&(o._compositionMode=(a=l()?l().getUserAgent():"",!/android (\d+)/.test(a.toLowerCase()))),o}return h(n,[{key:"writeValue",value:function(t){this.setProperty("value",null==t?"":t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),n}(Cu);return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(xu,8))},t.\u0275dir=u.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&u.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[u._Bn([Tu]),u.qOj]}),t}(),Au=new u.OlP("NgValidators"),Du=new u.OlP("NgAsyncValidators");function Ru(t){return null!=t}function Ou(t){var e=(0,u.QGY)(t)?(0,Ye.Dp)(t):t;return(0,u.CqO)(e),e}function Pu(t){var e={};return t.forEach(function(t){e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Nu(t,e){return e.map(function(e){return e(t)})}function Fu(t){return t.map(function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}})}function Lu(t){return null!=t?function(t){if(!t)return null;var e=t.filter(Ru);return 0==e.length?null:function(t){return Pu(Nu(t,e))}}(Fu(t)):null}function Mu(t){return null!=t?function(t){if(!t)return null;var e=t.filter(Ru);return 0==e.length?null:function(t){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,Yt.jO)(t),r=Za(t),i=r.args,o=r.keys,a=new Ut.y(function(t){var e=i.length;if(e)for(var n=new Array(e),r=e,a=e,s=function(e){var s=!1;(0,Ye.Xf)(i[e]).subscribe(new Ue.Q(t,function(t){s||(s=!0,a--),n[e]=t},function(){--r&&s||(a||t.next(o?Qa(o,n):n),t.complete())}))},u=0;u<e;u++)s(u);else t.complete()});return n?a.pipe(be(n)):a}(Nu(t,e).map(Ou)).pipe((0,ge.U)(Pu))}}(Fu(t)):null}function Vu(t,e){return null===t?[e]:Array.isArray(t)?[].concat(o(t),[e]):[t,e]}function Bu(t){return t._rawValidators}function qu(t){return t._rawAsyncValidators}var ju=function(){var t=function(){function t(){f(this,t),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return h(t,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(t){this._rawValidators=t||[],this._composedValidatorFn=Lu(this._rawValidators)}},{key:"_setAsyncValidators",value:function(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Mu(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(t){this._onDestroyCallbacks.push(t)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(t){return t()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=u.lG2({type:t}),t}(),Uu=function(){var t,e=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(ju);return e.\u0275fac=function(n){return(t||(t=u.n5z(e)))(n||e)},e.\u0275dir=u.lG2({type:e,features:[u.qOj]}),e}(),Gu=function(t){d(n,t);var e=p(n);function n(){var t;return f(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t}return n}(ju),zu=function(){function t(e){f(this,t),this._cd=e}return h(t,[{key:"is",value:function(t){var e,n,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[t])}}]),t}(),Hu=function(){var t=function(t){d(n,t);var e=p(n);function n(t){return f(this,n),e.call(this,t)}return n}(zu);return t.\u0275fac=function(e){return new(e||t)(u.Y36(Gu,2))},t.\u0275dir=u.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&u.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[u.qOj]}),t}(),Yu=function(){var t=function(t){d(n,t);var e=p(n);function n(t){return f(this,n),e.call(this,t)}return n}(zu);return t.\u0275fac=function(e){return new(e||t)(u.Y36(Uu,10))},t.\u0275dir=u.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,e){2&t&&u.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))("ng-submitted",e.is("submitted"))},features:[u.qOj]}),t}();function Wu(t,e){Qu(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Xu(t,e)})}(t,e),function(t,e){var n=function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(function(){t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Xu(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){var n=function(t){e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(function(){t._unregisterOnDisabledChange(n)})}}(t,e)}function Ku(t,e){var n=function(){};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),Ju(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(function(){}))}function Zu(t,e){t.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Qu(t,e){var n=Bu(t);null!==e.validator?t.setValidators(Vu(n,e.validator)):"function"==typeof n&&t.setValidators([n]);var r=qu(t);null!==e.asyncValidator?t.setAsyncValidators(Vu(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);var i=function(){return t.updateValueAndValidity()};Zu(e._rawValidators,i),Zu(e._rawAsyncValidators,i)}function Ju(t,e){var n=!1;if(null!==t){if(null!==e.validator){var r=Bu(t);if(Array.isArray(r)&&r.length>0){var i=r.filter(function(t){return t!==e.validator});i.length!==r.length&&(n=!0,t.setValidators(i))}}if(null!==e.asyncValidator){var o=qu(t);if(Array.isArray(o)&&o.length>0){var a=o.filter(function(t){return t!==e.asyncValidator});a.length!==o.length&&(n=!0,t.setAsyncValidators(a))}}}var s=function(){};return Zu(e._rawValidators,s),Zu(e._rawAsyncValidators,s),n}function Xu(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function $u(t,e){Qu(t,e)}function tc(t,e){t._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function ec(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function nc(t){return(ac(t)?t.validators:t)||null}function rc(t){return Array.isArray(t)?Lu(t):t||null}function ic(t,e){return(ac(e)?e.asyncValidators:t)||null}function oc(t){return Array.isArray(t)?Mu(t):t||null}function ac(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var sc=function(){function t(e,n){f(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=rc(this._rawValidators),this._composedAsyncValidatorFn=oc(this._rawAsyncValidators)}return h(t,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=rc(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=oc(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(t){return t.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!0)})}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!1)})}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=Ou(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach(function(t){r=r instanceof cc?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof lc&&r.at(t)||null}),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls(function(e){return e.status===t})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(t){return t.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(t){return t.touched})}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){ac(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),t}(),uc=function(t){d(n,t);var e=p(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return f(this,n),(t=e.call(this,nc(i),ic(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t._initObservables(),t.updateValueAndValidity({onlySelf:!0,emitEvent:!!t.asyncValidator}),t}return h(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(t){return t(e.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_unregisterOnChange",value:function(t){ec(this._onChange,t)}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_unregisterOnDisabledChange",value:function(t){ec(this._onDisabledChange,t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(sc),cc=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,nc(r),ic(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return h(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"removeControl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}},{key:"setControl",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(Object.keys(t).forEach(function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof uc?e.value:e.getRawValue(),t})}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach(function(n){var r=e.controls[n];r&&t(r,n)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var r=n[e],i=this.controls[r];if(this.contains(r)&&t(i))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(sc),lc=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,nc(r),ic(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!o.asyncValidator}),o}return h(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}},{key:"insert",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}},{key:"removeAt",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}},{key:"setControl",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach(function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(t.forEach(function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map(function(t){return t instanceof uc?t.value:t.getRawValue()})}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.controls.length<1||(this._forEachChild(function(t){return t._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach(function(e,n){t(e,n)})}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})}},{key:"_anyControls",value:function(t){return this.controls.some(function(e){return e.enabled&&t(e)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var t,e=s(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}]),n}(sc),hc={provide:Uu,useExisting:(0,u.Gpc)(function(){return dc})},fc=Promise.resolve(null),dc=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new u.vpe,i.form=new cc({},Lu(t),Mu(r)),i}return h(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(t){var e=this;fc.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Wu(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;fc.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),ec(e._directives,t)})}},{key:"addFormGroup",value:function(t){var e=this;fc.then(function(){var n=e._findContainer(t.path),r=new cc({});$u(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}},{key:"removeFormGroup",value:function(t){var e=this;fc.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;fc.then(function(){n.form.get(t.path).setValue(e)})}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,tc(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}}]),n}(Uu);return t.\u0275fac=function(e){return new(e||t)(u.Y36(Au,10),u.Y36(Du,10))},t.\u0275dir=u.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&u.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([hc]),u.qOj]}),t}(),pc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t}(),vc=new u.OlP("NgModelWithFormControlWarning"),yc={provide:Uu,useExisting:(0,u.Gpc)(function(){return mc})},mc=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).validators=t,i.asyncValidators=r,i.submitted=!1,i._onCollectionChange=function(){return i._updateDomValue()},i.directives=[],i.form=null,i.ngSubmit=new u.vpe,i._setValidators(t),i._setAsyncValidators(r),i}return h(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"ngOnDestroy",value:function(){this.form&&(Ju(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(function(){}))}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return Wu(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){Ku(t.control||null,t,!1),ec(this.directives,t)}},{key:"addFormGroup",value:function(t){this._setUpFormContainer(t)}},{key:"removeFormGroup",value:function(t){this._cleanUpFormContainer(t)}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){this._setUpFormContainer(t)}},{key:"removeFormArray",value:function(t){this._cleanUpFormContainer(t)}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,tc(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach(function(e){var n=e.control,r=t.form.get(e.path);n!==r&&(Ku(n||null,e),r instanceof uc&&(Wu(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_setUpFormContainer",value:function(t){var e=this.form.get(t.path);$u(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"_cleanUpFormContainer",value:function(t){if(this.form){var e=this.form.get(t.path);e&&function(t,e){return Ju(t,e)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}},{key:"_updateRegistrations",value:function(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){Qu(this.form,this),this._oldForm&&Ju(this._oldForm,this)}},{key:"_checkFormPresent",value:function(){}}]),n}(Uu);return t.\u0275fac=function(e){return new(e||t)(u.Y36(Au,10),u.Y36(Du,10))},t.\u0275dir=u.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&u.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([yc]),u.qOj,u.TTD]}),t}(),gc={provide:Gu,useExisting:(0,u.Gpc)(function(){return _c})},_c=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r,i,o,a){var s;return f(this,n),(s=e.call(this))._ngModelWarningConfig=a,s._added=!1,s.update=new u.vpe,s._ngModelWarningSent=!1,s._parent=t,s._setValidators(r),s._setAsyncValidators(i),s.valueAccessor=function(t,e){return e?(Array.isArray(e),e.forEach(function(t){t.constructor===Iu?n=t:Object.getPrototypeOf(t.constructor)===Su?r=t:i=t}),i||r||n||null):null;var n,r,i}(0,o),s}return h(n,[{key:"isDisabled",set:function(t){}},{key:"ngOnChanges",value:function(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"path",get:function(){return t=null==this.name?this.name:this.name.toString(),[].concat(o(this._parent.path),[t]);var t}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(Gu);return t.\u0275fac=function(e){return new(e||t)(u.Y36(Uu,13),u.Y36(Au,10),u.Y36(Du,10),u.Y36(Eu,10),u.Y36(vc,8))},t.\u0275dir=u.lG2({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([gc]),u.qOj,u.TTD]}),t._ngModelWarningSentOnce=!1,t}(),bc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[pc]]}),t}(),wc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[bc]}),t}(),kc=function(){var t=function(){function t(){f(this,t)}return h(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:vc,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[bc]}),t}(),Cc=function(){var t=function(){function t(){f(this,t)}return h(t,[{key:"group",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this._reduceControls(t),i=null,o=null;return null!=n&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(n)?(i=null!=n.validators?n.validators:null,o=null!=n.asyncValidators?n.asyncValidators:null,e=null!=n.updateOn?n.updateOn:void 0):(i=null!=n.validator?n.validator:null,o=null!=n.asyncValidator?n.asyncValidator:null)),new cc(r,{asyncValidators:o,updateOn:e,validators:i})}},{key:"control",value:function(t,e,n){return new uc(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map(function(t){return r._createControl(t)});return new lc(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n}},{key:"_createControl",value:function(t){return t instanceof uc||t instanceof cc||t instanceof lc?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,u.Yz7)({factory:function(){return new t},token:t,providedIn:kc}),t}(),Sc=["underline"],Ec=["connectionContainer"],Tc=["inputContainer"],xc=["label"];function Ic(t,e){1&t&&(u.ynx(0),u.TgZ(1,"div",14),u._UZ(2,"div",15),u._UZ(3,"div",16),u._UZ(4,"div",17),u.qZA(),u.TgZ(5,"div",18),u._UZ(6,"div",15),u._UZ(7,"div",16),u._UZ(8,"div",17),u.qZA(),u.BQk())}function Ac(t,e){1&t&&(u.TgZ(0,"div",19),u.Hsn(1,1),u.qZA())}function Dc(t,e){if(1&t&&(u.ynx(0),u.Hsn(1,2),u.TgZ(2,"span"),u._uU(3),u.qZA(),u.BQk()),2&t){var n=u.oxw(2);u.xp6(3),u.Oqu(n._control.placeholder)}}function Rc(t,e){1&t&&u.Hsn(0,3,["*ngSwitchCase","true"])}function Oc(t,e){1&t&&(u.TgZ(0,"span",23),u._uU(1," *"),u.qZA())}function Pc(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"label",20,21),u.NdJ("cdkObserveContent",function(){return u.CHM(n),u.oxw().updateOutlineGap()}),u.YNc(2,Dc,4,1,"ng-container",12),u.YNc(3,Rc,1,0,"ng-content",12),u.YNc(4,Oc,2,0,"span",22),u.qZA()}if(2&t){var r=u.oxw();u.ekj("mat-empty",r._control.empty&&!r._shouldAlwaysFloat())("mat-form-field-empty",r._control.empty&&!r._shouldAlwaysFloat())("mat-accent","accent"==r.color)("mat-warn","warn"==r.color),u.Q6J("cdkObserveContentDisabled","outline"!=r.appearance)("id",r._labelId)("ngSwitch",r._hasLabel()),u.uIk("for",r._control.id)("aria-owns",r._control.id),u.xp6(2),u.Q6J("ngSwitchCase",!1),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngIf",!r.hideRequiredMarker&&r._control.required&&!r._control.disabled)}}function Nc(t,e){1&t&&(u.TgZ(0,"div",24),u.Hsn(1,4),u.qZA())}function Fc(t,e){if(1&t&&(u.TgZ(0,"div",25,26),u._UZ(2,"span",27),u.qZA()),2&t){var n=u.oxw();u.xp6(2),u.ekj("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function Lc(t,e){if(1&t&&(u.TgZ(0,"div"),u.Hsn(1,5),u.qZA()),2&t){var n=u.oxw();u.Q6J("@transitionMessages",n._subscriptAnimationState)}}function Mc(t,e){if(1&t&&(u.TgZ(0,"div",31),u._uU(1),u.qZA()),2&t){var n=u.oxw(2);u.Q6J("id",n._hintLabelId),u.xp6(1),u.Oqu(n.hintLabel)}}function Vc(t,e){if(1&t&&(u.TgZ(0,"div",28),u.YNc(1,Mc,2,2,"div",29),u.Hsn(2,6),u._UZ(3,"div",30),u.Hsn(4,7),u.qZA()),2&t){var n=u.oxw();u.Q6J("@transitionMessages",n._subscriptAnimationState),u.xp6(1),u.Q6J("ngIf",n.hintLabel)}}var Bc=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],qc=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],jc=new u.OlP("MatError"),Uc={transitionMessages:Er("transitionMessages",[Ar("enter",Ir({opacity:1,transform:"translateY(0%)"})),Dr("void => enter",[Ir({opacity:0,transform:"translateY(-5px)"}),Tr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Gc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=u.lG2({type:t}),t}(),zc=new u.OlP("MatHint"),Hc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=u.lG2({type:t,selectors:[["mat-label"]]}),t}(),Yc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=u.lG2({type:t,selectors:[["mat-placeholder"]]}),t}(),Wc=new u.OlP("MatPrefix"),Kc=new u.OlP("MatSuffix"),Zc=0,Qc=ia(function(){return function t(e){f(this,t),this._elementRef=e}}(),"primary"),Jc=new u.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Xc=new u.OlP("MatFormField"),$c=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r,i,o,a,s,u,c){var l;return f(this,n),(l=e.call(this,t))._elementRef=t,l._changeDetectorRef=r,l._dir=o,l._defaults=a,l._platform=s,l._ngZone=u,l._outlineGapCalculationNeededImmediately=!1,l._outlineGapCalculationNeededOnStable=!1,l._destroyed=new Kt.x,l._showAlwaysAnimate=!1,l._subscriptAnimationState="",l._hintLabel="",l._hintLabelId="mat-hint-"+Zc++,l._labelId="mat-form-field-label-"+Zc++,l.floatLabel=l._getDefaultFloatLabelState(),l._animationsEnabled="NoopAnimations"!==c,l.appearance=a&&a.appearance?a.appearance:"legacy",l._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker,l}return h(n,[{key:"appearance",get:function(){return this._appearance},set:function(t){var e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}},{key:"hideRequiredMarker",get:function(){return this._hideRequiredMarker},set:function(t){this._hideRequiredMarker=Lt(t)}},{key:"_shouldAlwaysFloat",value:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}},{key:"_canLabelFloat",value:function(){return"never"!==this.floatLabel}},{key:"hintLabel",get:function(){return this._hintLabel},set:function(t){this._hintLabel=t,this._processHints()}},{key:"floatLabel",get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}},{key:"_control",get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(t){this._explicitFormFieldControl=t}},{key:"getLabelId",value:function(){return this._hasFloatingLabel()?this._labelId:null}},{key:"getConnectedOverlayOrigin",value:function(){return this._connectionContainerRef||this._elementRef}},{key:"ngAfterContentInit",value:function(){var t=this;this._validateControlChild();var e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-".concat(e.controlType)),e.stateChanges.pipe(nn(null)).subscribe(function(){t._validatePlaceholders(),t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Xe(this._destroyed)).subscribe(function(){return t._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.pipe(Xe(t._destroyed)).subscribe(function(){t._outlineGapCalculationNeededOnStable&&t.updateOutlineGap()})}),(0,za.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(function(){t._outlineGapCalculationNeededOnStable=!0,t._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(nn(null)).subscribe(function(){t._processHints(),t._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(nn(null)).subscribe(function(){t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Xe(this._destroyed)).subscribe(function(){"function"==typeof requestAnimationFrame?t._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){return t.updateOutlineGap()})}):t.updateOutlineGap()})}},{key:"ngAfterContentChecked",value:function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}},{key:"ngAfterViewInit",value:function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_shouldForward",value:function(t){var e=this._control?this._control.ngControl:null;return e&&e[t]}},{key:"_hasPlaceholder",value:function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}},{key:"_hasLabel",value:function(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}},{key:"_shouldLabelFloat",value:function(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}},{key:"_hideControlPlaceholder",value:function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}},{key:"_hasFloatingLabel",value:function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}},{key:"_getDisplayedMessages",value:function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}},{key:"_animateAndLockLabel",value:function(){var t=this;this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Se(this._label.nativeElement,"transitionend").pipe((0,dn.q)(1)).subscribe(function(){t._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}},{key:"_validatePlaceholders",value:function(){}},{key:"_processHints",value:function(){this._validateHints(),this._syncDescribedByIds()}},{key:"_validateHints",value:function(){}},{key:"_getDefaultFloatLabelState",value:function(){return this._defaults&&this._defaults.floatLabel||"auto"}},{key:"_syncDescribedByIds",value:function(){if(this._control){var t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push.apply(t,o(this._control.userAriaDescribedBy.split(" "))),"hint"===this._getDisplayedMessages()){var e=this._hintChildren?this._hintChildren.find(function(t){return"start"===t.align}):null,n=this._hintChildren?this._hintChildren.find(function(t){return"end"===t.align}):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push.apply(t,o(this._errorChildren.map(function(t){return t.id})));this._control.setDescribedByIds(t)}}},{key:"_validateControlChild",value:function(){}},{key:"updateOutlineGap",value:function(){var t=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser)if(this._isAttachedToDOM()){var e=0,n=0,r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),o=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var a=r.getBoundingClientRect();if(0===a.width&&0===a.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);for(var s=this._getStartEnd(a),u=t.children,c=this._getStartEnd(u[0].getBoundingClientRect()),l=0,h=0;h<u.length;h++)l+=u[h].offsetWidth;e=Math.abs(c-s)-5,n=l>0?.75*l+10:0}for(var f=0;f<i.length;f++)i[f].style.width="".concat(e,"px");for(var d=0;d<o.length;d++)o[d].style.width="".concat(n,"px");this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0}},{key:"_getStartEnd",value:function(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}},{key:"_isAttachedToDOM",value:function(){var t=this._elementRef.nativeElement;if(t.getRootNode){var e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}]),n}(Qc);return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(ne,8),u.Y36(Jc,8),u.Y36(ue),u.Y36(u.R0b),u.Y36(Yo,8))},t.\u0275cmp=u.Xpm({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var r;(1&t&&(u.Suo(n,Gc,5),u.Suo(n,Gc,7),u.Suo(n,Hc,5),u.Suo(n,Hc,7),u.Suo(n,Yc,5),u.Suo(n,jc,5),u.Suo(n,zc,5),u.Suo(n,Wc,5),u.Suo(n,Kc,5)),2&t)&&(u.iGM(r=u.CRH())&&(e._controlNonStatic=r.first),u.iGM(r=u.CRH())&&(e._controlStatic=r.first),u.iGM(r=u.CRH())&&(e._labelChildNonStatic=r.first),u.iGM(r=u.CRH())&&(e._labelChildStatic=r.first),u.iGM(r=u.CRH())&&(e._placeholderChild=r.first),u.iGM(r=u.CRH())&&(e._errorChildren=r),u.iGM(r=u.CRH())&&(e._hintChildren=r),u.iGM(r=u.CRH())&&(e._prefixChildren=r),u.iGM(r=u.CRH())&&(e._suffixChildren=r))},viewQuery:function(t,e){var n;(1&t&&(u.Gf(Sc,5),u.Gf(Ec,7),u.Gf(Tc,5),u.Gf(xc,5)),2&t)&&(u.iGM(n=u.CRH())&&(e.underlineRef=n.first),u.iGM(n=u.CRH())&&(e._connectionContainerRef=n.first),u.iGM(n=u.CRH())&&(e._inputContainerRef=n.first),u.iGM(n=u.CRH())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,e){2&t&&u.ekj("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[u._Bn([{provide:Xc,useExisting:t}]),u.qOj],ngContentSelectors:qc,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(u.F$t(Bc),u.TgZ(0,"div",0),u.TgZ(1,"div",1,2),u.NdJ("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),u.YNc(3,Ic,9,0,"ng-container",3),u.YNc(4,Ac,2,0,"div",4),u.TgZ(5,"div",5,6),u.Hsn(7),u.TgZ(8,"span",7),u.YNc(9,Pc,5,16,"label",8),u.qZA(),u.qZA(),u.YNc(10,Nc,2,0,"div",9),u.qZA(),u.YNc(11,Fc,3,4,"div",10),u.TgZ(12,"div",11),u.YNc(13,Lc,2,1,"div",12),u.YNc(14,Vc,5,2,"div",13),u.qZA(),u.qZA()),2&t&&(u.xp6(3),u.Q6J("ngIf","outline"==e.appearance),u.xp6(1),u.Q6J("ngIf",e._prefixChildren.length),u.xp6(5),u.Q6J("ngIf",e._hasFloatingLabel()),u.xp6(1),u.Q6J("ngIf",e._suffixChildren.length),u.xp6(1),u.Q6J("ngIf","outline"!=e.appearance),u.xp6(1),u.Q6J("ngSwitch",e._getDisplayedMessages()),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","hint"))},directives:[Z,tt,et,tr],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Uc.transitionMessages]},changeDetection:0}),t}(),tl=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[it,na,er],na]}),t}(),el=["trigger"],nl=["panel"];function rl(t,e){if(1&t&&(u.TgZ(0,"span",8),u._uU(1),u.qZA()),2&t){var n=u.oxw();u.xp6(1),u.Oqu(n.placeholder)}}function il(t,e){if(1&t&&(u.TgZ(0,"span",12),u._uU(1),u.qZA()),2&t){var n=u.oxw(2);u.xp6(1),u.Oqu(n.triggerValue)}}function ol(t,e){1&t&&u.Hsn(0,0,["*ngSwitchCase","true"])}function al(t,e){if(1&t&&(u.TgZ(0,"span",9),u.YNc(1,il,2,1,"span",10),u.YNc(2,ol,1,0,"ng-content",11),u.qZA()),2&t){var n=u.oxw();u.Q6J("ngSwitch",!!n.customTrigger),u.xp6(2),u.Q6J("ngSwitchCase",!0)}}function sl(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"div",13),u.TgZ(1,"div",14,15),u.NdJ("@transformPanel.done",function(t){return u.CHM(n),u.oxw()._panelDoneAnimatingStream.next(t.toState)})("keydown",function(t){return u.CHM(n),u.oxw()._handleKeydown(t)}),u.Hsn(3,1),u.qZA(),u.qZA()}if(2&t){var r=u.oxw();u.Q6J("@transformPanelWrap",void 0),u.xp6(1),u.Gre("mat-select-panel ",r._getPanelTheme(),""),u.Udp("transform-origin",r._transformOrigin)("font-size",r._triggerFontSize,"px"),u.Q6J("ngClass",r.panelClass)("@transformPanel",r.multiple?"showing-multiple":"showing"),u.uIk("id",r.id+"-panel")("aria-multiselectable",r.multiple)("aria-label",r.ariaLabel||null)("aria-labelledby",r._getPanelAriaLabelledby())}}var ul=[[["mat-select-trigger"]],"*"],cl=["mat-select-trigger","*"],ll={transformPanelWrap:Er("transformPanelWrap",[Dr("* => void",function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:t,animation:e,options:n}}("@transformPanel",[function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:9,options:t}}()],{optional:!0}))]),transformPanel:Er("transformPanel",[Ar("void",Ir({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Ar("showing",Ir({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Ar("showing-multiple",Ir({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Dr("void => *",Tr("120ms cubic-bezier(0, 0, 0.2, 1)")),Dr("* => void",Tr("100ms 25ms linear",Ir({opacity:0})))])},hl=0,fl=new u.OlP("mat-select-scroll-strategy"),dl=new u.OlP("MAT_SELECT_CONFIG"),pl={provide:fl,deps:[Ks],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},vl=function t(e,n){f(this,t),this.source=e,this.value=n},yl=oa(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){d(r,t);var n=p(r);function r(){var t;f(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o)))._tabIndex=e,t.defaultTabIndex=e,t}return h(r,[{key:"tabIndex",get:function(){return this.disabled?-1:this._tabIndex},set:function(t){this._tabIndex=null!=t?Mt(t):this.defaultTabIndex}}]),r}(t)}(ra(aa(function(){return function t(e,n,r,i,o){f(this,t),this._elementRef=e,this._defaultErrorStateMatcher=n,this._parentForm=r,this._parentFormGroup=i,this.ngControl=o}}())))),ml=new u.OlP("MatSelectTrigger"),gl=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r,i,a,s,c,l,h,d,p,v,m,g,_){var b,w,k,C;return f(this,n),(b=e.call(this,s,a,l,h,p))._viewportRuler=t,b._changeDetectorRef=r,b._ngZone=i,b._dir=c,b._parentFormField=d,b.ngControl=p,b._liveAnnouncer=g,b._defaultOptions=_,b._panelOpen=!1,b._compareWith=function(t,e){return t===e},b._uid="mat-select-"+hl++,b._triggerAriaLabelledBy=null,b._destroy=new Kt.x,b._onChange=function(){},b._onTouched=function(){},b._valueId="mat-select-value-"+hl++,b._panelDoneAnimatingStream=new Kt.x,b._overlayPanelClass=(null===(w=b._defaultOptions)||void 0===w?void 0:w.overlayPanelClass)||"",b._focused=!1,b.controlType="mat-select",b._required=!1,b._multiple=!1,b._disableOptionCentering=null!==(C=null===(k=b._defaultOptions)||void 0===k?void 0:k.disableOptionCentering)&&void 0!==C&&C,b.ariaLabel="",b.optionSelectionChanges=eu(function(){var t=b.options;return t?t.changes.pipe(nn(t),on(function(){return za.T.apply(void 0,o(t.map(function(t){return t.onSelectionChange})))})):b._ngZone.onStable.pipe((0,dn.q)(1),on(function(){return b.optionSelectionChanges}))}),b.openedChange=new u.vpe,b._openedStream=b.openedChange.pipe(Qe(function(t){return t}),(0,ge.U)(function(){})),b._closedStream=b.openedChange.pipe(Qe(function(t){return!t}),(0,ge.U)(function(){})),b.selectionChange=new u.vpe,b.valueChange=new u.vpe,b.ngControl&&(b.ngControl.valueAccessor=y(b)),null!=(null==_?void 0:_.typeaheadDebounceInterval)&&(b._typeaheadDebounceInterval=_.typeaheadDebounceInterval),b._scrollStrategyFactory=m,b._scrollStrategy=b._scrollStrategyFactory(),b.tabIndex=parseInt(v)||0,b.id=b.id,b}return h(n,[{key:"focused",get:function(){return this._focused||this._panelOpen}},{key:"placeholder",get:function(){return this._placeholder},set:function(t){this._placeholder=t,this.stateChanges.next()}},{key:"required",get:function(){return this._required},set:function(t){this._required=Lt(t),this.stateChanges.next()}},{key:"multiple",get:function(){return this._multiple},set:function(t){this._multiple=Lt(t)}},{key:"disableOptionCentering",get:function(){return this._disableOptionCentering},set:function(t){this._disableOptionCentering=Lt(t)}},{key:"compareWith",get:function(){return this._compareWith},set:function(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}},{key:"value",get:function(){return this._value},set:function(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}},{key:"typeaheadDebounceInterval",get:function(){return this._typeaheadDebounceInterval},set:function(t){this._typeaheadDebounceInterval=Mt(t)}},{key:"id",get:function(){return this._id},set:function(t){this._id=t||this._uid,this.stateChanges.next()}},{key:"ngOnInit",value:function(){var t=this;this._selectionModel=new $t(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Ge(),Xe(this._destroy)).subscribe(function(){return t._panelDoneAnimating(t.panelOpen)})}},{key:"ngAfterContentInit",value:function(){var t=this;this._initKeyManager(),this._selectionModel.changed.pipe(Xe(this._destroy)).subscribe(function(t){t.added.forEach(function(t){return t.select()}),t.removed.forEach(function(t){return t.deselect()})}),this.options.changes.pipe(nn(null),Xe(this._destroy)).subscribe(function(){t._resetOptions(),t._initializeSelection()})}},{key:"ngDoCheck",value:function(){var t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){var e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}},{key:"ngOnChanges",value:function(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}},{key:"ngOnDestroy",value:function(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}},{key:"toggle",value:function(){this.panelOpen?this.close():this.open()}},{key:"open",value:function(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}},{key:"close",value:function(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}},{key:"writeValue",value:function(t){this.value=t}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}},{key:"panelOpen",get:function(){return this._panelOpen}},{key:"selected",get:function(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}},{key:"triggerValue",get:function(){if(this.empty)return"";if(this._multiple){var t=this._selectionModel.selected.map(function(t){return t.viewValue});return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}},{key:"_isRtl",value:function(){return!!this._dir&&"rtl"===this._dir.value}},{key:"_handleKeydown",value:function(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}},{key:"_handleClosedKeydown",value:function(t){var e=t.keyCode,n=40===e||38===e||37===e||39===e,r=13===e||32===e,i=this._keyManager;if(!i.isTyping()&&r&&!Zn(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){var o=this.selected;i.onKeydown(t);var a=this.selected;a&&o!==a&&this._liveAnnouncer.announce(a.viewValue,1e4)}}},{key:"_handleOpenKeydown",value:function(t){var e=this._keyManager,n=t.keyCode,r=40===n||38===n,i=e.isTyping();if(r&&t.altKey)t.preventDefault(),this.close();else if(i||13!==n&&32!==n||!e.activeItem||Zn(t))if(!i&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();var o=this.options.some(function(t){return!t.disabled&&!t.selected});this.options.forEach(function(t){t.disabled||(o?t.select():t.deselect())})}else{var a=e.activeItemIndex;e.onKeydown(t),this._multiple&&r&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==a&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}},{key:"_onFocus",value:function(){this.disabled||(this._focused=!0,this.stateChanges.next())}},{key:"_onBlur",value:function(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}},{key:"_onAttached",value:function(){var t=this;this._overlayDir.positionChange.pipe((0,dn.q)(1)).subscribe(function(){t._changeDetectorRef.detectChanges(),t._positioningSettled()})}},{key:"_getPanelTheme",value:function(){return this._parentFormField?"mat-".concat(this._parentFormField.color):""}},{key:"empty",get:function(){return!this._selectionModel||this._selectionModel.isEmpty()}},{key:"_initializeSelection",value:function(){var t=this;Promise.resolve().then(function(){t._setSelectionByValue(t.ngControl?t.ngControl.value:t._value),t.stateChanges.next()})}},{key:"_setSelectionByValue",value:function(t){var e=this;if(this._selectionModel.selected.forEach(function(t){return t.setInactiveStyles()}),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(function(t){return e._selectValue(t)}),this._sortValues();else{var n=this._selectValue(t);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}},{key:"_selectValue",value:function(t){var e=this,n=this.options.find(function(n){if(e._selectionModel.isSelected(n))return!1;try{return null!=n.value&&e._compareWith(n.value,t)}catch(r){return!1}});return n&&this._selectionModel.select(n),n}},{key:"_initKeyManager",value:function(){var t=this;this._keyManager=new nr(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Xe(this._destroy)).subscribe(function(){t.panelOpen&&(!t.multiple&&t._keyManager.activeItem&&t._keyManager.activeItem._selectViaInteraction(),t.focus(),t.close())}),this._keyManager.change.pipe(Xe(this._destroy)).subscribe(function(){t._panelOpen&&t.panel?t._scrollOptionIntoView(t._keyManager.activeItemIndex||0):t._panelOpen||t.multiple||!t._keyManager.activeItem||t._keyManager.activeItem._selectViaInteraction()})}},{key:"_resetOptions",value:function(){var t=this,e=(0,za.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Xe(e)).subscribe(function(e){t._onSelect(e.source,e.isUserInput),e.isUserInput&&!t.multiple&&t._panelOpen&&(t.close(),t.focus())}),za.T.apply(void 0,o(this.options.map(function(t){return t._stateChanges}))).pipe(Xe(e)).subscribe(function(){t._changeDetectorRef.markForCheck(),t.stateChanges.next()})}},{key:"_onSelect",value:function(t,e){var n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}},{key:"_sortValues",value:function(){var t=this;if(this.multiple){var e=this.options.toArray();this._selectionModel.sort(function(n,r){return t.sortComparator?t.sortComparator(n,r,e):e.indexOf(n)-e.indexOf(r)}),this.stateChanges.next()}}},{key:"_propagateChanges",value:function(t){var e;e=this.multiple?this.selected.map(function(t){return t.value}):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}},{key:"_highlightCorrectOption",value:function(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}},{key:"_canOpen",value:function(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}},{key:"focus",value:function(t){this._elementRef.nativeElement.focus(t)}},{key:"_getPanelAriaLabelledby",value:function(){var t;if(this.ariaLabel)return null;var e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}},{key:"_getAriaActiveDescendant",value:function(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}},{key:"_getTriggerAriaLabelledby",value:function(){var t;if(this.ariaLabel)return null;var e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId(),n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}},{key:"_panelDoneAnimating",value:function(t){this.openedChange.emit(t)}},{key:"setDescribedByIds",value:function(t){this._ariaDescribedby=t.join(" ")}},{key:"onContainerClick",value:function(){this.focus(),this.open()}},{key:"shouldLabelFloat",get:function(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}]),n}(yl);return t.\u0275fac=function(e){return new(e||t)(u.Y36(cn),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36(ba),u.Y36(u.SBq),u.Y36(ne,8),u.Y36(dc,8),u.Y36(mc,8),u.Y36(Xc,8),u.Y36(Gu,10),u.$8M("tabindex"),u.Y36(fl),u.Y36(mr),u.Y36(dl,8))},t.\u0275dir=u.lG2({type:t,viewQuery:function(t,e){var n;(1&t&&(u.Gf(el,5),u.Gf(nl,5),u.Gf(Xs,5)),2&t)&&(u.iGM(n=u.CRH())&&(e.trigger=n.first),u.iGM(n=u.CRH())&&(e.panel=n.first),u.iGM(n=u.CRH())&&(e._overlayDir=n.first))},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[u.qOj,u.TTD]}),t}(),_l=function(){var t,e=function(t){d(n,t);var e=p(n);function n(){var t;return f(this,n),(t=e.apply(this,arguments))._scrollTop=0,t._triggerFontSize=0,t._transformOrigin="top",t._offsetY=0,t._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],t}return h(n,[{key:"_calculateOverlayScroll",value:function(t,e,n){var r=this._getItemHeight();return Math.min(Math.max(0,r*t-e+r/2),n)}},{key:"ngOnInit",value:function(){var t=this;i(w(n.prototype),"ngOnInit",this).call(this),this._viewportRuler.change().pipe(Xe(this._destroy)).subscribe(function(){t.panelOpen&&(t._triggerRect=t.trigger.nativeElement.getBoundingClientRect(),t._changeDetectorRef.markForCheck())})}},{key:"open",value:function(){var t=this;i(w(n.prototype),"_canOpen",this).call(this)&&(i(w(n.prototype),"open",this).call(this),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,dn.q)(1)).subscribe(function(){t._triggerFontSize&&t._overlayDir.overlayRef&&t._overlayDir.overlayRef.overlayElement&&(t._overlayDir.overlayRef.overlayElement.style.fontSize="".concat(t._triggerFontSize,"px"))}))}},{key:"_scrollOptionIntoView",value:function(t){var e,n,r,i=Ua(t,this.options,this.optionGroups),o=this._getItemHeight();this.panel.nativeElement.scrollTop=(n=o,(e=(t+i)*o)<(r=this.panel.nativeElement.scrollTop)?e:e+n>r+256?Math.max(0,e-256+n):r)}},{key:"_positioningSettled",value:function(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}},{key:"_panelDoneAnimating",value:function(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),i(w(n.prototype),"_panelDoneAnimating",this).call(this,t)}},{key:"_getChangeEvent",value:function(t){return new vl(this,t)}},{key:"_calculateOverlayOffsetX",value:function(){var t,e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),n=this._viewportRuler.getViewportSize(),r=this._isRtl(),i=this.multiple?56:32;if(this.multiple)t=40;else if(this.disableOptionCentering)t=16;else{var o=this._selectionModel.selected[0]||this.options.first;t=o&&o.group?32:16}r||(t*=-1);var a=0-(e.left+t-(r?i:0)),s=e.right+t-n.width+(r?0:i);a>0?t+=a+8:s>0&&(t-=s+8),this._overlayDir.offsetX=Math.round(t),this._overlayDir.overlayRef.updatePosition()}},{key:"_calculateOverlayOffsetY",value:function(t,e,n){var r,i=this._getItemHeight(),o=(i-this._triggerRect.height)/2,a=Math.floor(256/i);return this.disableOptionCentering?0:(r=0===this._scrollTop?t*i:this._scrollTop===n?(t-(this._getItemCount()-a))*i+(i-(this._getItemCount()*i-256)%i):e-i/2,Math.round(-1*r-o))}},{key:"_checkOverlayWithinViewport",value:function(t){var e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,i=n.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),a=Math.min(this._getItemCount()*e,256)-o-this._triggerRect.height;a>i?this._adjustPanelUp(a,i):o>r?this._adjustPanelDown(o,r,t):this._transformOrigin=this._getOriginBasedOnOption()}},{key:"_adjustPanelUp",value:function(t,e){var n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}},{key:"_adjustPanelDown",value:function(t,e,n){var r=Math.round(t-e);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}},{key:"_calculateOverlayPosition",value:function(){var t,e=this._getItemHeight(),n=this._getItemCount(),r=Math.min(n*e,256),i=n*e-r;t=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),t+=Ua(t,this.options,this.optionGroups);var o=r/2;this._scrollTop=this._calculateOverlayScroll(t,o,i),this._offsetY=this._calculateOverlayOffsetY(t,o,i),this._checkOverlayWithinViewport(i)}},{key:"_getOriginBasedOnOption",value:function(){var t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return"50% ".concat(Math.abs(this._offsetY)-e+t/2,"px 0px")}},{key:"_getItemHeight",value:function(){return 3*this._triggerFontSize}},{key:"_getItemCount",value:function(){return this.options.length+this.optionGroups.length}}]),n}(gl);return e.\u0275fac=function(n){return(t||(t=u.n5z(e)))(n||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["mat-select"]],contentQueries:function(t,e,n){var r;(1&t&&(u.Suo(n,ml,5),u.Suo(n,ja,5),u.Suo(n,Ma,5)),2&t)&&(u.iGM(r=u.CRH())&&(e.customTrigger=r.first),u.iGM(r=u.CRH())&&(e.options=r),u.iGM(r=u.CRH())&&(e.optionGroups=r))},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&u.NdJ("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(u.uIk("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),u.ekj("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[u._Bn([{provide:Gc,useExisting:e},{provide:Pa,useExisting:e}]),u.qOj],ngContentSelectors:cl,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(u.F$t(ul),u.TgZ(0,"div",0,1),u.NdJ("click",function(){return e.toggle()}),u.TgZ(3,"div",2),u.YNc(4,rl,2,1,"span",3),u.YNc(5,al,3,2,"span",4),u.qZA(),u.TgZ(6,"div",5),u._UZ(7,"div",6),u.qZA(),u.qZA(),u.YNc(8,sl,4,14,"ng-template",7),u.NdJ("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){var n=u.MAs(1);u.uIk("aria-owns",e.panelOpen?e.id+"-panel":null),u.xp6(3),u.Q6J("ngSwitch",e.empty),u.uIk("id",e._valueId),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngSwitchCase",!1),u.xp6(3),u.Q6J("cdkConnectedOverlayPanelClass",e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",n)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[Js,tt,et,Xs,nt,H],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[ll.transformPanelWrap,ll.transformPanel]},changeDetection:0}),e}(),bl=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[pl],imports:[[it,tu,Ga,na],ln,tl,Ga,na]}),t}(),wl=a(6149),kl=fe({passive:!0}),Cl=function(){var t=function(){function t(e,n){f(this,t),this._platform=e,this._ngZone=n,this._monitoredElements=new Map}return h(t,[{key:"monitor",value:function(t){var e=this;if(!this._platform.isBrowser)return wl.E;var n=jt(t),r=this._monitoredElements.get(n);if(r)return r.subject;var i=new Kt.x,o="cdk-text-field-autofilled",a=function(t){"cdk-text-field-autofill-start"!==t.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===t.animationName&&n.classList.contains(o)&&(n.classList.remove(o),e._ngZone.run(function(){return i.next({target:t.target,isAutofilled:!1})})):(n.classList.add(o),e._ngZone.run(function(){return i.next({target:t.target,isAutofilled:!0})}))};return this._ngZone.runOutsideAngular(function(){n.addEventListener("animationstart",a,kl),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:i,unlisten:function(){n.removeEventListener("animationstart",a,kl)}}),i}},{key:"stopMonitoring",value:function(t){var e=jt(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}},{key:"ngOnDestroy",value:function(){var t=this;this._monitoredElements.forEach(function(e,n){return t.stopMonitoring(n)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(ue),u.LFG(u.R0b))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(ue),u.LFG(u.R0b))},token:t,providedIn:"root"}),t}(),Sl=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[ce]]}),t}(),El=new u.OlP("MAT_INPUT_VALUE_ACCESSOR"),Tl=["button","checkbox","file","hidden","image","radio","range","reset","submit"],xl=0,Il=aa(function(){return function t(e,n,r,i){f(this,t),this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}}()),Al=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r,i,o,a,s,u,c,l,h){var d;f(this,n),(d=e.call(this,s,o,a,i))._elementRef=t,d._platform=r,d.ngControl=i,d._autofillMonitor=c,d._formField=h,d._uid="mat-input-"+xl++,d.focused=!1,d.stateChanges=new Kt.x,d.controlType="mat-input",d.autofilled=!1,d._disabled=!1,d._required=!1,d._type="text",d._readonly=!1,d._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(function(t){return he().has(t)});var p=d._elementRef.nativeElement,v=p.nodeName.toLowerCase();return d._inputValueAccessor=u||p,d._previousNativeValue=d.value,d.id=d.id,r.IOS&&l.runOutsideAngular(function(){t.nativeElement.addEventListener("keyup",function(t){var e=t.target;e.value||0!==e.selectionStart||0!==e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),d._isServer=!d._platform.isBrowser,d._isNativeSelect="select"===v,d._isTextarea="textarea"===v,d._isInFormField=!!h,d._isNativeSelect&&(d.controlType=p.multiple?"mat-native-select-multiple":"mat-native-select"),d}return h(n,[{key:"disabled",get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(t){this._disabled=Lt(t),this.focused&&(this.focused=!1,this.stateChanges.next())}},{key:"id",get:function(){return this._id},set:function(t){this._id=t||this._uid}},{key:"required",get:function(){return this._required},set:function(t){this._required=Lt(t)}},{key:"type",get:function(){return this._type},set:function(t){this._type=t||"text",this._validateType(),!this._isTextarea&&he().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}},{key:"value",get:function(){return this._inputValueAccessor.value},set:function(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}},{key:"readonly",get:function(){return this._readonly},set:function(t){this._readonly=Lt(t)}},{key:"ngAfterViewInit",value:function(){var t=this;this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(function(e){t.autofilled=e.isAutofilled,t.stateChanges.next()})}},{key:"ngOnChanges",value:function(){this.stateChanges.next()}},{key:"ngOnDestroy",value:function(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}},{key:"focus",value:function(t){this._elementRef.nativeElement.focus(t)}},{key:"_focusChanged",value:function(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}},{key:"_onInput",value:function(){}},{key:"_dirtyCheckPlaceholder",value:function(){var t,e,n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){var r=this._elementRef.nativeElement;this._previousPlaceholder=n,n?r.setAttribute("placeholder",n):r.removeAttribute("placeholder")}}},{key:"_dirtyCheckNativeValue",value:function(){var t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}},{key:"_validateType",value:function(){Tl.indexOf(this._type)}},{key:"_isNeverEmpty",value:function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}},{key:"_isBadInput",value:function(){var t=this._elementRef.nativeElement.validity;return t&&t.badInput}},{key:"empty",get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}},{key:"shouldLabelFloat",get:function(){if(this._isNativeSelect){var t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}},{key:"setDescribedByIds",value:function(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}},{key:"onContainerClick",value:function(){this.focused||this.focus()}}]),n}(Il);return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.SBq),u.Y36(ue),u.Y36(Gu,10),u.Y36(dc,8),u.Y36(mc,8),u.Y36(ba),u.Y36(El,10),u.Y36(Cl),u.Y36(u.R0b),u.Y36(Xc,8))},t.\u0275dir=u.lG2({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&u.NdJ("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(u.Ikx("disabled",e.disabled)("required",e.required),u.uIk("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.empty&&e.required?null:e.errorState)("aria-required",e.required),u.ekj("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[u._Bn([{provide:Gc,useExisting:t}]),u.qOj,u.TTD]}),t}(),Dl=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[ba],imports:[[Sl,tl,na],Sl,tl]}),t}(),Rl=["mat-button",""],Ol=["*"],Pl=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Nl=ia(ra(oa(function(){return function t(e){f(this,t),this._elementRef=e}}()))),Fl=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;f(this,n),(o=e.call(this,t))._focusMonitor=r,o._animationMode=i,o.isRoundButton=o._hasHostAttributes("mat-fab","mat-mini-fab"),o.isIconButton=o._hasHostAttributes("mat-icon-button");var a,u=s(Pl);try{for(u.s();!(a=u.n()).done;){var c=a.value;o._hasHostAttributes(c)&&o._getHostElement().classList.add(c)}}catch(l){u.e(l)}finally{u.f()}return t.nativeElement.classList.add("mat-button-base"),o.isRoundButton&&(o.color="accent"),o}return h(n,[{key:"ngAfterViewInit",value:function(){this._focusMonitor.monitor(this._elementRef,!0)}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.some(function(e){return t._getHostElement().hasAttribute(e)})}}]),n}(Nl);return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.SBq),u.Y36(br),u.Y36(Yo,8))},t.\u0275cmp=u.Xpm({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;(1&t&&u.Gf(Aa,5),2&t)&&(u.iGM(n=u.CRH())&&(e.ripple=n.first))},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(u.uIk("disabled",e.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:Rl,ngContentSelectors:Ol,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1),u._UZ(3,"span",2)),2&t&&(u.xp6(2),u.ekj("mat-button-ripple-round",e.isRoundButton||e.isIconButton),u.Q6J("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Aa],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t}(),Ll=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[Da,na],na]}),t}();function Ml(t,e){if(1&t&&(u.TgZ(0,"mat-option",11),u._uU(1),u.qZA()),2&t){var n=e.$implicit;u.Q6J("value",n.viewValue),u.xp6(1),u.hij(" ",n.viewValue," ")}}var Vl=function(){var t=function(){function t(e,n,r){f(this,t),this.formBuilder=e,this.dialogRef=n,this.data=r,this.assets=[{value:"1",viewValue:"BTCUSDT"},{value:"2",viewValue:"ETHUSDT"},{value:"3",viewValue:"ADAUSDT"},{value:"4",viewValue:"BNBUSDT"},{value:"5",viewValue:"YFIUSDT"},{value:"6",viewValue:"ONEUSDT"},{value:"7",viewValue:"CKBUSDT"}]}return h(t,[{key:"ngOnInit",value:function(){this.createForm(),console.log("valor formulario",this.formOperation.value)}},{key:"createForm",value:function(){this.formOperation=this.formBuilder.group({asset:"BTCUSDT",date:"08/03/21",hour:"12:00",valueInvest:20,quantity:60})}},{key:"onNoClick",value:function(){this.dialogRef.close()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(Cc),u.Y36(uu),u.Y36(lu))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-add-operation-modal"]],decls:31,vars:3,consts:[["mat-dialog-title",""],[3,"formGroup"],["formControlName","asset","name","asset"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","quantity"],["matInput","","formControlName","valueInvest"],["matInput","","formControlName","date"],["matInput","","formControlName","hour"],["align","end"],["mat-button","",3,"click"],["mat-button","",3,"mat-dialog-close"],[3,"value"]],template:function(t,e){1&t&&(u.TgZ(0,"h1",0),u._uU(1,"Adicionar opera\xe7\xe3o"),u.qZA(),u.TgZ(2,"mat-dialog-content",1),u.TgZ(3,"p"),u._uU(4,"Preencha os dados da opera\xe7\xe3o"),u.qZA(),u.TgZ(5,"mat-form-field"),u.TgZ(6,"mat-label"),u._uU(7,"Ativo"),u.qZA(),u.TgZ(8,"mat-select",2),u.YNc(9,Ml,2,2,"mat-option",3),u.qZA(),u.qZA(),u.TgZ(10,"mat-form-field"),u.TgZ(11,"mat-label"),u._uU(12,"Quantidade"),u.qZA(),u._UZ(13,"input",4),u.qZA(),u.TgZ(14,"mat-form-field"),u.TgZ(15,"mat-label"),u._uU(16,"Valor Investido"),u.qZA(),u._UZ(17,"input",5),u.qZA(),u.TgZ(18,"mat-form-field"),u.TgZ(19,"mat-label"),u._uU(20,"Data"),u.qZA(),u._UZ(21,"input",6),u.qZA(),u.TgZ(22,"mat-form-field"),u.TgZ(23,"mat-label"),u._uU(24,"Hora"),u.qZA(),u._UZ(25,"input",7),u.qZA(),u.qZA(),u.TgZ(26,"mat-dialog-actions",8),u.TgZ(27,"button",9),u.NdJ("click",function(){return e.onNoClick()}),u._uU(28,"Cancelar"),u.qZA(),u.TgZ(29,"button",10),u._uU(30,"Adicionar"),u.qZA(),u.qZA()),2&t&&(u.xp6(2),u.Q6J("formGroup",e.formOperation),u.xp6(7),u.Q6J("ngForOf",e.assets),u.xp6(20),u.Q6J("mat-dialog-close",e.formOperation))},directives:[gu,_u,Yu,mc,$c,Hc,_l,Hu,_c,W,Al,Iu,bu,Fl,mu,ja],styles:[""]}),t}(),Bl=(0,a(3864).d)(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}}),ql=function t(){f(this,t)},jl=function t(){f(this,t)},Ul=function(){function t(e){var n=this;f(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(e).forEach(function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))})}:this.headers=new Map}return h(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,o(n)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var a=this.headers.get(e);if(!a)return;0===(a=a.filter(function(t){return-1===i.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})}}]),t}(),Gl=function(){function t(){f(this,t)}return h(t,[{key:"encodeKey",value:function(t){return zl(t)}},{key:"encodeValue",value:function(t){return zl(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function zl(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function Hl(t){return"".concat(t)}var Yl=function(){function t(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f(this,t),this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new Gl,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,n){var r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(t){var i=t.indexOf("="),o=e(-1==i?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,i)),n.decodeValue(t.slice(i+1))],2),a=o[0],s=o[1],u=r.get(a)||[];u.push(s),r.set(a,u)}),r}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(function(t){var e=r.fromObject[t];n.map.set(t,Array.isArray(e)?e:[e])})):this.map=null}return h(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"appendAll",value:function(t){var e=[];return Object.keys(t).forEach(function(n){var r=t[n];Array.isArray(r)?r.forEach(function(t){e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).filter(function(t){return""!==t}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(Hl(e.value)),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(Hl(e.value));-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)}}]),t}(),Wl=function(){function t(){f(this,t),this.map=new Map}return h(t,[{key:"set",value:function(t,e){return this.map.set(t,e),this}},{key:"get",value:function(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}},{key:"delete",value:function(t){return this.map.delete(t),this}},{key:"keys",value:function(){return this.map.keys()}}]),t}();function Kl(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Zl(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Ql(t){return"undefined"!=typeof FormData&&t instanceof FormData}var Jl=function(){function t(e,n,r,i){var o;if(f(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ul),this.context||(this.context=new Wl),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new Yl,this.urlWithParams=n}return h(t,[{key:"serializeBody",value:function(){return null===this.body?null:Kl(this.body)||Zl(this.body)||Ql(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Yl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Ql(this.body)?null:Zl(this.body)?this.body.type||null:Kl(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Yl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.method||this.method,i=n.url||this.url,o=n.responseType||this.responseType,a=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,u=void 0!==n.reportProgress?n.reportProgress:this.reportProgress,c=n.headers||this.headers,l=n.params||this.params,h=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(c=Object.keys(n.setHeaders).reduce(function(t,e){return t.set(e,n.setHeaders[e])},c)),n.setParams&&(l=Object.keys(n.setParams).reduce(function(t,e){return t.set(e,n.setParams[e])},l)),new t(r,i,a,{params:l,headers:c,context:h,reportProgress:u,responseType:o,withCredentials:s})}}]),t}(),Xl=((Xl=Xl||{})[Xl.Sent=0]="Sent",Xl[Xl.UploadProgress=1]="UploadProgress",Xl[Xl.ResponseHeader=2]="ResponseHeader",Xl[Xl.DownloadProgress=3]="DownloadProgress",Xl[Xl.Response=4]="Response",Xl[Xl.User=5]="User",Xl),$l=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";f(this,t),this.headers=e.headers||new Ul,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},th=function(t){d(n,t);var e=p(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,n),(t=e.call(this,r)).type=Xl.ResponseHeader,t}return h(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}($l),eh=function(t){d(n,t);var e=p(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,n),(t=e.call(this,r)).type=Xl.Response,t.body=void 0!==r.body?r.body:null,t}return h(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}($l),nh=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}($l);function rh(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var ih=function(){var t=function(){function t(e){f(this,t),this.handler=e}return h(t,[{key:"request",value:function(t,e){var n,r,i,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t instanceof Jl?n=t:(r=a.headers instanceof Ul?a.headers:new Ul(a.headers),a.params&&(i=a.params instanceof Yl?a.params:new Yl({fromObject:a.params})),n=new Jl(t,e,void 0!==a.body?a.body:null,{headers:r,context:a.context,params:i,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials}));var s,u=Wt(n).pipe((s=function(t){return o.handler.handle(t)},(0,Gt.m)(void 0)?(0,ye.z)(s,void 0,1):(0,ye.z)(s,1)));if(t instanceof Jl||"events"===a.observe)return u;var c=u.pipe(Qe(function(t){return t instanceof eh}));switch(a.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return c.pipe((0,ge.U)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return c.pipe((0,ge.U)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return c.pipe((0,ge.U)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return c.pipe((0,ge.U)(function(t){return t.body}))}case"response":return c;default:throw new Error("Unreachable: unhandled observe type ".concat(a.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new Yl).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,rh(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,rh(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,rh(n,e))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(ql))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),oh=function(){function t(e,n){f(this,t),this.next=e,this.interceptor=n}return h(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),ah=new u.OlP("HTTP_INTERCEPTORS"),sh=function(){var t=function(){function t(){f(this,t)}return h(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),uh=/^\)\]\}',?\n/,ch=function(){var t=function(){function t(e){f(this,t),this.xhrFactory=e}return h(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ut.y(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new Ul(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new th({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var h=c;c=c.replace(uh,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new eh({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new nh({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=u().url,i=new nh({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},h=!1,f=function(e){h||(n.next(u()),h=!0);var i={type:Xl.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:Xl.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),r.addEventListener("timeout",l),r.addEventListener("abort",l),t.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:Xl.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("abort",l),r.removeEventListener("load",c),r.removeEventListener("timeout",l),t.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(ot))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),lh=new u.OlP("XSRF_COOKIE_NAME"),hh=new u.OlP("XSRF_HEADER_NAME"),fh=function t(){f(this,t)},dh=function(){var t=function(){function t(e,n,r){f(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return h(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=z(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(m),u.LFG(u.Lbi),u.LFG(lh))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),ph=function(){var t=function(){function t(e,n){f(this,t),this.tokenService=e,this.headerName=n}return h(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(fh),u.LFG(hh))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),vh=function(){var t=function(){function t(e,n){f(this,t),this.backend=e,this.injector=n,this.chain=null}return h(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(ah,[]);this.chain=e.reduceRight(function(t,e){return new oh(t,e)},this.backend)}return this.chain.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(jl),u.LFG(u.zs3))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),yh=function(){var t=function(){function t(){f(this,t)}return h(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:ph,useClass:sh}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:lh,useValue:e.cookieName}:[],e.headerName?{provide:hh,useValue:e.headerName}:[]]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[ph,{provide:ah,useExisting:ph,multi:!0},{provide:fh,useClass:dh},{provide:lh,useValue:"XSRF-TOKEN"},{provide:hh,useValue:"X-XSRF-TOKEN"}]}),t}(),mh=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[ih,{provide:ql,useClass:vh},ch,{provide:jl,useExisting:ch}],imports:[[yh.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t}();function gh(t){return(0,je.e)(function(e,n){var r,i=null,o=!1;i=e.subscribe(new Ue.Q(n,void 0,void 0,function(a){r=(0,Ye.Xf)(t(a,gh(t)(e))),i?(i.unsubscribe(),i=null,r.subscribe(n)):o=!0})),o&&(i.unsubscribe(),i=null,r.subscribe(n))})}function _h(t,e,n,r,i){return function(o,a){var s=n,u=e,c=0;o.subscribe(new Ue.Q(a,function(e){var n=c++;u=s?t(u,e,n):(s=!0,e),r&&a.next(u)},i&&function(){s&&a.next(u),a.complete()}))}}function bh(t,e){return(0,je.e)(_h(t,e,arguments.length>=2,!0))}var wh=a(2607),kh=(a(9192),a(1992));a(873);var Ch=new u.OlP("angularfire2.auth.use-emulator"),Sh=a(2329);function Eh(t){return null==t}function Th(t){return"function"==typeof t.set}function xh(t,e){return Th(e)?e:t.ref(e)}function Ih(t,e){if("string"==typeof t)return e.stringCase();if(Th(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function Ah(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"on",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:He.z;return new Ut.y(function(i){var o;return o=t[n](e,function(t,e){r.schedule(function(){i.next({snapshot:t,prevKey:e})}),"once"===n&&r.schedule(function(){return i.complete()})},function(t){r.schedule(function(){return i.error(t)})}),"on"===n?{unsubscribe:function(){null!=o&&t.off(e,o)}}:{unsubscribe:function(){}}}).pipe((0,ge.U)(function(t){var n=t.snapshot,r=t.prevKey,i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),(0,sn.B)())}function Dh(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function Rh(t,e){var n=e.payload,r=e.prevKey,i=e.key,a=Dh(t,i),s=function(t,e){if(Eh(e))return 0;var n=Dh(t,e);return-1===n?t.length:n+1}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){var u=null;e.payload.forEach(function(e){var n={payload:e,type:"value",prevKey:u,key:e.key};return u=e.key,t=[].concat(o(t),[n]),!1})}return t;case"child_added":if(a>-1){var c=t[a-1];(c&&c.key||null)!==r&&(t=t.filter(function(t){return t.payload.key!==n.key})).splice(s,0,e)}else{if(null==r)return[e].concat(o(t));(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(function(t){return t.payload.key!==n.key});case"child_changed":return t.map(function(t){return t.payload.key===i?e:t});case"child_moved":if(a>-1){var l=t.splice(a,1)[0];return(t=t.slice()).splice(s,0,l),t}return t;default:return t}}function Oh(t){return(Eh(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Ph(t,e,n){return function(t,e,n){return Ah(t,"value","once",n).pipe(on(function(r){var i=[Wt(r)];return e.forEach(function(e){return i.push(Ah(t,e,"on",n))}),za.T.apply(void 0,i).pipe(bh(Rh,[]))}),Ge())}(t,e=Oh(e),n)}function Nh(t,e,n){var r=(e=Oh(e)).map(function(e){return Ah(t,e,"on",n)});return za.T.apply(void 0,o(r))}function Fh(t,e){return function(n,r){return Ih(n,{stringCase:function(){return t.child(n)[e](r)},firebaseCase:function(){return n[e](r)},snapshotCase:function(){return n.ref[e](r)}})}}function Lh(t,e){return function(){return Ah(t,"value","on",e)}}var Mh=new u.OlP("angularfire2.realtimeDatabaseURL"),Vh=new u.OlP("angularfire2.database.use-emulator"),Bh=function(){var n=function(){function n(t,e,r,i,a,s,u){f(this,n),this.schedulers=new wh.HU(a),this.keepUnstableUntilFirst=(0,wh.ss)(this.schedulers);var c=s,l=(0,wh.on)(t,a,e);!Sh.Z.auth&&u&&(0,wh.yq)(),this.database=(0,wh.sI)("".concat(l.name,".database.").concat(r),"AngularFireDatabase",l,function(){var t=a.runOutsideAngular(function(){return l.database(r||void 0)});return c&&t.useEmulator.apply(t,o(c)),t},[c])}return h(n,[{key:"list",value:function(n,r){var i=this,a=this.schedulers.ngZone.runOutsideAngular(function(){return xh(i.database,n)}),s=a;return r&&(s=r(a)),function(n,r){var i,a=r.schedulers.outsideAngular,s=r.schedulers.ngZone.run(function(){return n.ref});return{query:n,update:Fh(s,"update"),set:Fh(s,"set"),push:function(t){return s.push(t)},remove:(i=s,function(t){return t?Ih(t,{stringCase:function(){return i.child(t).remove()},firebaseCase:function(){return t.remove()},snapshotCase:function(){return t.ref.remove()}}):i.remove()}),snapshotChanges:function(t){return Ph(n,t,a).pipe(r.keepUnstableUntilFirst)},stateChanges:function(t){return Nh(n,t,a).pipe(r.keepUnstableUntilFirst)},auditTrail:function(t){return function(t,n,r){return function(t,n,r){return function(t,e){return Ah(t,"value","on",e).pipe((0,ge.U)(function(t){var e;return t.payload.forEach(function(t){return e=t.key,!1}),{data:t,lastKeyToLoad:e}}))}(t,r).pipe(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,Yt.jO)(t);return(0,je.e)(function(e,r){for(var i=t.length,o=new Array(i),a=t.map(function(){return!1}),s=!1,u=function(e){(0,Ye.Xf)(t[e]).subscribe(new Ue.Q(r,function(t){o[e]=t,s||a[e]||(a[e]=!0,(s=a.every(qe.y))&&(a=null))},Je.Z))},c=0;c<i;c++)u(c);e.subscribe(new Ue.Q(r,function(t){if(s){var e=(0,ve.ev)([t],(0,ve.CR)(o));r.next(n?n.apply(void 0,(0,ve.ev)([],(0,ve.CR)(e))):e)}}))})}(n),(0,ge.U)(function(t){var n=e(t,2),r=n[0],i=n[1],o=r.lastKeyToLoad,a=i.map(function(t){return t.key});return{actions:i,lastKeyToLoad:o,loadedKeys:a}}),(i=function(t){return-1===t.loadedKeys.indexOf(t.lastKeyToLoad)},(0,je.e)(function(t,e){var n=!1;t.subscribe(new Ue.Q(e,function(t){return(n||(n=!i(t)))&&e.next(t)}))})),(0,ge.U)(function(t){return t.actions}));var i}(t,Nh(t,n).pipe(bh(function(t,e){return[].concat(o(t),[e])},[])),r)}(n,t,a).pipe(r.keepUnstableUntilFirst)},valueChanges:function(e,i){return Ph(n,e,a).pipe((0,ge.U)(function(e){return e.map(function(e){return i&&i.idField?Object.assign(Object.assign({},e.payload.val()),t({},i.idField,e.key)):e.payload.val()})}),r.keepUnstableUntilFirst)}}}(s,this)}},{key:"object",value:function(t){var e=this;return function(t,e){return{query:t,snapshotChanges:function(){return Lh(t,e.schedulers.outsideAngular)().pipe(e.keepUnstableUntilFirst)},update:function(e){return t.ref.update(e)},set:function(e){return t.ref.set(e)},remove:function(){return t.ref.remove()},valueChanges:function(){return Lh(t,e.schedulers.outsideAngular)().pipe(e.keepUnstableUntilFirst,(0,ge.U)(function(t){return t.payload.exists()?t.payload.val():null}))}}}(this.schedulers.ngZone.runOutsideAngular(function(){return xh(e.database,t)}),this)}},{key:"createPushId",value:function(){var t=this;return this.schedulers.ngZone.runOutsideAngular(function(){return t.database.ref()}).push().key}}]),n}();return n.\u0275fac=function(t){return new(t||n)(u.LFG(wh.Dh),u.LFG(wh.xv,8),u.LFG(Mh,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Vh,8),u.LFG(Ch,8))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(wh.Dh),u.LFG(wh.xv,8),u.LFG(Mh,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Vh,8),u.LFG(Ch,8))},token:n,providedIn:"any"}),n}(),qh=function(){var t=function(){function t(e,n){f(this,t),this.http=e,this.db=n,this.api="http://localhost:3001",this.subject=new Kt.x,this.resumes=Array(),this.operations=Array()}return h(t,[{key:"getCurrencies",value:function(t){return this.http.get("".concat(this.api,"/prices"),{params:(new Yl).set("name",t)}).pipe(function(t){var e;void 0===t&&(t=1/0);var n=(e=t&&"object"==typeof t?t:{count:t}).count,r=e.resetOnSuccess,i=void 0!==r&&r;return n<=0?qe.y:(0,je.e)(function(t,e){var r,o=0;!function a(){var s=!1;r=t.subscribe(new Ue.Q(e,function(t){i&&(o=0),e.next(t)},void 0,function(t){o++<n?r?(r.unsubscribe(),r=null,a()):s=!0:e.error(t)})),s&&(r.unsubscribe(),r=null,a())}()})}(1),gh(this.handleError))}},{key:"getOperations",value:function(){return this.http.get("".concat(this.api,"/operations"))}},{key:"getResumes",value:function(){return this.http.get("".concat(this.api,"/resumes"))}},{key:"getResumesByFirebase",value:function(){return this.db.list("resumes").snapshotChanges().pipe((0,ge.U)(function(t){return t.map(function(t){console.log("c.payload",t);var e=t.payload.val();return Object.assign({key:t.payload.key},e)})}))}},{key:"getOperationsByFirebase",value:function(){return this.db.list("operations").snapshotChanges().pipe((0,ge.U)(function(t){return t.map(function(t){var e=t.payload.val();return Object.assign({},e)})}))}},{key:"postOperationByFirebase",value:function(t){return this.db.list("operations").push(t)}},{key:"postResumesByFirebase",value:function(t){return this.db.list("resumes").push(t)}},{key:"removeResume",value:function(t){this.db.list("resumes").remove(t)}},{key:"updateResumesByFirebase",value:function(t,e){return this.db.list("resumes").update(t,e)}},{key:"postOperation",value:function(t){return console.log("OPERA\xc7\xc3O POSTADA"),this.operations.push(t),this.subject.next(this.operations),this.http.post("".concat(this.api,"/operations"),t)}},{key:"postResumeUpdate",value:function(t){return this.resumes.push(t),this.subject.next(this.resumes),this.http.post("".concat(this.api,"/resumes/set"),t)}},{key:"postNewResume",value:function(t){return this.resumes.push(t),this.subject.next(this.resumes),this.http.post("".concat(this.api,"/resumes/push"),t)}},{key:"updateResume",value:function(t){return console.log(t),this.http.put("".concat(this.api,"/resumes/").concat(t.id),t)}},{key:"handleError",value:function(t){var e,n,r;return e=t.error instanceof ErrorEvent?t.error.message:"Error Code: ".concat(t.status,"\nMessage: ").concat(t.message),console.log(e),r=(0,Gt.m)(n=e)?n:function(){return n},new Ut.y(function(t){return t.error(r())})}},{key:"returnResumes",value:function(){return this.subject}},{key:"OnDestroy",value:function(){this.subject.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(ih),u.LFG(Bh))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function jh(t,e){1&t&&(u.TgZ(0,"div",17),u.TgZ(1,"span"),u._uU(2," Voc\xea n\xe3o possui opera\xe7\xf5es cadastradas "),u.qZA(),u.qZA())}function Uh(t,e){1&t&&(u.TgZ(0,"th",18),u._uU(1,"Ativo"),u.qZA())}function Gh(t,e){if(1&t&&(u.TgZ(0,"td",19),u._uU(1),u.qZA()),2&t){var n=e.$implicit;u.xp6(1),u.Oqu(n.asset)}}function zh(t,e){1&t&&(u.TgZ(0,"th",18),u._uU(1,"Pre\xe7o Atual"),u.qZA())}var Hh=function(t,e){return{up:t,down:e}};function Yh(t,e){if(1&t&&(u.TgZ(0,"td",20),u._uU(1),u.ALo(2,"currency"),u.qZA()),2&t){var n=e.$implicit;u.Q6J("ngClass",u.WLB(4,Hh,1==n.priceStyle,0==n.priceStyle)),u.xp6(1),u.hij(" ",u.lcZ(2,2,n.currentPrice)," ")}}function Wh(t,e){1&t&&(u.TgZ(0,"th",18),u._uU(1,"PM"),u.qZA())}function Kh(t,e){if(1&t&&(u.TgZ(0,"td",19),u._uU(1),u.ALo(2,"currency"),u.qZA()),2&t){var n=e.$implicit;u.xp6(1),u.Oqu(u.lcZ(2,1,n.pm))}}function Zh(t,e){1&t&&(u.TgZ(0,"th",18),u._uU(1,"Quantidade"),u.qZA())}function Qh(t,e){if(1&t&&(u.TgZ(0,"td",19),u._uU(1),u.qZA()),2&t){var n=e.$implicit;u.xp6(1),u.Oqu(n.totalQuantity)}}function Jh(t,e){1&t&&(u.TgZ(0,"th",18),u._uU(1,"Investido"),u.qZA())}function Xh(t,e){if(1&t&&(u.TgZ(0,"td",19),u._uU(1),u.qZA()),2&t){var n=e.$implicit;u.xp6(1),u.Oqu(n.valueInvestTotal)}}function $h(t,e){1&t&&(u.TgZ(0,"th",18),u._uU(1,"Atual"),u.qZA())}function tf(t,e){if(1&t&&(u.TgZ(0,"td",19),u._uU(1),u.ALo(2,"currency"),u.qZA()),2&t){var n=e.$implicit;u.xp6(1),u.Oqu(u.lcZ(2,1,n.currentValue))}}function ef(t,e){1&t&&(u.TgZ(0,"th",18),u._uU(1,"LP"),u.qZA())}function nf(t,e){if(1&t&&(u.TgZ(0,"td",19),u._uU(1),u.qZA()),2&t){var n=e.$implicit;u.xp6(1),u.Oqu(n.lp)}}function rf(t,e){1&t&&(u.TgZ(0,"th",18),u._uU(1,"Varia\xe7\xe3o"),u.qZA())}function of(t,e){if(1&t&&(u.TgZ(0,"td",19),u._uU(1),u.qZA()),2&t){var n=e.$implicit;u.xp6(1),u.Oqu(n.variation)}}function af(t,e){1&t&&u._UZ(0,"tr",21)}function sf(t,e){1&t&&u._UZ(0,"tr",22)}var uf=function(){var t=function(){function t(e,n){f(this,t),this.currencyService=e,this.dialog=n,this.displayedColumns=["asset","currentPrice","pm","totalQuantity","valueInvestTotal","currentValue","lp","variation"],this.dataSource=new ds,this.operations=[],this.hasOperations=!1}return h(t,[{key:"ngOnInit",value:function(){var t=this;this.getOperations(),this.getResumes(),setInterval(function(){t.dataSource.data.forEach(function(e,n){t.currencyService.getCurrencies(e.asset).subscribe(function(t){e.currentPrice>t.price?(console.log("menor"),e.priceStyle=!0):(console.log("maior"),e.priceStyle=!1),e.currentPrice=t.price,e.currentValue=e.totalQuantity*t.price})})},5e3)}},{key:"ngAfterViewInit",value:function(){}},{key:"openDialog",value:function(){var t=this;this.dialog.open(Vl,{width:"250px",data:{}}).afterClosed().subscribe(function(e){return(0,Ft.mG)(t,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,i,o,a,s,u,c,l,h,f,d,p=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.currencyService.getCurrencies(e.value.asset),t.next=3,o=n,new Promise(function(t,e){var n,r=!1;o.subscribe({next:function(t){n=t,r=!0},error:e,complete:function(){r?t(n):e(new Bl)}})});case 3:if(r=t.sent,i=r.price,a=e.value,this.currencyService.getOperationsByFirebase().subscribe(function(t){p.operations=t}),0!=this.operations.length){t.next=10;break}return console.log("ADICONADO NOVO",this.operations),s={asset:a.asset,currentPrice:i,pm:a.valueInvest/a.quantity,totalQuantity:a.quantity,priceStyle:!1,valueInvestTotal:a.valueInvest,currentValue:a.quantity*a.valueInvest,lp:20100,variation:511},t.abrupt("return",(this.currencyService.postOperationByFirebase(e.value),this.currencyService.postResumesByFirebase(s),void this.getResumes()));case 10:console.log("SOMADO AO EXISTENTE"),u=+a.valueInvest,c=+a.quantity,console.log("operations",this.operations),l=this.operations.reduce(function(t,e){return t+ +e.valueInvest},0),h=this.operations.reduce(function(t,e){return t+ +e.quantity},0),f={asset:a.asset,currentPrice:i,priceStyle:!1,pm:(l+u)/(h+c),totalQuantity:h+c,valueInvestTotal:l+u,currentValue:(h+c)*i,lp:20100,variation:511},d=this.dataSource.data.find(function(t){return t.asset===a.asset}),console.log("ENCONTRADO",d),d?(console.log("update",f),this.currencyService.updateResumesByFirebase(d.key,f),this.getResumes()):(this.currencyService.postResumesByFirebase(f),this.getResumes());case 15:case"end":return t.stop()}},t,this)}))},function(t){console.log(t)})}},{key:"findCoinOnResumes",value:function(t,e){var n=e.asset,r=t.find(function(t){return t.asset===n});return{result:!!r,coin:r}}},{key:"getResumes",value:function(){var t=this;this.currencyService.getResumesByFirebase().subscribe(function(e){console.log("RESUMOS",e),t.dataSource.data=e})}},{key:"getOperations",value:function(){var t=this;this.currencyService.getOperationsByFirebase().subscribe(function(e){console.log("OPERATIONS",e),e.length&&(t.operations=e,t.hasOperations=!!t.operations.length)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(qh),u.Y36(vu))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-dashboard"]],viewQuery:function(t,e){var n;(1&t&&u.Gf(ns,7),2&t)&&(u.iGM(n=u.CRH())&&(e.table=n.first))},decls:31,vars:4,consts:[[1,"demo-button-container"],["mat-raised-button","",1,"demo-button",3,"click"],["class","operation",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","demo-table",3,"dataSource"],["matColumnDef","asset"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","currentPrice"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","pm"],["matColumnDef","totalQuantity"],["matColumnDef","valueInvestTotal"],["matColumnDef","currentValue"],["matColumnDef","lp"],["matColumnDef","variation"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"operation"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"ngClass"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"button",1),u.NdJ("click",function(){return e.openDialog()}),u._uU(2," Add data "),u.qZA(),u.qZA(),u.YNc(3,jh,3,0,"div",2),u.TgZ(4,"table",3),u.ynx(5,4),u.YNc(6,Uh,2,0,"th",5),u.YNc(7,Gh,2,1,"td",6),u.BQk(),u.ynx(8,7),u.YNc(9,zh,2,0,"th",5),u.YNc(10,Yh,3,7,"td",8),u.BQk(),u.ynx(11,9),u.YNc(12,Wh,2,0,"th",5),u.YNc(13,Kh,3,3,"td",6),u.BQk(),u.ynx(14,10),u.YNc(15,Zh,2,0,"th",5),u.YNc(16,Qh,2,1,"td",6),u.BQk(),u.ynx(17,11),u.YNc(18,Jh,2,0,"th",5),u.YNc(19,Xh,2,1,"td",6),u.BQk(),u.ynx(20,12),u.YNc(21,$h,2,0,"th",5),u.YNc(22,tf,3,3,"td",6),u.BQk(),u.ynx(23,13),u.YNc(24,ef,2,0,"th",5),u.YNc(25,nf,2,1,"td",6),u.BQk(),u.ynx(26,14),u.YNc(27,rf,2,0,"th",5),u.YNc(28,of,2,1,"td",6),u.BQk(),u.YNc(29,af,1,0,"tr",15),u.YNc(30,sf,1,0,"tr",16),u.qZA()),2&t&&(u.xp6(3),u.Q6J("ngIf",!e.dataSource.data.length),u.xp6(1),u.Q6J("dataSource",e.dataSource),u.xp6(25),u.Q6J("matHeaderRowDef",e.displayedColumns),u.xp6(1),u.Q6J("matRowDefColumns",e.displayedColumns))},directives:[Fl,Z,ns,os,is,rs,us,cs,as,ss,H,ls,hs],pipes:[rt],styles:[".demo-table[_ngcontent-%COMP%]{width:100%;font-family:Comfortaa,cursive;background:#fff0}.mat-cell[_ngcontent-%COMP%]{color:#fff}.mat-header-cell[_ngcontent-%COMP%]{font-weight:bolder;color:#00e2ed}.demo-button-container[_ngcontent-%COMP%]{padding-bottom:16px}.demo-button[_ngcontent-%COMP%] + .demo-button[_ngcontent-%COMP%]{margin-left:8px}.operation[_ngcontent-%COMP%]{color:#fff;font-weight:bolder;background:#c72432b8;padding:4px;border-radius:6px;width:auto;text-align:center}.up[_ngcontent-%COMP%]{color:red;-webkit-animation-name:blinkerUP;-webkit-animation-iteration-count:1;-webkit-animation-timing-function:ease-in;-webkit-animation-direction:alternate}.down[_ngcontent-%COMP%], .up[_ngcontent-%COMP%]{text-decoration:blink;-webkit-animation-duration:.6s}.down[_ngcontent-%COMP%]{color:green;-webkit-animation-name:blinkerDown;-webkit-animation-iteration-count:1;-webkit-animation-timing-function:ease-in;-webkit-animation-direction:alternate}@-webkit-keyframes blinkerUP{0%{color:#fff}to{color:red}}@-webkit-keyframes blinkerDown{0%{color:#fff}to{color:green}}.blink[_ngcontent-%COMP%]{text-decoration:blink;-webkit-animation-name:blinker;-webkit-animation-duration:.6s;-webkit-animation-iteration-count:infinite;-webkit-animation-timing-function:ease-in-out;-webkit-animation-direction:alternate}"]}),t}(),cf=function(){var t=function t(){f(this,t),this.title="maya"};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&u._UZ(0,"app-dashboard")},directives:[uf],styles:[""]}),t}(),lf=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t}();function hf(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function ff(t,e){var n=e?"":"none";hf(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function df(t,e){var n=t.style;n.position=e?"":"fixed",n.top=n.opacity=e?"":"0",n.left=e?"":"-999em"}function pf(t,e){return e?t+" "+e:t}function vf(t){var e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function yf(t,e){return t.getPropertyValue(e).split(",").map(function(t){return t.trim()})}function mf(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function gf(t,e,n){var r=t.top,i=t.bottom,o=t.left,a=t.right;return n>=r&&n<=i&&e>=o&&e<=a}function _f(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function bf(t,e,n,r){var i=t.top,o=t.right,a=t.bottom,s=t.left,u=t.width*e,c=t.height*e;return r>i-c&&r<a+c&&n>s-u&&n<o+u}var wf=function(){function t(e,n){f(this,t),this._document=e,this._viewportRuler=n,this.positions=new Map}return h(t,[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(t){var e=this;this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(function(t){e.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:mf(t)})})}},{key:"handleScroll",value:function(t){var e=kf(t),n=this.positions.get(e);if(!n)return null;var r,i,o=e===this._document?e.documentElement:e,a=n.scrollPosition;if(e===this._document){var s=this._viewportRuler.getViewportScrollPosition();r=s.top,i=s.left}else r=e.scrollTop,i=e.scrollLeft;var u=a.top-r,c=a.left-i;return this.positions.forEach(function(t,n){t.clientRect&&e!==n&&o.contains(n)&&_f(t.clientRect,u,c)}),a.top=r,a.left=i,{top:u,left:c}}}]),t}();function kf(t){return t.composedPath?t.composedPath()[0]:t.target}function Cf(t){var e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),r=t.nodeName.toLowerCase();e.removeAttribute("id");for(var i=0;i<n.length;i++)n[i].removeAttribute("id");return"canvas"===r?xf(t,e):"input"!==r&&"select"!==r&&"textarea"!==r||Tf(t,e),Sf("canvas",t,e,xf),Sf("input, textarea, select",t,e,Tf),e}function Sf(t,e,n,r){var i=e.querySelectorAll(t);if(i.length)for(var o=n.querySelectorAll(t),a=0;a<i.length;a++)r(i[a],o[a])}var Ef=0;function Tf(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name="mat-clone-".concat(e.name,"-").concat(Ef++))}function xf(t,e){var n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch(QT){}}var If=fe({passive:!0}),Af=fe({passive:!1}),Df=function(){function t(e,n,r,i,o,a){var s=this;f(this,t),this._config=n,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Kt.x,this._pointerMoveSubscription=Ie.w0.EMPTY,this._pointerUpSubscription=Ie.w0.EMPTY,this._scrollSubscription=Ie.w0.EMPTY,this._resizeSubscription=Ie.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Kt.x,this.started=new Kt.x,this.released=new Kt.x,this.ended=new Kt.x,this.entered=new Kt.x,this.exited=new Kt.x,this.dropped=new Kt.x,this.moved=this._moveEvents,this._pointerDown=function(t){if(s.beforeStarted.next(),s._handles.length){var e=s._handles.find(function(e){var n=kf(t);return!!n&&(n===e||e.contains(n))});!e||s._disabledHandles.has(e)||s.disabled||s._initializeDragSequence(e,t)}else s.disabled||s._initializeDragSequence(s._rootElement,t)},this._pointerMove=function(t){var e=s._getPointerPositionOnPage(t);if(s._hasStartedDragging){s._boundaryElement&&(s._previewRect&&(s._previewRect.width||s._previewRect.height)||(s._previewRect=(s._preview||s._rootElement).getBoundingClientRect())),t.preventDefault();var n=s._getConstrainedPointerPosition(e);if(s._hasMoved=!0,s._lastKnownPointerPosition=e,s._updatePointerDirectionDelta(n),s._dropContainer)s._updateActiveDropContainer(n,e);else{var r=s._activeTransform;r.x=n.x-s._pickupPositionOnPage.x+s._passiveTransform.x,r.y=n.y-s._pickupPositionOnPage.y+s._passiveTransform.y,s._applyRootElementTransform(r.x,r.y),"undefined"!=typeof SVGElement&&s._rootElement instanceof SVGElement&&s._rootElement.setAttribute("transform","translate(".concat(r.x," ").concat(r.y,")"))}s._moveEvents.observers.length&&s._ngZone.run(function(){s._moveEvents.next({source:s,pointerPosition:n,event:t,distance:s._getDragDistance(n),delta:s._pointerDirectionDelta})})}else if(Math.abs(e.x-s._pickupPositionOnPage.x)+Math.abs(e.y-s._pickupPositionOnPage.y)>=s._config.dragStartThreshold){var i=Date.now()>=s._dragStartTime+s._getDragStartDelay(t),o=s._dropContainer;if(!i)return void s._endDragSequence(t);o&&(o.isDragging()||o.isReceiving())||(t.preventDefault(),s._hasStartedDragging=!0,s._ngZone.run(function(){return s._startDragSequence(t)}))}},this._pointerUp=function(t){s._endDragSequence(t)},this.withRootElement(e).withParent(n.parentDragRef||null),this._parentPositions=new wf(r,o),a.registerDragItem(this)}return h(t,[{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(t){var e=Lt(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(function(t){return ff(t,e)}))}},{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(t){var e=this;this._handles=t.map(function(t){return jt(t)}),this._handles.forEach(function(t){return ff(t,e.disabled)}),this._toggleNativeDragInteractions();var n=new Set;return this._disabledHandles.forEach(function(t){e._handles.indexOf(t)>-1&&n.add(t)}),this._disabledHandles=n,this}},{key:"withPreviewTemplate",value:function(t){return this._previewTemplate=t,this}},{key:"withPlaceholderTemplate",value:function(t){return this._placeholderTemplate=t,this}},{key:"withRootElement",value:function(t){var e=this,n=jt(t);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(function(){n.addEventListener("mousedown",e._pointerDown,Af),n.addEventListener("touchstart",e._pointerDown,If)}),this._initialTransform=void 0,this._rootElement=n),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}},{key:"withBoundaryElement",value:function(t){var e=this;return this._boundaryElement=t?jt(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(function(){return e._containInsideBoundaryOnResize()})),this}},{key:"withParent",value:function(t){return this._parentDragRef=t,this}},{key:"dispose",value:function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Pf(this._rootElement),Pf(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),ff(t,!0))}},{key:"enableHandle",value:function(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),ff(t,this.disabled))}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"_withDropContainer",value:function(t){this._dropContainer=t}},{key:"getFreeDragPosition",value:function(){var t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}},{key:"setFreeDragPosition",value:function(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}},{key:"withPreviewContainer",value:function(t){return this._previewContainer=t,this}},{key:"_sortFromLastPointerPosition",value:function(){var t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){this._preview&&Pf(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){this._placeholder&&Pf(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(t){var e=this;if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(function(){e._cleanupDragArtifacts(t),e._cleanupCachedDimensions(),e._dragDropRegistry.stopDragging(e)});else{this._passiveTransform.x=this._activeTransform.x;var n=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(function(){e.ended.next({source:e,distance:e._getDragDistance(n),dropPoint:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}},{key:"_startDragSequence",value:function(t){Nf(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var e=this._dropContainer;if(e){var n=this._rootElement,r=n.parentNode,i=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();r.insertBefore(o,n),this._initialTransform=n.style.transform||"",this._preview=this._createPreviewElement(),df(n,!1),this._document.body.appendChild(r.replaceChild(i,n)),this._getPreviewInsertionPoint(r,a).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(t,e){var n=this;this._parentDragRef&&e.stopPropagation();var r=this.isDragging(),i=Nf(e),o=!i&&0!==e.button,a=this._rootElement,s=kf(e),u=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(s&&s.draggable&&"mousedown"===e.type&&e.preventDefault(),!(r||o||u)){this._handles.length&&(this._rootElementTapHighlight=a.style.webkitTapHighlightColor||"",a.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(function(t){return n._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=mf(this._boundaryElement));var c=this._previewTemplate;this._pickupPositionInElement=c&&c.template&&!c.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);var l=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:l.x,y:l.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}}},{key:"_cleanupDragArtifacts",value:function(t){var e=this;df(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(function(){var n=e._dropContainer,r=n.getItemIndex(e),i=e._getPointerPositionOnPage(t),o=e._getDragDistance(i),a=n._isOverContainer(i.x,i.y);e.ended.next({source:e,distance:o,dropPoint:i}),e.dropped.next({item:e,currentIndex:r,previousIndex:e._initialIndex,container:n,previousContainer:e._initialContainer,isPointerOverContainer:a,distance:o,dropPoint:i}),n.drop(e,r,e._initialIndex,e._initialContainer,a,o,i),e._dropContainer=e._initialContainer})}},{key:"_updateActiveDropContainer",value:function(t,e){var n=this,r=t.x,i=t.y,o=e.x,a=e.y,s=this._initialContainer._getSiblingContainerFromPosition(this,r,i);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(r,i)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(function(){n.exited.next({item:n,container:n._dropContainer}),n._dropContainer.exit(n),n._dropContainer=s,n._dropContainer.enter(n,r,i,s===n._initialContainer&&s.sortingDisabled?n._initialIndex:void 0),n.entered.next({item:n,container:s,currentIndex:s.getItemIndex(n)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(o,a),this._dropContainer._sortItem(this,r,i,this._pointerDirectionDelta),this._applyPreviewTransform(r-this._pickupPositionInElement.x,i-this._pickupPositionInElement.y))}},{key:"_createPreviewElement",value:function(){var t,e=this._previewTemplate,n=this.previewClass,r=e?e.template:null;if(r&&e){var i=e.matchSize?this._rootElement.getBoundingClientRect():null,o=e.viewContainer.createEmbeddedView(r,e.context);o.detectChanges(),t=Ff(o,this._document),this._previewRef=o,e.matchSize?Lf(t,i):t.style.transform=Rf(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var a=this._rootElement;Lf(t=Cf(a),a.getBoundingClientRect()),this._initialTransform&&(t.style.transform=this._initialTransform)}return hf(t.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:"".concat(this._config.zIndex||1e3)}),ff(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(function(e){return t.classList.add(e)}):t.classList.add(n)),t}},{key:"_animatePreviewToPlaceholder",value:function(){var t=this;if(!this._hasMoved)return Promise.resolve();var e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);var n=function(t){var e=getComputedStyle(t),n=yf(e,"transition-property"),r=n.find(function(t){return"transform"===t||"all"===t});if(!r)return 0;var i=n.indexOf(r),o=yf(e,"transition-duration"),a=yf(e,"transition-delay");return vf(o[i])+vf(a[i])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular(function(){return new Promise(function(e){var r=function n(r){(!r||kf(r)===t._preview&&"transform"===r.propertyName)&&(t._preview.removeEventListener("transitionend",n),e(),clearTimeout(i))},i=setTimeout(r,1.5*n);t._preview.addEventListener("transitionend",r)})})}},{key:"_createPlaceholderElement",value:function(){var t,e=this._placeholderTemplate,n=e?e.template:null;return n?(this._placeholderRef=e.viewContainer.createEmbeddedView(n,e.context),this._placeholderRef.detectChanges(),t=Ff(this._placeholderRef,this._document)):t=Cf(this._rootElement),t.classList.add("cdk-drag-placeholder"),t}},{key:"_getPointerPositionInElement",value:function(t,e){var n=this._rootElement.getBoundingClientRect(),r=t===this._rootElement?null:t,i=r?r.getBoundingClientRect():n,o=Nf(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition();return{x:i.left-n.left+(o.pageX-i.left-a.left),y:i.top-n.top+(o.pageY-i.top-a.top)}}},{key:"_getPointerPositionOnPage",value:function(t){var e=this._getViewportScrollPosition(),n=Nf(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=n.pageX-e.left,i=n.pageY-e.top;if(this._ownerSVGElement){var o=this._ownerSVGElement.getScreenCTM();if(o){var a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=i,a.matrixTransform(o.inverse())}}return{x:r,y:i}}},{key:"_getConstrainedPointerPosition",value:function(t){var e=this._dropContainer?this._dropContainer.lockAxis:null,n=this.constrainPosition?this.constrainPosition(t,this):t,r=n.x,i=n.y;if("x"===this.lockAxis||"x"===e?i=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(r=this._pickupPositionOnPage.x),this._boundaryRect){var o=this._pickupPositionInElement,a=o.x,s=o.y,u=this._boundaryRect,c=this._previewRect,l=u.top+s,h=u.bottom-(c.height-s);r=Of(r,u.left+a,u.right-(c.width-a)),i=Of(i,l,h)}return{x:r,y:i}}},{key:"_updatePointerDirectionDelta",value:function(t){var e=t.x,n=t.y,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-i.x),a=Math.abs(n-i.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=e>i.x?1:-1,i.x=e),a>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,ff(this._rootElement,t))}}},{key:"_removeRootElementListeners",value:function(t){t.removeEventListener("mousedown",this._pointerDown,Af),t.removeEventListener("touchstart",this._pointerDown,If)}},{key:"_applyRootElementTransform",value:function(t,e){var n=Rf(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=pf(n,this._initialTransform)}},{key:"_applyPreviewTransform",value:function(t,e){var n,r=(null===(n=this._previewTemplate)||void 0===n?void 0:n.template)?void 0:this._initialTransform,i=Rf(t,e);this._preview.style.transform=pf(i,r)}},{key:"_getDragDistance",value:function(t){var e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var t=this._passiveTransform,e=t.x,n=t.y;if(!(0===e&&0===n||this.isDragging())&&this._boundaryElement){var r=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(!(0===r.width&&0===r.height||0===i.width&&0===i.height)){var o=r.left-i.left,a=i.right-r.right,s=r.top-i.top,u=i.bottom-r.bottom;r.width>i.width?(o>0&&(e+=o),a>0&&(e-=a)):e=0,r.height>i.height?(s>0&&(n+=s),u>0&&(n-=u)):n=0,e===this._passiveTransform.x&&n===this._passiveTransform.y||this.setFreeDragPosition({y:n,x:e})}}}},{key:"_getDragStartDelay",value:function(t){var e=this.dragStartDelay;return"number"==typeof e?e:Nf(t)?e.touch:e?e.mouse:0}},{key:"_updateOnScroll",value:function(t){var e=this._parentPositions.handleScroll(t);if(e){var n=kf(t);this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&_f(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}},{key:"_getViewportScrollPosition",value:function(){var t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}},{key:"_getShadowRoot",value:function(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=de(this._rootElement)),this._cachedShadowRoot}},{key:"_getPreviewInsertionPoint",value:function(t,e){var n=this._previewContainer||"global";if("parent"===n)return t;if("global"===n){var r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return jt(n)}}]),t}();function Rf(t,e){return"translate3d(".concat(Math.round(t),"px, ").concat(Math.round(e),"px, 0)")}function Of(t,e,n){return Math.max(e,Math.min(n,t))}function Pf(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Nf(t){return"t"===t.type[0]}function Ff(t,e){var n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];var r=e.createElement("div");return n.forEach(function(t){return r.appendChild(t)}),r}function Lf(t,e){t.style.width="".concat(e.width,"px"),t.style.height="".concat(e.height,"px"),t.style.transform=Rf(e.left,e.top)}function Mf(t,e){return Math.max(0,Math.min(e,t))}var Vf=function(){function t(e,n,r,i,o){var a=this;f(this,t),this._dragDropRegistry=n,this._ngZone=i,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=function(){return!0},this.sortPredicate=function(){return!0},this.beforeStarted=new Kt.x,this.entered=new Kt.x,this.exited=new Kt.x,this.dropped=new Kt.x,this.sorted=new Kt.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Ie.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Kt.x,this._cachedShadowRoot=null,this._startScrollInterval=function(){var t,e;a._stopScrolling(),(t=0,e=Oe,void 0===t&&(t=0),void 0===e&&(e=He.z),t<0&&(t=0),Ke(t,t,e)).pipe(Xe(a._stopScrollTimers)).subscribe(function(){var t=a._scrollNode,e=a.autoScrollStep;1===a._verticalScrollDirection?qf(t,-e):2===a._verticalScrollDirection&&qf(t,e),1===a._horizontalScrollDirection?jf(t,-e):2===a._horizontalScrollDirection&&jf(t,e)})},this.element=jt(e),this._document=r,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new wf(r,o)}return h(t,[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){this._draggingStarted(),this._notifyReceivingSiblings()}},{key:"enter",value:function(t,e,n,r){var i;this._draggingStarted(),null==r?-1===(i=this.sortingDisabled?this._draggables.indexOf(t):-1)&&(i=this._getItemIndexFromPointerPosition(t,e,n)):i=r;var o=this._activeDraggables,a=o.indexOf(t),s=t.getPlaceholderElement(),u=o[i];if(u===t&&(u=o[i+1]),a>-1&&o.splice(a,1),u&&!this._dragDropRegistry.isDragging(u)){var c=u.getRootElement();c.parentElement.insertBefore(s,c),o.splice(i,0,t)}else if(this._shouldEnterAsFirstChild(e,n)){var l=o[0].getRootElement();l.parentNode.insertBefore(s,l),o.unshift(t)}else jt(this.element).appendChild(s),o.push(t);s.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}},{key:"exit",value:function(t){this._reset(),this.exited.next({item:t,container:this})}},{key:"drop",value:function(t,e,n,r,i,o,a){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:i,distance:o,dropPoint:a})}},{key:"withItems",value:function(t){var e=this,n=this._draggables;return this._draggables=t,t.forEach(function(t){return t._withDropContainer(e)}),this.isDragging()&&(n.filter(function(t){return t.isDragging()}).every(function(e){return-1===t.indexOf(e)})?this._reset():this._cacheItems()),this}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"connectedTo",value:function(t){return this._siblings=t.slice(),this}},{key:"withOrientation",value:function(t){return this._orientation=t,this}},{key:"withScrollableParents",value:function(t){var e=jt(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e].concat(o(t)):t.slice(),this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(t){return this._isDragging?Bf("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,function(e){return e.drag===t}):this._draggables.indexOf(t)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(t,e,n,r){if(!this.sortingDisabled&&this._clientRect&&bf(this._clientRect,.05,e,n)){var i=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,n,r);if(!(-1===o&&i.length>0)){var a="horizontal"===this._orientation,s=Bf(i,function(e){return e.drag===t}),u=i[o],c=u.clientRect,l=s>o?1:-1,h=this._getItemOffsetPx(i[s].clientRect,c,l),f=this._getSiblingOffsetPx(s,i,l),d=i.slice();!function(t,e,n){var r=Mf(e,t.length-1),i=Mf(n,t.length-1);if(r!==i){for(var o=t[r],a=i<r?-1:1,s=r;s!==i;s+=a)t[s]=t[s+a];t[i]=o}}(i,s,o),this.sorted.next({previousIndex:s,currentIndex:o,container:this,item:t}),i.forEach(function(e,n){if(d[n]!==e){var r=e.drag===t,i=r?h:f,o=r?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=i,a?(o.style.transform=pf("translate3d(".concat(Math.round(e.offset),"px, 0, 0)"),e.initialTransform),_f(e.clientRect,0,i)):(o.style.transform=pf("translate3d(0, ".concat(Math.round(e.offset),"px, 0)"),e.initialTransform),_f(e.clientRect,i,0))}}),this._previousSwap.overlaps=gf(c,e,n),this._previousSwap.drag=u.drag,this._previousSwap.delta=a?r.x:r.y}}}},{key:"_startScrollingIfNecessary",value:function(t,n){var r=this;if(!this.autoScrollDisabled){var i,o=0,a=0;if(this._parentPositions.positions.forEach(function(s,u){var c;u!==r._document&&s.clientRect&&!i&&bf(s.clientRect,.05,t,n)&&(c=e(function(t,e,n,r){var i=Uf(e,r),o=Gf(e,n),a=0,s=0;if(i){var u=t.scrollTop;1===i?u>0&&(a=1):t.scrollHeight-u>t.clientHeight&&(a=2)}if(o){var c=t.scrollLeft;1===o?c>0&&(s=1):t.scrollWidth-c>t.clientWidth&&(s=2)}return[a,s]}(u,s.clientRect,t,n),2),o=c[0],a=c[1],(o||a)&&(i=u))}),!o&&!a){var s=this._viewportRuler.getViewportSize(),u=s.width,c=s.height,l={width:u,height:c,top:0,right:u,bottom:c,left:0};o=Uf(l,n),a=Gf(l,t),i=window}!i||o===this._verticalScrollDirection&&a===this._horizontalScrollDirection&&i===this._scrollNode||(this._verticalScrollDirection=o,this._horizontalScrollDirection=a,this._scrollNode=i,(o||a)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_draggingStarted",value:function(){var t=jt(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"_cacheParentPositions",value:function(){var t=jt(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}},{key:"_cacheItemPositions",value:function(){var t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(function(t){var e=t.getVisibleElement();return{drag:t,offset:0,initialTransform:e.style.transform||"",clientRect:mf(e)}}).sort(function(e,n){return t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top})}},{key:"_reset",value:function(){var t=this;this._isDragging=!1;var e=jt(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(function(e){var n,r=e.getRootElement();if(r){var i=null===(n=t._itemPositions.find(function(t){return t.drag===e}))||void 0===n?void 0:n.initialTransform;r.style.transform=i||""}}),this._siblings.forEach(function(e){return e._stopReceiving(t)}),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_getSiblingOffsetPx",value:function(t,e,n){var r="horizontal"===this._orientation,i=e[t].clientRect,o=e[t+-1*n],a=i[r?"width":"height"]*n;if(o){var s=r?"left":"top",u=r?"right":"bottom";-1===n?a-=o.clientRect[s]-i[u]:a+=i[s]-o.clientRect[u]}return a}},{key:"_getItemOffsetPx",value:function(t,e,n){var r="horizontal"===this._orientation,i=r?e.left-t.left:e.top-t.top;return-1===n&&(i+=r?e.width-t.width:e.height-t.height),i}},{key:"_shouldEnterAsFirstChild",value:function(t,e){if(!this._activeDraggables.length)return!1;var n=this._itemPositions,r="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){var i=n[n.length-1].clientRect;return r?t>=i.right:e>=i.bottom}var o=n[0].clientRect;return r?t<=o.left:e<=o.top}},{key:"_getItemIndexFromPointerPosition",value:function(t,e,n,r){var i=this,o="horizontal"===this._orientation,a=Bf(this._itemPositions,function(a,s,u){var c=a.drag,l=a.clientRect;if(c===t)return u.length<2;if(r){var h=o?r.x:r.y;if(c===i._previousSwap.drag&&i._previousSwap.overlaps&&h===i._previousSwap.delta)return!1}return o?e>=Math.floor(l.left)&&e<Math.floor(l.right):n>=Math.floor(l.top)&&n<Math.floor(l.bottom)});return-1!==a&&this.sortPredicate(a,t,this)?a:-1}},{key:"_cacheItems",value:function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}},{key:"_isOverContainer",value:function(t,e){return null!=this._clientRect&&gf(this._clientRect,t,e)}},{key:"_getSiblingContainerFromPosition",value:function(t,e,n){return this._siblings.find(function(r){return r._canReceive(t,e,n)})}},{key:"_canReceive",value:function(t,e,n){if(!this._clientRect||!gf(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;var r=this._getShadowRoot().elementFromPoint(e,n);if(!r)return!1;var i=jt(this.element);return r===i||i.contains(r)}},{key:"_startReceiving",value:function(t,e){var n=this,r=this._activeSiblings;!r.has(t)&&e.every(function(t){return n.enterPredicate(t,n)||n._draggables.indexOf(t)>-1})&&(r.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}},{key:"_stopReceiving",value:function(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}},{key:"_listenToScrollEvents",value:function(){var t=this;this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(function(e){if(t.isDragging()){var n=t._parentPositions.handleScroll(e);n&&(t._itemPositions.forEach(function(t){_f(t.clientRect,n.top,n.left)}),t._itemPositions.forEach(function(e){var n=e.drag;t._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()}))}else t.isReceiving()&&t._cacheParentPositions()})}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var t=de(jt(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}},{key:"_notifyReceivingSiblings",value:function(){var t=this,e=this._activeDraggables.filter(function(t){return t.isDragging()});this._siblings.forEach(function(n){return n._startReceiving(t,e)})}}]),t}();function Bf(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function qf(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function jf(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function Uf(t,e){var n=t.top,r=t.bottom,i=.05*t.height;return e>=n-i&&e<=n+i?1:e>=r-i&&e<=r+i?2:0}function Gf(t,e){var n=t.left,r=t.right,i=.05*t.width;return e>=n-i&&e<=n+i?1:e>=r-i&&e<=r+i?2:0}var zf=fe({passive:!1,capture:!0}),Hf=function(){var t=function(){function t(e,n){var r=this;f(this,t),this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=function(t){return t.isDragging()},this.pointerMove=new Kt.x,this.pointerUp=new Kt.x,this.scroll=new Kt.x,this._preventDefaultWhileDragging=function(t){r._activeDragInstances.length>0&&t.preventDefault()},this._persistentTouchmoveListener=function(t){r._activeDragInstances.length>0&&(r._activeDragInstances.some(r._draggingPredicate)&&t.preventDefault(),r.pointerMove.next(t))},this._document=n}return h(t,[{key:"registerDropContainer",value:function(t){this._dropInstances.has(t)||this._dropInstances.add(t)}},{key:"registerDragItem",value:function(t){var e=this;this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(function(){e._document.addEventListener("touchmove",e._persistentTouchmoveListener,zf)})}},{key:"removeDropContainer",value:function(t){this._dropInstances.delete(t)}},{key:"removeDragItem",value:function(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,zf)}},{key:"startDragging",value:function(t,e){var n=this;if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){var r=e.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:function(t){return n.pointerUp.next(t)},options:!0}).set("scroll",{handler:function(t){return n.scroll.next(t)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:zf}),r||this._globalListeners.set("mousemove",{handler:function(t){return n.pointerMove.next(t)},options:zf}),this._ngZone.runOutsideAngular(function(){n._globalListeners.forEach(function(t,e){n._document.addEventListener(e,t.handler,t.options)})})}}},{key:"stopDragging",value:function(t){var e=this._activeDragInstances.indexOf(t);e>-1&&(this._activeDragInstances.splice(e,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}},{key:"isDragging",value:function(t){return this._activeDragInstances.indexOf(t)>-1}},{key:"scrolled",value:function(t){var e=this,n=[this.scroll];return t&&t!==this._document&&n.push(new Ut.y(function(n){return e._ngZone.runOutsideAngular(function(){var r=function(t){e._activeDragInstances.length&&n.next(t)};return t.addEventListener("scroll",r,!0),function(){t.removeEventListener("scroll",r,!0)}})})),za.T.apply(void 0,n)}},{key:"ngOnDestroy",value:function(){var t=this;this._dragInstances.forEach(function(e){return t.removeDragItem(e)}),this._dropInstances.forEach(function(e){return t.removeDropContainer(e)}),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var t=this;this._globalListeners.forEach(function(e,n){t._document.removeEventListener(n,e.handler,e.options)}),this._globalListeners.clear()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.R0b),u.LFG(m))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(u.R0b),u.LFG(m))},token:t,providedIn:"root"}),t}(),Yf={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Wf=function(){var t=function(){function t(e,n,r,i){f(this,t),this._document=e,this._ngZone=n,this._viewportRuler=r,this._dragDropRegistry=i}return h(t,[{key:"createDrag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yf;return new Df(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(t){return new Vf(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(m),u.LFG(u.R0b),u.LFG(cn),u.LFG(Hf))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(m),u.LFG(u.R0b),u.LFG(cn),u.LFG(Hf))},token:t,providedIn:"root"}),t}(),Kf=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[Wf],imports:[ln]}),t}(),Zf=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[re]]}),t}(),Qf=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t}(),Jf={provide:new u.OlP("mat-autocomplete-scroll-strategy"),deps:[Ks],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},Xf=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[Jf],imports:[[tu,Ga,na,it],ln,Ga,na]}),t}(),$f=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[kr,na],na]}),t}(),td=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[tu,na,ws],na]}),t}(),ed=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[na,Da],na]}),t}(),nd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[na],na]}),t}(),rd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t}(),id=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[Da,na,er,rd],na,rd]}),t}(),od=new u.OlP("mat-chips-default-options"),ad={separatorKeyCodes:[13]},sd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[ba,{provide:od,useValue:ad}],imports:[[na]]}),t}(),ud=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[na],na]}),t}(),cd=function(){var t=function t(){f(this,t),this.changes=new Kt.x,this.optionalLabel="Optional"};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t}(),ld={provide:cd,deps:[[new u.FiY,new u.tp0,cd]],useFactory:function(t){return t||new cd}},hd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[ld,ba],imports:[[na,it,ws,Ll,Zf,ud,Da],na]}),t}(),fd=function(){var t=function(){function t(){f(this,t),this.changes=new Kt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}return h(t,[{key:"formatYearRange",value:function(t,e){return"".concat(t," \u2013 ").concat(e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t}(),dd={provide:new u.OlP("mat-datepicker-scroll-strategy"),deps:[Ks],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},pd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[fd,dd],imports:[[it,Ll,tu,kr,ws,na],ln]}),t}(),vd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[na],na]}),t}(),yd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t}(),md=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[it,na,yd,ws]]}),t}(),gd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[wa,na],wa,na]}),t}(),_d=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[wa,Da,na,Oa,it],wa,na,Oa,vd]}),t}(),bd={provide:new u.OlP("mat-menu-scroll-strategy"),deps:[Ks],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},wd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[bd],imports:[na]}),t}(),kd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[bd],imports:[[it,na,Da,tu,wd],ln,na,wd]}),t}(),Cd={provide:new u.OlP("mat-tooltip-scroll-strategy"),deps:[Ks],useFactory:function(t){return function(){return t.scrollStrategies.reposition({scrollThrottle:20})}}},Sd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[Cd],imports:[[kr,it,tu,na],na,ln]}),t}(),Ed=function(){var t=function t(){f(this,t),this.changes=new Kt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=function(t,e,n){if(0==n||0==e)return"0 of ".concat(n);var r=t*e;return"".concat(r+1," \u2013 ").concat(r<(n=Math.max(n,0))?Math.min(r+e,n):r+e," of ").concat(n)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Td={provide:Ed,deps:[[new u.FiY,new u.tp0,Ed]],useFactory:function(t){return t||new Ed}},xd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[Td],imports:[[it,Ll,bl,Sd,na]]}),t}(),Id=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[it,na],na]}),t}();function Ad(t,e){if(1&t&&(u.O4$(),u._UZ(0,"circle",3)),2&t){var n=u.oxw();u.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+n._spinnerAnimationLabel)("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),u.uIk("r",n._getCircleRadius())}}function Dd(t,e){if(1&t&&(u.O4$(),u._UZ(0,"circle",3)),2&t){var n=u.oxw();u.Udp("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),u.uIk("r",n._getCircleRadius())}}var Rd=ia(function(){return function t(e){f(this,t),this._elementRef=e}}(),"primary"),Od=new u.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}}),Pd=function(t){d(n,t);var e=p(n);function n(t,r,i,o,a){var s;f(this,n),(s=e.call(this,t))._elementRef=t,s._document=i,s._diameter=100,s._value=0,s._fallbackAnimation=!1,s.mode="determinate";var u=n._diameters;return s._spinnerAnimationLabel=s._getSpinnerAnimationLabel(),u.has(i.head)||u.set(i.head,new Set([100])),s._fallbackAnimation=r.EDGE||r.TRIDENT,s._noopAnimations="NoopAnimations"===o&&!!a&&!a._forceAnimations,a&&(a.diameter&&(s.diameter=a.diameter),a.strokeWidth&&(s.strokeWidth=a.strokeWidth)),s}return h(n,[{key:"diameter",get:function(){return this._diameter},set:function(t){this._diameter=Mt(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}},{key:"strokeWidth",get:function(){return this._strokeWidth||this.diameter/10},set:function(t){this._strokeWidth=Mt(t)}},{key:"value",get:function(){return"determinate"===this.mode?this._value:0},set:function(t){this._value=Math.max(0,Math.min(100,Mt(t)))}},{key:"ngOnInit",value:function(){var t=this._elementRef.nativeElement;this._styleRoot=de(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate".concat(this._fallbackAnimation?"-fallback":"","-animation"))}},{key:"_getCircleRadius",value:function(){return(this.diameter-10)/2}},{key:"_getViewBox",value:function(){var t=2*this._getCircleRadius()+this.strokeWidth;return"0 0 ".concat(t," ").concat(t)}},{key:"_getStrokeCircumference",value:function(){return 2*Math.PI*this._getCircleRadius()}},{key:"_getStrokeDashOffset",value:function(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}},{key:"_getCircleStrokeWidth",value:function(){return this.strokeWidth/this.diameter*100}},{key:"_attachStyleNode",value:function(){var t=this._styleRoot,e=this._diameter,r=n._diameters,i=r.get(t);if(!i||!i.has(e)){var o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),t.appendChild(o),i||(i=new Set,r.set(t,i)),i.add(e)}}},{key:"_getAnimationText",value:function(){var t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,"".concat(this._spinnerAnimationLabel))}},{key:"_getSpinnerAnimationLabel",value:function(){return this.diameter.toString().replace(".","_")}}]),n}(Rd);Pd.\u0275fac=function(t){return new(t||Pd)(u.Y36(u.SBq),u.Y36(ue),u.Y36(m,8),u.Y36(Yo,8),u.Y36(Od))},Pd.\u0275cmp=u.Xpm({type:Pd,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(u.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),u.Udp("width",e.diameter,"px")("height",e.diameter,"px"),u.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[u.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(u.O4$(),u.TgZ(0,"svg",0),u.YNc(1,Ad,1,9,"circle",1),u.YNc(2,Dd,1,7,"circle",2),u.qZA()),2&t&&(u.Udp("width",e.diameter,"px")("height",e.diameter,"px"),u.Q6J("ngSwitch","indeterminate"===e.mode),u.uIk("viewBox",e._getViewBox()),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngSwitchCase",!1))},directives:[tt,et],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),Pd._diameters=new WeakMap;var Nd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[na,it],na]}),t}(),Fd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[Da,na],na]}),t}(),Ld=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[it,na,ce,ln],ln,na]}),t}(),Md=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[it,na],na]}),t}(),Vd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t}(),Bd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[Vd,Da,na,er],Vd,na]}),t}(),qd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[tu,ws,it,Ll,na],na]}),t}(),jd=function(){var t=function t(){f(this,t),this.changes=new Kt.x};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Ud={provide:jd,deps:[[new u.FiY,new u.tp0,jd]],useFactory:function(t){return t||new jd}},Gd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[Ud],imports:[[it,na]]}),t}(),zd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[it,na,ws,Da,er,kr],na]}),t}(),Hd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[na],na]}),t}(),Yd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[Qf,na],na]}),t}(),Wd=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[kr,lf,Zf,Kn,Qf,Kf,Xf,$f,td,Ll,ed,nd,id,sd,hd,pd,ku,vd,md,gd,ud,Dl,_d,kd,_a,xd,Id,Nd,Fd,Da,bl,Ld,Md,Bd,qd,Gd,fs,zd,Hd,Sd,Yd,tu,ws,hn]}),t}(),Kd=a(9759),Zd=a(4685),Qd=a(300),Jd=function(t,e){return(Jd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Xd(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var $d,tp="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ep=ep||{},np=tp||self;function rp(){}function ip(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function op(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ap="closure_uid_"+(1e9*Math.random()>>>0),sp=0;function up(t,e,n){return t.call.apply(t.bind,arguments)}function cp(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function lp(t,e,n){return(lp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?up:cp).apply(null,arguments)}function hp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function fp(){return Date.now()}function dp(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Pb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function pp(){this.j=this.j,this.i=this.i}pp.prototype.j=!1,pp.prototype.ka=function(){!this.j&&(this.j=!0,this.H(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,ap)&&t[ap]||(t[ap]=++sp)}(this)},pp.prototype.H=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var vp=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},yp=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function mp(t){return Array.prototype.concat.apply([],arguments)}function gp(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function _p(t){return/^[\s\xa0]*$/.test(t)}var bp,wp=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function kp(t,e){return-1!=t.indexOf(e)}function Cp(t,e){return t<e?-1:t>e?1:0}t:{var Sp=np.navigator;if(Sp){var Ep=Sp.userAgent;if(Ep){bp=Ep;break t}}bp=""}function Tp(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function xp(t){var e={};for(var n in t)e[n]=t[n];return e}var Ip="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ap(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ip.length;o++)n=Ip[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Dp(t){return Dp[" "](t),t}Dp[" "]=rp;var Rp,Op,Pp=kp(bp,"Opera"),Np=kp(bp,"Trident")||kp(bp,"MSIE"),Fp=kp(bp,"Edge"),Lp=Fp||Np,Mp=kp(bp,"Gecko")&&!(kp(bp.toLowerCase(),"webkit")&&!kp(bp,"Edge"))&&!(kp(bp,"Trident")||kp(bp,"MSIE"))&&!kp(bp,"Edge"),Vp=kp(bp.toLowerCase(),"webkit")&&!kp(bp,"Edge");function Bp(){var t=np.document;return t?t.documentMode:void 0}t:{var qp="",jp=(Op=bp,Mp?/rv:([^\);]+)(\)|;)/.exec(Op):Fp?/Edge\/([\d\.]+)/.exec(Op):Np?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Op):Vp?/WebKit\/(\S+)/.exec(Op):Pp?/(?:Version)[ \/]?(\S+)/.exec(Op):void 0);if(jp&&(qp=jp?jp[1]:""),Np){var Up=Bp();if(null!=Up&&Up>parseFloat(qp)){Rp=String(Up);break t}}Rp=qp}var Gp={};function zp(t){return function(t,e){var n=Gp;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=wp(String(Rp)).split("."),r=wp(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Cp(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Cp(0==a[2].length,0==s[2].length)||Cp(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var Hp=np.document&&Np&&(Bp()||parseInt(Rp,10))||void 0,Yp=!Np||9<=Number(Hp),Wp=Np&&!zp("9"),Kp=function(){if(!np.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{np.addEventListener("test",rp,e),np.removeEventListener("test",rp,e)}catch(n){}return t}();function Zp(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Qp(t,e){if(Zp.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Mp){t:{try{Dp(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Jp[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Zp.prototype.b=function(){this.defaultPrevented=!0},dp(Qp,Zp);var Jp={2:"touch",3:"pen",4:"mouse"};Qp.prototype.b=function(){Qp.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Wp)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Xp="closure_listenable_"+(1e6*Math.random()|0),$p=0;function tv(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++$p,this.Y=this.Z=!1}function ev(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function nv(t){this.src=t,this.a={},this.b=0}function rv(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=vp(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ev(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function iv(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}nv.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=iv(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new tv(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ov="closure_lm_"+(1e6*Math.random()|0),av={};function sv(t,e,n,r,i){if(r&&r.once)return cv(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)sv(t,e[o],n,r,i);return null}return n=mv(n),t&&t[Xp]?t.wa(e,n,op(r)?!!r.capture:!!r,i):uv(t,e,n,!1,r,i)}function uv(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=op(i)?!!i.capture:!!i;if(a&&!Yp)return null;var s=vv(t);if(s||(t[ov]=s=new nv(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=pv,e=Yp?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Kp||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fv(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function cv(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)cv(t,e[o],n,r,i);return null}return n=mv(n),t&&t[Xp]?t.xa(e,n,op(r)?!!r.capture:!!r,i):uv(t,e,n,!0,r,i)}function lv(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)lv(t,e[o],n,r,i);else r=op(r)?!!r.capture:!!r,n=mv(n),t&&t[Xp]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=iv(o=t.a[e],n,r,i))&&(ev(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=vv(t))&&(e=t.a[e.toString()],t=-1,e&&(t=iv(e,n,r,i)),(n=-1<t?e[t]:null)&&hv(n))}function hv(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Xp])rv(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fv(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vv(e))?(rv(n,t),0==n.b&&(n.src=null,e[ov]=null)):ev(t)}}}function fv(t){return t in av?av[t]:av[t]="on"+t}function dv(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&hv(t),n.call(r,e)}function pv(t,e){if(t.Y)return!0;if(!Yp){if(!e)t:{e=["window","event"];for(var n=np,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return dv(t,e=new Qp(e,this))}return dv(t,new Qp(e,this))}function vv(t){return(t=t[ov])instanceof nv?t:null}var yv="__closure_events_fn_"+(1e9*Math.random()>>>0);function mv(t){return"function"==typeof t?t:(t[yv]||(t[yv]=function(e){return t.handleEvent(e)}),t[yv])}function gv(){pp.call(this),this.c=new nv(this),this.J=this,this.D=null}function _v(t,e){var n,r=t.D;if(r)for(n=[];r;r=r.D)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Zp(e,t);else if(e instanceof Zp)e.target=e.target||t;else{var i=e;Ap(e=new Zp(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=bv(a,r,!0,e)&&i}if(i=bv(a=e.a=t,r,!0,e)&&i,i=bv(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=bv(a=e.a=n[o],r,!1,e)&&i}function bv(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&rv(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}dp(gv,pp),gv.prototype[Xp]=!0,($d=gv.prototype).addEventListener=function(t,e,n,r){sv(this,t,e,n,r)},$d.removeEventListener=function(t,e,n,r){lv(this,t,e,n,r)},$d.H=function(){if(gv.X.H.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ev(n[r]);delete e.a[t],e.b--}}this.D=null},$d.wa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},$d.xa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var wv=np.JSON.stringify;function kv(){this.b=this.a=null}var Cv,Sv=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Tv},function(t){t.reset()});function Ev(){var t=Dv,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Tv(){this.next=this.b=this.a=null}function xv(t){np.setTimeout(function(){throw t},0)}function Iv(t,e){Cv||function(){var t=np.Promise.resolve(void 0);Cv=function(){t.then(Rv)}}(),Av||(Cv(),Av=!0),Dv.add(t,e)}kv.prototype.add=function(t,e){var n=Sv.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Tv.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Tv.prototype.reset=function(){this.next=this.b=this.a=null};var Av=!1,Dv=new kv;function Rv(){for(var t;t=Ev();){try{t.a.call(t.b)}catch(n){xv(n)}var e=Sv;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Av=!1}function Ov(t,e){gv.call(this),this.b=t||1,this.a=e||np,this.f=lp(this.eb,this),this.g=fp()}function Pv(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Nv(t,e,n){if("function"==typeof t)n&&(t=lp(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=lp(t.handleEvent,t)}return 2147483647<Number(e)?-1:np.setTimeout(t,e||0)}function Fv(t){t.a=Nv(function(){t.a=null,t.c&&(t.c=!1,Fv(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}dp(Ov,gv),($d=Ov.prototype).aa=!1,$d.M=null,$d.eb=function(){if(this.aa){var t=fp()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),_v(this,"tick"),this.aa&&(Pv(this),this.start()))}},$d.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=fp())},$d.H=function(){Ov.X.H.call(this),Pv(this),delete this.a};var Lv=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Jd(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Fv(this)},e.prototype.H=function(){t.prototype.H.call(this),this.a&&(np.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(pp);function Mv(t){pp.call(this),this.b=t,this.a={}}dp(Mv,pp);var Vv=[];function Bv(t,e,n,r){Array.isArray(n)||(n&&(Vv[0]=n.toString()),n=Vv);for(var i=0;i<n.length;i++){var o=sv(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function qv(t){Tp(t.a,function(t,e){this.a.hasOwnProperty(e)&&hv(t)},t),t.a={}}function jv(){this.a=!0}function Uv(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return wv(n)}catch(s){return e}}(t,n)+(r?" "+r:"")})}Mv.prototype.H=function(){Mv.X.H.call(this),qv(this)},Mv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jv.prototype.info=function(){};var Gv={},zv=null;function Hv(){return zv=zv||new gv}function Yv(t){Zp.call(this,Gv.Ga,t)}function Wv(t){var e=Hv();_v(e,new Yv(e,t))}function Kv(t,e){Zp.call(this,Gv.STAT_EVENT,t),this.stat=e}function Zv(t){var e=Hv();_v(e,new Kv(e,t))}function Qv(t){Zp.call(this,Gv.Ha,t)}function Jv(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return np.setTimeout(function(){t()},e)}Gv.Ga="serverreachability",dp(Yv,Zp),Gv.STAT_EVENT="statevent",dp(Kv,Zp),Gv.Ha="timingevent",dp(Qv,Zp);var Xv={NO_ERROR:0,fb:1,sb:2,rb:3,mb:4,qb:5,tb:6,Ea:7,TIMEOUT:8,wb:9},$v={kb:"complete",Gb:"success",Fa:"error",Ea:"abort",yb:"ready",zb:"readystatechange",TIMEOUT:"timeout",ub:"incrementaldata",xb:"progress",nb:"downloadprogress",Ob:"uploadprogress"};function ty(){}function ey(){}ty.prototype.b=null;var ny,ry={OPEN:"a",jb:"b",Fa:"c",vb:"d"};function iy(){Zp.call(this,"d")}function oy(){Zp.call(this,"c")}function ay(){}function sy(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Mv(this),this.P=uy,this.R=new Ov(t=Lp?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.G=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}dp(iy,Zp),dp(oy,Zp),dp(ay,ty),ay.prototype.a=function(){return new XMLHttpRequest},ay.prototype.c=function(){return{}},ny=new ay;var uy=45e3,cy={},ly={};function hy(t,e,n){t.G=1,t.i=Py(xy(e)),t.j=n,t.I=!0,fy(t,null)}function fy(t,e){t.u=fp(),vy(t),t.l=xy(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Yy(n.b,"t",r),t.D=0,t.a=qm(t.g,t.g.C?e:null),0<t.O&&(t.F=new Lv(lp(t.Da,t,t.a),t.O)),Bv(t.J,t.a,"readystatechange",t.bb),e=t.B?xp(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Wv(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.c,t.m,t.l,t.f,t.S,t.j)}function dy(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=py(t,n);if(i==ly){4==e&&(t.h=4,Zv(14),r=!1),Uv(t.c,t.f,null,"[Incomplete Response]");break}if(i==cy){t.h=4,Zv(15),Uv(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Uv(t.c,t.f,i,null),by(t,i)}4==e&&0==n.length&&(t.h=1,Zv(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Om(e),e.F=!0,Zv(11))):(Uv(t.c,t.f,n,"[Invalid Chunked Response]"),_y(t),gy(t))}function py(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ly:(n=Number(e.substring(n,r)),isNaN(n)?cy:(r+=1)+n>e.length?ly:(e=e.substr(r,n),t.D=r+n,e))}function vy(t){t.T=fp()+t.P,yy(t,t.P)}function yy(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Jv(lp(t.$a,t),e)}function my(t){t.o&&(np.clearTimeout(t.o),t.o=null)}function gy(t){0==t.g.v||t.A||Fm(t.g,t)}function _y(t){my(t);var e=t.F;e&&"function"==typeof e.ka&&e.ka(),t.F=null,Pv(t.R),qv(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ka())}function by(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||$y(n.b,t)))if(n.I=t.N,!t.C&&$y(n.b,t)&&3==n.v){try{var r=n.la.a.parse(e)}catch(jx){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Nm(n),Cm(n)}Rm(n),Zv(18)}}else n.pa=i[1],0<n.pa-n.P&&37500>i[2]&&n.G&&0==n.o&&!n.m&&(n.m=Jv(lp(n.Xa,n),6e3));if(1>=Xy(n.b)&&n.fa){try{n.fa()}catch(jx){}n.fa=void 0}}else Mm(n,11)}else if((t.C||n.a==t)&&Nm(n),!_p(e))for(e=r=n.la.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ha=i[2];var o=i[3];null!=o&&(n.ia=o,n.c.info("VER="+n.ia));var a=i[4];null!=a&&(n.qa=a,n.c.info("SVER="+n.qa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(kp(l,"spdy")||kp(l,"quic")||kp(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(tm(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.oa=f,Oy(u.B,u.A,f))}}n.v=3,n.f&&n.f.ua(),n.U&&(n.N=fp()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).ma=Bm(u,u.C?u.ha:null,u.ga),d.C){em(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(my(p),vy(p)),u.a=d}else Dm(u);0<n.g.length&&Tm(n)}else"stop"!=i[0]&&"close"!=i[0]||Mm(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Mm(n,7):km(n):"noop"!=i[0]&&n.f&&n.f.ta(i),n.o=0);Wv(4)}catch(jx){}}function wy(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ip(t)||"string"==typeof t)yp(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ip(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ip(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ky(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ky)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Cy(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Sy(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Sy(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Sy(t,e){return Object.prototype.hasOwnProperty.call(t,e)}($d=sy.prototype).setTimeout=function(t){this.P=t},$d.bb=function(t){t=t.target;var e=this.F;e&&3==gm(t)?e.f():this.Da(t)},$d.Da=function(t){try{if(t==this.a)t:{var e=gm(this.a),n=this.a.va(),r=this.a.W();if(!(3>e||3==e&&!Lp&&!this.a.$())){this.A||4!=e||7==n||Wv(8==n||0>=r?3:2),my(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_p(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,Zv(12),_y(this),gy(this);break t}Uv(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,by(this,u)}this.I?(dy(this,e,o),Lp&&this.b&&3==e&&(Bv(this.J,this.R,"tick",this.ab),this.R.start())):(Uv(this.c,this.f,o,null),by(this,o)),4==e&&_y(this),this.b&&!this.A&&(4==e?Fm(this.g,this):(this.b=!1,vy(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Zv(12)):(this.h=0,Zv(13)),_y(this),gy(this)}}}catch(c){}},$d.ab=function(){if(this.a){var t=gm(this.a),e=this.a.$();this.D<e.length&&(my(this),dy(this,t,e),this.b&&4!=t&&vy(this))}},$d.cancel=function(){this.A=!0,_y(this)},$d.$a=function(){this.o=null;var t=fp();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.G&&(Wv(3),Zv(17)),_y(this),this.h=2,gy(this)):yy(this,this.T-t)},($d=ky.prototype).K=function(){Cy(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},$d.L=function(){return Cy(this),this.a.concat()},$d.get=function(t,e){return Sy(this.b,t)?this.b[t]:e},$d.set=function(t,e){Sy(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},$d.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ey=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ty(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ty){this.a=void 0!==e?e:t.a,Iy(this,t.f),this.j=t.j,Ay(this,t.c),Dy(this,t.h),this.g=t.g,e=t.b;var n=new Uy;n.c=e.c,e.a&&(n.a=new ky(e.a),n.b=e.b),Ry(this,n),this.i=t.i}else t&&(n=String(t).match(Ey))?(this.a=!!e,Iy(this,n[1]||"",!0),this.j=Ny(n[2]||""),Ay(this,n[3]||"",!0),Dy(this,n[4]),this.g=Ny(n[5]||"",!0),Ry(this,n[6]||"",!0),this.i=Ny(n[7]||"")):(this.a=!!e,this.b=new Uy(null,this.a))}function xy(t){return new Ty(t)}function Iy(t,e,n){t.f=n?Ny(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ay(t,e,n){t.c=n?Ny(e,!0):e}function Dy(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ry(t,e,n){e instanceof Uy?(t.b=e,function(t,e){e&&!t.f&&(Gy(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(zy(this,e),Yy(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Fy(e,qy)),t.b=new Uy(e,t.a))}function Oy(t,e,n){t.b.set(e,n)}function Py(t){return Oy(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^fp()).toString(36)),t}function Ny(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fy(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ly),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ly(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ty.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Fy(e,My,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Fy(e,My,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fy(n,"/"==n.charAt(0)?By:Vy,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Fy(n,jy)),t.join("")};var My=/[#\/\?@]/g,Vy=/[#\?:]/g,By=/[#\?]/g,qy=/[#\?@]/g,jy=/#/g;function Uy(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Gy(t){t.a||(t.a=new ky,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function zy(t,e){Gy(t),e=Wy(t,e),Sy(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Sy((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Cy(t)))}function Hy(t,e){return Gy(t),e=Wy(t,e),Sy(t.a.b,e)}function Yy(t,e,n){zy(t,e),0<n.length&&(t.c=null,t.a.set(Wy(t,e),gp(n)),t.b+=n.length)}function Wy(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}($d=Uy.prototype).add=function(t,e){Gy(this),this.c=null,t=Wy(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},$d.forEach=function(t,e){Gy(this),this.a.forEach(function(n,r){yp(n,function(n){t.call(e,n,r,this)},this)},this)},$d.L=function(){Gy(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},$d.K=function(t){Gy(this);var e=[];if("string"==typeof t)Hy(this,t)&&(e=mp(e,this.a.get(Wy(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=mp(e,t[n])}return e},$d.set=function(t,e){return Gy(this),this.c=null,Hy(this,t=Wy(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},$d.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},$d.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Ky=function(t,e){this.b=t,this.a=e};function Zy(t){this.g=t||Qy,t=np.PerformanceNavigationTiming?0<(t=np.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(np.ja&&np.ja.za&&np.ja.za()&&np.ja.za().Qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Qy=10;function Jy(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Xy(t){return t.b?1:t.a?t.a.size:0}function $y(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function tm(t,e){t.a?t.a.add(e):t.b=e}function em(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function nm(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Xd(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return gp(t.c)}function rm(){}function im(){this.a=new rm}function om(t,e,n){var r=n||"";try{wy(t,function(t,n){var i=t;op(t)&&(i=wv(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(hI){throw e.push(r+"type="+encodeURIComponent("_badmap")),hI}}function am(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Zy.prototype.cancel=function(){var t,e;if(this.c=nm(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Xd(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},rm.prototype.stringify=function(t){return np.JSON.stringify(t,void 0)},rm.prototype.parse=function(t){return np.JSON.parse(t,void 0)};var sm=np.JSON.parse;function um(t){gv.call(this),this.headers=new ky,this.l=t||null,this.b=!1,this.u=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.m=this.A=!1,this.s=0,this.o=null,this.I=cm,this.F=this.G=!1}dp(um,gv);var cm="",lm=/^https?$/i,hm=["POST","PUT"];function fm(t){return"content-type"==t.toLowerCase()}function dm(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,pm(t),ym(t)}function pm(t){t.A||(t.A=!0,_v(t,"complete"),_v(t,"error"))}function vm(t){if(t.b&&void 0!==ep&&(!t.u[1]||4!=gm(t)||2!=t.W()))if(t.m&&4==gm(t))Nv(t.Aa,0,t);else if(_v(t,"readystatechange"),4==gm(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.C).match(Ey)[1]||null;if(!o&&np.self&&np.self.location){var a=np.self.location.protocol;o=a.substr(0,a.length-1)}i=!lm.test(o?o.toLowerCase():"")}e=i}if(e)_v(t,"complete"),_v(t,"success");else{t.h=6;try{var s=2<gm(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",pm(t)}}finally{ym(t)}}}function ym(t,e){if(t.a){mm(t);var n=t.a,r=t.u[0]?rp:null;t.a=null,t.u=null,e||_v(t,"ready");try{n.onreadystatechange=r}catch(hI){}}}function mm(t){t.a&&t.F&&(t.a.ontimeout=null),t.o&&(np.clearTimeout(t.o),t.o=null)}function gm(t){return t.a?t.a.readyState:0}function _m(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Tp(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Oy(t,e,n))}function bm(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wm(t){this.qa=0,this.g=[],this.c=new jv,this.ha=this.ma=this.B=this.ga=this.a=this.oa=this.A=this.V=this.i=this.O=this.l=null,this.Pa=this.R=0,this.Ma=bm("failFast",!1,t),this.G=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.pa=this.P=-1,this.T=this.o=this.u=0,this.Ia=bm("baseRetryDelayMs",5e3,t),this.Sa=bm("retryDelaySeedMs",1e4,t),this.Na=bm("forwardChannelMaxRetries",2,t),this.na=bm("forwardChannelRequestTimeoutMs",2e4,t),this.Oa=t&&t.xmlHttpFactory||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Zy(t&&t.concurrentRequestLimit),this.la=new im,this.ea=t&&t.fastHandshake||!1,this.Ja=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.ea&&this.S&&t&&t.detectBufferingProxy||!1,this.fa=void 0,this.N=0,this.F=!1,this.s=null,(this.La=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function km(t){if(Sm(t),3==t.v){var e=t.R++,n=xy(t.B);Oy(n,"SID",t.J),Oy(n,"RID",e),Oy(n,"TYPE","terminate"),Im(t,n),(e=new sy(t,t.c,e,void 0)).G=2,e.i=Py(xy(n)),n=!1,np.navigator&&np.navigator.sendBeacon&&(n=np.navigator.sendBeacon(e.i.toString(),"")),!n&&np.Image&&((new Image).src=e.i,n=!0),n||(e.a=qm(e.g,null),e.a.ba(e.i)),e.u=fp(),vy(e)}Vm(t)}function Cm(t){t.a&&(Om(t),t.a.cancel(),t.a=null)}function Sm(t){Cm(t),t.j&&(np.clearTimeout(t.j),t.j=null),Nm(t),t.b.cancel(),t.h&&("number"==typeof t.h&&np.clearTimeout(t.h),t.h=null)}function Em(t,e){t.g.push(new Ky(t.Pa++,e)),3==t.v&&Tm(t)}function Tm(t){Jy(t.b)||t.h||(t.h=!0,Iv(t.Ca,t),t.u=0)}function xm(t,e){var n;n=e?e.f:t.R++;var r=xy(t.B);Oy(r,"SID",t.J),Oy(r,"RID",n),Oy(r,"AID",t.P),Im(t,r),t.i&&t.l&&_m(r,t.i,t.l),n=new sy(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Am(t,n,1e3),n.setTimeout(Math.round(.5*t.na)+Math.round(.5*t.na*Math.random())),tm(t.b,n),hy(n,r,e)}function Im(t,e){t.f&&wy({},function(t,n){Oy(e,n,t)})}function Am(t,e,n){n=Math.min(t.g.length,n);var r=t.f?lp(t.f.Ka,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{om(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Dm(t){t.a||t.j||(t.T=1,Iv(t.Ba,t),t.o=0)}function Rm(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Jv(lp(t.Ba,t),Lm(t,t.o)),t.o++,0))}function Om(t){null!=t.s&&(np.clearTimeout(t.s),t.s=null)}function Pm(t){t.a=new sy(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=xy(t.ma);Oy(e,"RID","rpc"),Oy(e,"SID",t.J),Oy(e,"CI",t.G?"0":"1"),Oy(e,"AID",t.P),Im(t,e),Oy(e,"TYPE","xmlhttp"),t.i&&t.l&&_m(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ha,n.G=1,n.i=Py(xy(e)),n.j=null,n.I=!0,fy(n,t)}function Nm(t){null!=t.m&&(np.clearTimeout(t.m),t.m=null)}function Fm(t,e){var n=null;if(t.a==e){Nm(t),Om(t),t.a=null;var r=2}else{if(!$y(t.b,e))return;n=e.s,em(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=fp()-e.u;var i=t.u;_v(r=Hv(),new Qv(r,n,e,i)),Tm(t)}else Dm(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Xy(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ma?0:t.Na)||(t.h=Jv(lp(t.Ca,t,e),Lm(t,t.u)),t.u++,0)))}(t,e)||2==r&&Rm(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Mm(t,5);break;case 4:Mm(t,10);break;case 3:Mm(t,6);break;default:Mm(t,2)}}function Lm(t,e){var n=t.Ia+Math.floor(Math.random()*t.Sa);return t.f||(n*=2),n*e}function Mm(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=lp(t.cb,t);n||(n=new Ty("//www.google.com/images/cleardot.gif"),np.location&&"http"==np.location.protocol||Iy(n,"https"),Py(n)),function(t,e){var n=new jv;if(np.Image){var r=new Image;r.onload=hp(am,n,r,"TestLoadImage: loaded",!0,e),r.onerror=hp(am,n,r,"TestLoadImage: error",!1,e),r.onabort=hp(am,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=hp(am,n,r,"TestLoadImage: timeout",!1,e),np.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zv(2);t.v=0,t.f&&t.f.sa(e),Vm(t),Sm(t)}function Vm(t){t.v=0,t.I=-1,t.f&&(0==nm(t.b).length&&0==t.g.length||(t.b.c.length=0,gp(t.g),t.g.length=0),t.f.ra())}function Bm(t,e,n){var r=function(t){return t instanceof Ty?xy(t):new Ty(t,void 0)}(n);if(""!=r.c)e&&Ay(r,e+"."+r.c),Dy(r,r.h);else{var i=np.location;r=function(t,e,n,r){var i=new Ty(null,void 0);return t&&Iy(i,t),e&&Ay(i,e),n&&Dy(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Tp(t.V,function(t,e){Oy(r,e,t)}),n=t.oa,(e=t.A)&&n&&Oy(r,e,n),Oy(r,"VER",t.ia),Im(t,r),r}function qm(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new um(t.Oa)).G=t.C,e}function jm(){}function Um(){if(Np&&!(10<=Number(Hp)))throw Error("Environmental error: no available transport.")}function Gm(t,e){gv.call(this),this.a=new wm(e),this.g=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!_p(t)&&(this.a.i=t),this.o=e&&e.supportsCrossDomainXhr||!1,this.m=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_p(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Ym(this)}function zm(t){iy.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Hm(){oy.call(this),this.status=1}function Ym(t){this.a=t}function Wm(t){this.f=t}function Km(t){gv.call(this),this.u=t,this.h=void 0,this.readyState=Zm,this.status=0,this.responseType=this.responseText=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.o="",this.a=!1,this.m=this.f=this.g=null}($d=um.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.l?this.l.a():ny.a(),this.u=function(t){return t.b||(t.b=t.c())}(this.l?this.l:ny),this.a.onreadystatechange=lp(this.Aa,this);try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(o){return void dm(this,o)}t=n||"";var i=new ky(this.headers);r&&wy(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=fm,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=np.FormData&&t instanceof np.FormData,!(0<=vp(hm,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.G&&(this.a.withCredentials=this.G);try{mm(this),0<this.s&&((this.F=function(t){return Np&&zp(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.s,this.a.ontimeout=lp(this.ya,this)):this.o=Nv(this.ya,this.s,this)),this.m=!0,this.a.send(t),this.m=!1}catch(o){dm(this,o)}},$d.ya=function(){void 0!==ep&&this.a&&(this.f="Timed out after "+this.s+"ms, aborting",this.h=8,_v(this,"timeout"),this.abort(8))},$d.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,_v(this,"complete"),_v(this,"abort"),ym(this))},$d.H=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ym(this,!0)),um.X.H.call(this)},$d.Aa=function(){this.j||(this.B||this.m||this.g?vm(this):this.Za())},$d.Za=function(){vm(this)},$d.W=function(){try{return 2<gm(this)?this.a.status:-1}catch(Op){return-1}},$d.$=function(){try{return this.a?this.a.responseText:""}catch(Op){return""}},$d.Qa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),sm(e)}},$d.va=function(){return this.h},$d.Ra=function(){return"string"==typeof this.f?this.f:String(this.f)},($d=wm.prototype).ia=8,$d.v=1,$d.Ca=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new sy(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Ap(r=xp(r),this.O):r=this.O),null===this.i&&(n.B=r),this.ea)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Am(this,n,e),Oy(i=xy(this.B),"RID",t),Oy(i,"CVER",22),this.A&&Oy(i,"X-HTTP-Session-Id",this.A),Im(this,i),this.i&&r&&_m(i,this.i,r),tm(this.b,n),this.Ja&&Oy(i,"TYPE","init"),this.ea?(Oy(i,"$req",e),Oy(i,"SID","null"),n.U=!0,hy(n,i,null)):hy(n,i,e),this.v=2}}else 3==this.v&&(t?xm(this,t):0==this.g.length||Jy(this.b)||xm(this))},$d.Ba=function(){if(this.j=null,Pm(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Jv(lp(this.Ya,this),t)}},$d.Ya=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.F=!0,Zv(10),Cm(this),Pm(this))},$d.Xa=function(){null!=this.m&&(this.m=null,Cm(this),Rm(this),Zv(19))},$d.cb=function(t){t?(this.c.info("Successfully pinged google.com"),Zv(2)):(this.c.info("Failed to ping google.com"),Zv(1))},($d=jm.prototype).ua=function(){},$d.ta=function(){},$d.sa=function(){},$d.ra=function(){},$d.Ka=function(){},Um.prototype.a=function(t,e){return new Gm(t,e)},dp(Gm,gv),Gm.prototype.h=function(){this.a.f=this.f,this.o&&(this.a.C=!0);var t=this.a,e=this.g,n=this.b||void 0;Zv(0),t.ga=e,t.V=n||{},t.G=t.S,t.B=Bm(t,null,t.ga),Tm(t)},Gm.prototype.close=function(){km(this.a)},Gm.prototype.l=function(t){if("string"==typeof t){var e={};e.__data__=t,Em(this.a,e)}else this.m?((e={}).__data__=wv(t),Em(this.a,e)):Em(this.a,t)},Gm.prototype.H=function(){this.a.f=null,delete this.f,km(this.a),delete this.a,Gm.X.H.call(this)},dp(zm,iy),dp(Hm,oy),dp(Ym,jm),Ym.prototype.ua=function(){_v(this.a,"a")},Ym.prototype.ta=function(t){_v(this.a,new zm(t))},Ym.prototype.sa=function(t){_v(this.a,new Hm(t))},Ym.prototype.ra=function(){_v(this.a,"b")},dp(Wm,ty),Wm.prototype.a=function(){return new Km(this.f)},Wm.prototype.c=function(t){return function(){return t}}({}),dp(Km,gv);var Zm=0;function Qm(t){t.f.read().then(t.Ta.bind(t)).catch(t.ca.bind(t))}function Jm(t){t.readyState=4,t.g=null,t.f=null,t.m=null,Xm(t)}function Xm(t){t.onreadystatechange&&t.onreadystatechange.call(t)}($d=Km.prototype).open=function(t,e){if(this.readyState!=Zm)throw this.abort(),Error("Error reopening a connection");this.s=t,this.o=e,this.readyState=1,Xm(this)},$d.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.o,e)).then(this.Wa.bind(this),this.ca.bind(this))},$d.abort=function(){this.responseText="",this.l=new Headers,this.status=0,this.f&&this.f.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Jm(this)),this.readyState=Zm},$d.Wa=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Xm(this)),this.a&&(this.readyState=3,Xm(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.Ua.bind(this),this.ca.bind(this)):void 0!==np.ReadableStream&&"body"in t?(this.responseText="",this.f=t.body.getReader(),this.m=new TextDecoder,Qm(this)):t.text().then(this.Va.bind(this),this.ca.bind(this)))))},$d.Ta=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.responseText+=e),t.done?Jm(this):Xm(this),3==this.readyState&&Qm(this)}},$d.Va=function(t){this.a&&(this.responseText=t,Jm(this))},$d.Ua=function(){this.a&&Jm(this)},$d.ca=function(){this.a&&Jm(this)},$d.setRequestHeader=function(t,e){this.l.append(t,e)},$d.getResponseHeader=function(t){return this.b&&this.b.get(t.toLowerCase())||""},$d.getAllResponseHeaders=function(){if(!this.b)return"";for(var t=[],e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Km.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),Um.prototype.createWebChannel=Um.prototype.a,Gm.prototype.send=Gm.prototype.l,Gm.prototype.open=Gm.prototype.h,Gm.prototype.close=Gm.prototype.close,Xv.NO_ERROR=0,Xv.TIMEOUT=8,Xv.HTTP_ERROR=6,$v.COMPLETE="complete",ey.EventType=ry,ry.OPEN="a",ry.CLOSE="b",ry.ERROR="c",ry.MESSAGE="d",gv.prototype.listen=gv.prototype.wa,um.prototype.listenOnce=um.prototype.xa,um.prototype.getLastError=um.prototype.Ra,um.prototype.getLastErrorCode=um.prototype.va,um.prototype.getStatus=um.prototype.W,um.prototype.getResponseJson=um.prototype.Qa,um.prototype.getResponseText=um.prototype.$,um.prototype.send=um.prototype.ba;var $m=Xv,tg=$v,eg=Gv,ng=Wm,rg=ey,ig=um,og=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();og.o=-1;var ag={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},sg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,Ft.ZT)(e,t),e}(Error),ug=new Qd.Yd("@firebase/firestore");function cg(){return ug.logLevel}function lg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ug.logLevel<=Qd.in.DEBUG){var r=e.map(dg);ug.debug.apply(ug,(0,Ft.ev)(["Firestore (8.6.8): "+t],r))}}function hg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ug.logLevel<=Qd.in.ERROR){var r=e.map(dg);ug.error.apply(ug,(0,Ft.ev)(["Firestore (8.6.8): "+t],r))}}function fg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ug.logLevel<=Qd.in.WARN){var r=e.map(dg);ug.warn.apply(ug,(0,Ft.ev)(["Firestore (8.6.8): "+t],r))}}function dg(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(hI){return t}}function pg(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.8) INTERNAL ASSERTION FAILED: "+t;throw hg(e),new Error(e)}function vg(t,e){t||pg()}function yg(t,e){return t}function mg(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var gg=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=mg(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function _g(t,e){return t<e?-1:t>e?1:0}function bg(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function wg(t){return t+"\0"}var kg=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new sg(ag.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new sg(ag.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new sg(ag.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new sg(ag.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?_g(this.nanoseconds,t.nanoseconds):_g(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Cg=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new kg(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Sg(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Eg(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Tg(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var xg=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&pg(),void 0===n?n=t.length-e:n>t.length-e&&pg(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ig=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new sg(ag.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(xg),Ag=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Ag.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new sg(ag.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new sg(ag.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new sg(ag.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new sg(ag.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(xg),Rg=function(){function t(t){this.fields=t,t.sort(Dg.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return bg(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Og=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return _g(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Og.EMPTY_BYTE_STRING=new Og("");var Pg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ng(t){if(vg(!!t),"string"==typeof t){var e=0,n=Pg.exec(t);if(vg(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Fg(t.seconds),nanos:Fg(t.nanos)}}function Fg(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Lg(t){return"string"==typeof t?Og.fromBase64String(t):Og.fromUint8Array(t)}function Mg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Vg(t){var e=t.mapValue.fields.__previous_value__;return Mg(e)?Vg(e):e}function Bg(t){var e=Ng(t.mapValue.fields.__local_write_time__.timestampValue);return new kg(e.seconds,e.nanos)}function qg(t){return null==t}function jg(t){return 0===t&&1/t==-1/0}function Ug(t){return"number"==typeof t&&Number.isInteger(t)&&!jg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Gg=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Ig.fromString(e))},t.fromName=function(e){return new t(Ig.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ig.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Ig.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Ig(e.slice()))},t}();function zg(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mg(t)?4:10:pg()}function Hg(t,e){var n=zg(t);if(n!==zg(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bg(t).isEqual(Bg(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ng(t.timestampValue),r=Ng(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Lg(t.bytesValue).isEqual(Lg(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Fg(t.geoPointValue.latitude)===Fg(e.geoPointValue.latitude)&&Fg(t.geoPointValue.longitude)===Fg(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Fg(t.integerValue)===Fg(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Fg(t.doubleValue),r=Fg(e.doubleValue);return n===r?jg(n)===jg(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return bg(t.arrayValue.values||[],e.arrayValue.values||[],Hg);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Sg(n)!==Sg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Hg(n[i],r[i])))return!1;return!0}(t,e);default:return pg()}}function Yg(t,e){return void 0!==(t.values||[]).find(function(t){return Hg(t,e)})}function Wg(t,e){var n=zg(t),r=zg(e);if(n!==r)return _g(n,r);switch(n){case 0:return 0;case 1:return _g(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Fg(t.integerValue||t.doubleValue),r=Fg(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Kg(t.timestampValue,e.timestampValue);case 4:return Kg(Bg(t),Bg(e));case 5:return _g(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Lg(t),r=Lg(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=_g(n[i],r[i]);if(0!==o)return o}return _g(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=_g(Fg(t.latitude),Fg(e.latitude));return 0!==n?n:_g(Fg(t.longitude),Fg(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Wg(n[i],r[i]);if(o)return o}return _g(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=_g(r[a],o[a]);if(0!==s)return s;var u=Wg(n[r[a]],i[o[a]]);if(0!==u)return u}return _g(r.length,o.length)}(t.mapValue,e.mapValue);default:throw pg()}}function Kg(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return _g(t,e);var n=Ng(t),r=Ng(e),i=_g(n.seconds,r.seconds);return 0!==i?i:_g(n.nanos,r.nanos)}function Zg(t){return Qg(t)}function Qg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Ng(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Lg(t.bytesValue).toBase64():"referenceValue"in t?Gg.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Qg(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Qg(t.fields[o])}return e+"}"}(t.mapValue):pg();var e}function Jg(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Xg(t){return!!t&&"integerValue"in t}function $g(t){return!!t&&"arrayValue"in t}function t_(t){return!!t&&"nullValue"in t}function e_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function n_(t){return!!t&&"mapValue"in t}function r_(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},Ng(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return Eg(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=r_(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=r_(t.arrayValue.values[r]);return n}return Object.assign({},t)}var i_=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!n_(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=r_(e)},t.prototype.setAll=function(t){var e=this,n=Dg.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=r_(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());n_(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Hg(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];n_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Eg(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(r_(this.value))},t}();function o_(t){var e=[];return Eg(t.fields,function(t,n){var r=new Dg([t]);if(n_(n)){var i=o_(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)}),new Rg(e)}var a_=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Cg.min(),i_.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,i_.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,i_.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=i_.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=i_.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),s_=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function u_(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new s_(t,e,n,r,i,o,a)}function c_(t){var e=yg(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Zg(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),qg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=k_(e.startAt)),e.endAt&&(n+="|ub:",n+=k_(e.endAt)),e.h=n}return e.h}function l_(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!S_(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Hg(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!T_(t.startAt,e.startAt)&&T_(t.endAt,e.endAt)}function h_(t){return Gg.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var f_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,Ft.ZT)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new d_(t,n,r):"array-contains"===n?new m_(t,r):"in"===n?new g_(t,r):"not-in"===n?new __(t,r):"array-contains-any"===n?new b_(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new p_(t,n):new v_(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Wg(e,this.value)):null!==e&&zg(this.value)===zg(e)&&this.m(Wg(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return pg()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),d_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Gg.fromName(r.referenceValue),i}return(0,Ft.ZT)(e,t),e.prototype.matches=function(t){var e=Gg.comparator(t.key,this.key);return this.m(e)},e}(f_),p_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=y_(0,n),r}return(0,Ft.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(f_),v_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=y_(0,n),r}return(0,Ft.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(f_);function y_(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Gg.fromName(t.referenceValue)})}var m_=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,Ft.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return $g(e)&&Yg(e.arrayValue,this.value)},e}(f_),g_=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,Ft.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Yg(this.value.arrayValue,e)},e}(f_),__=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,Ft.ZT)(e,t),e.prototype.matches=function(t){if(Yg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Yg(this.value.arrayValue,e)},e}(f_),b_=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,Ft.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!$g(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Yg(e.value.arrayValue,t)})},e}(f_),w_=function(t,e){this.position=t,this.before=e};function k_(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Zg(t)}).join(",")}var C_=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function S_(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function E_(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?Gg.comparator(Gg.fromName(a.referenceValue),n.key):Wg(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function T_(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Hg(t.position[n],e.position[n]))return!1;return!0}var x_=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function I_(t,e,n,r,i,o,a,s){return new x_(t,e,n,r,i,o,a,s)}function A_(t){return new x_(t)}function D_(t){return!qg(t.limit)&&"F"===t.limitType}function R_(t){return!qg(t.limit)&&"L"===t.limitType}function O_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function P_(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function N_(t){return null!==t.collectionGroup}function F_(t){var e=yg(t);if(null===e.p){e.p=[];var n=P_(e),r=O_(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new C_(n)),e.p.push(new C_(Dg.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new C_(Dg.keyField(),u))}}}return e.p}function L_(t){var e=yg(t);if(!e.T)if("F"===e.limitType)e.T=u_(e.path,e.collectionGroup,F_(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=F_(e);r<i.length;r++){var o=i[r];n.push(new C_(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new w_(e.endAt.position,!e.endAt.before):null,s=e.startAt?new w_(e.startAt.position,!e.startAt.before):null;e.T=u_(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.T}function M_(t,e,n){return new x_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function V_(t,e){return l_(L_(t),L_(e))&&t.limitType===e.limitType}function B_(t){return c_(L_(t))+"|lt:"+t.limitType}function q_(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Zg(e.value);var e}).join(", ")+"]"),qg(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+k_(t.startAt)),t.endAt&&(e+=", endAt: "+k_(t.endAt)),"Target("+e+")"}(L_(t))+"; limitType="+t.limitType+")"}function j_(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Gg.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!E_(t.startAt,F_(t),e)||t.endAt&&E_(t.endAt,F_(t),e))}(t,e)}function U_(t){return function(e,n){for(var r=!1,i=0,o=F_(t);i<o.length;i++){var a=o[i],s=G_(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function G_(t,e,n){var r=t.field.isKeyField()?Gg.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Wg(r,i):pg()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pg()}}function z_(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jg(e)?"-0":e}}function H_(t){return{integerValue:""+t}}function Y_(t,e){return Ug(e)?H_(e):z_(t,e)}var W_=function(){this._=void 0};function K_(t,e,n){return t instanceof J_?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof X_?$_(t,e):t instanceof tb?eb(t,e):function(t,e){var n=Q_(t,e),r=rb(n)+rb(t.A);return Xg(n)&&Xg(t.A)?H_(r):z_(t.R,r)}(t,e)}function Z_(t,e,n){return t instanceof X_?$_(t,e):t instanceof tb?eb(t,e):n}function Q_(t,e){return t instanceof nb?Xg(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var J_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e}(W_),X_=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Ft.ZT)(e,t),e}(W_);function $_(t,e){for(var n=ib(e),r=function(t){n.some(function(e){return Hg(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var tb=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Ft.ZT)(e,t),e}(W_);function eb(t,e){for(var n=ib(e),r=function(t){n=n.filter(function(e){return!Hg(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var nb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,Ft.ZT)(e,t),e}(W_);function rb(t){return Fg(t.integerValue||t.doubleValue)}function ib(t){return $g(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ob=function(t,e){this.field=t,this.transform=e},ab=function(t,e){this.version=t,this.transformResults=e},sb=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ub(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var cb=function(){};function lb(t,e,n){t instanceof vb?function(t,e,n){var r=t.value.clone(),i=gb(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof yb?function(t,e,n){if(ub(t.precondition,e)){var r=gb(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(mb(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function hb(t,e,n){t instanceof vb?function(t,e,n){if(ub(t.precondition,e)){var r=t.value.clone(),i=_b(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(pb(e),r).setHasLocalMutations()}}(t,e,n):t instanceof yb?function(t,e,n){if(ub(t.precondition,e)){var r=_b(t.fieldTransforms,n,e),i=e.data;i.setAll(mb(t)),i.setAll(r),e.convertToFoundDocument(pb(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){ub(t.precondition,e)&&e.convertToNoDocument(Cg.min())}(t,e)}function fb(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=Q_(o.transform,a||null);null!=s&&(null==n&&(n=i_.empty()),n.set(o.field,s))}return n||null}function db(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&bg(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof X_&&e instanceof X_||t instanceof tb&&e instanceof tb?bg(t.elements,e.elements,Hg):t instanceof nb&&e instanceof nb?Hg(t.A,e.A):t instanceof J_&&e instanceof J_}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function pb(t){return t.isFoundDocument()?t.version:Cg.min()}var vb=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,Ft.ZT)(e,t),e}(cb),yb=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,Ft.ZT)(e,t),e}(cb);function mb(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function gb(t,e,n){var r=new Map;vg(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,Z_(a,s,n[i]))}return r}function _b(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,K_(s,u,e))}return r}var bb,wb,kb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,Ft.ZT)(e,t),e}(cb),Cb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,Ft.ZT)(e,t),e}(cb),Sb=function(t){this.count=t};function Eb(t){switch(t){case ag.OK:return pg();case ag.CANCELLED:case ag.UNKNOWN:case ag.DEADLINE_EXCEEDED:case ag.RESOURCE_EXHAUSTED:case ag.INTERNAL:case ag.UNAVAILABLE:case ag.UNAUTHENTICATED:return!1;case ag.INVALID_ARGUMENT:case ag.NOT_FOUND:case ag.ALREADY_EXISTS:case ag.PERMISSION_DENIED:case ag.FAILED_PRECONDITION:case ag.ABORTED:case ag.OUT_OF_RANGE:case ag.UNIMPLEMENTED:case ag.DATA_LOSS:return!0;default:return pg()}}function Tb(t){if(void 0===t)return hg("GRPC error has no .code"),ag.UNKNOWN;switch(t){case bb.OK:return ag.OK;case bb.CANCELLED:return ag.CANCELLED;case bb.UNKNOWN:return ag.UNKNOWN;case bb.DEADLINE_EXCEEDED:return ag.DEADLINE_EXCEEDED;case bb.RESOURCE_EXHAUSTED:return ag.RESOURCE_EXHAUSTED;case bb.INTERNAL:return ag.INTERNAL;case bb.UNAVAILABLE:return ag.UNAVAILABLE;case bb.UNAUTHENTICATED:return ag.UNAUTHENTICATED;case bb.INVALID_ARGUMENT:return ag.INVALID_ARGUMENT;case bb.NOT_FOUND:return ag.NOT_FOUND;case bb.ALREADY_EXISTS:return ag.ALREADY_EXISTS;case bb.PERMISSION_DENIED:return ag.PERMISSION_DENIED;case bb.FAILED_PRECONDITION:return ag.FAILED_PRECONDITION;case bb.ABORTED:return ag.ABORTED;case bb.OUT_OF_RANGE:return ag.OUT_OF_RANGE;case bb.UNIMPLEMENTED:return ag.UNIMPLEMENTED;case bb.DATA_LOSS:return ag.DATA_LOSS;default:return pg()}}(wb=bb||(bb={}))[wb.OK=0]="OK",wb[wb.CANCELLED=1]="CANCELLED",wb[wb.UNKNOWN=2]="UNKNOWN",wb[wb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wb[wb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wb[wb.NOT_FOUND=5]="NOT_FOUND",wb[wb.ALREADY_EXISTS=6]="ALREADY_EXISTS",wb[wb.PERMISSION_DENIED=7]="PERMISSION_DENIED",wb[wb.UNAUTHENTICATED=16]="UNAUTHENTICATED",wb[wb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wb[wb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wb[wb.ABORTED=10]="ABORTED",wb[wb.OUT_OF_RANGE=11]="OUT_OF_RANGE",wb[wb.UNIMPLEMENTED=12]="UNIMPLEMENTED",wb[wb.INTERNAL=13]="INTERNAL",wb[wb.UNAVAILABLE=14]="UNAVAILABLE",wb[wb.DATA_LOSS=15]="DATA_LOSS";var xb=function(){function t(t,e){this.comparator=t,this.root=e||Ab.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ab.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ab.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Ib(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Ib(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Ib(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Ib(this.root,t,this.comparator,!0)},t}(),Ib=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Ab=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw pg();if(this.right.isRed())throw pg();var t=this.left.check();if(t!==this.right.check())throw pg();return t+(this.isRed()?0:1)},t}();Ab.EMPTY=null,Ab.RED=!0,Ab.BLACK=!1,Ab.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw pg()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw pg()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw pg()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw pg()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw pg()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ab(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Db=function(){function t(t){this.comparator=t,this.data=new xb(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Rb(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Rb(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Rb=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Ob=new xb(Gg.comparator);function Pb(){return Ob}var Nb=new xb(Gg.comparator);function Fb(){return Nb}var Lb=new xb(Gg.comparator);function Mb(){return Lb}var Vb=new Db(Gg.comparator);function Bb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Vb,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var qb=new Db(_g);function jb(){return qb}var Ub=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Gb.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Cg.min(),r,jb(),Pb(),Bb())},t}(),Gb=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Og.EMPTY_BYTE_STRING,n,Bb(),Bb(),Bb())},t}(),zb=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Hb=function(t,e){this.targetId=t,this.V=e},Yb=function(t,e,n,r){void 0===n&&(n=Og.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Wb=function(){function t(){this.S=0,this.D=Qb(),this.C=Og.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Bb(),e=Bb(),n=Bb();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:pg()}}),new Gb(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Qb()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Kb=function(){function t(t){this.W=t,this.G=new Map,this.H=Pb(),this.J=Zb(),this.Y=new Db(_g)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:pg()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(h_(i))if(0===n){var o=new Gg(i.path);this.tt(e,o,a_.newNoDocument(o,Cg.min()))}else vg(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&h_(o.target)){var a=new Gg(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,a_.newNoDocument(a,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=Bb();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Ub(t,n,this.Y,this.H,r);return this.H=Pb(),this.J=Zb(),this.Y=new Db(_g),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Wb,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Db(_g),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||lg("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Wb),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Zb(){return new xb(Gg.comparator)}function Qb(){return new xb(Gg.comparator)}var Jb={asc:"ASCENDING",desc:"DESCENDING"},Xb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$b=function(t,e){this.databaseId=t,this.I=e};function tw(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ew(t,e){return t.I?e.toBase64():e.toUint8Array()}function nw(t,e){return tw(t,e.toTimestamp())}function rw(t){return vg(!!t),Cg.fromTimestamp(function(t){var e=Ng(t);return new kg(e.seconds,e.nanos)}(t))}function iw(t,e){return function(t){return new Ig(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function ow(t){var e=Ig.fromString(t);return vg(Aw(e)),e}function aw(t,e){return iw(t.databaseId,e.path)}function sw(t,e){var n=ow(e);if(n.get(1)!==t.databaseId.projectId)throw new sg(ag.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new sg(ag.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Gg(hw(n))}function uw(t,e){return iw(t.databaseId,e)}function cw(t){var e=ow(t);return 4===e.length?Ig.emptyPath():hw(e)}function lw(t){return new Ig(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hw(t){return vg(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function fw(t,e,n){return{name:aw(t,e),fields:n.value.mapValue.fields}}function dw(t,e,n){var r=sw(t,e.name),i=rw(e.updateTime),o=new i_({mapValue:{fields:e.fields}}),a=a_.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function pw(t,e){var n;if(e instanceof vb)n={update:fw(t,e.key,e.value)};else if(e instanceof kb)n={delete:aw(t,e.key)};else if(e instanceof yb)n={update:fw(t,e.key,e.data),updateMask:Iw(e.fieldMask)};else{if(!(e instanceof Cb))return pg();n={verify:aw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof J_)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof X_)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tb)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof nb)return{fieldPath:e.field.canonicalString(),increment:n.A};throw pg()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:nw(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:pg()}(t,e.precondition)),n}function vw(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?sb.updateTime(rw(t.updateTime)):void 0!==t.exists?sb.exists(t.exists):sb.none()}(e.currentDocument):sb.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(vg("REQUEST_TIME"===e.setToServerValue),n=new J_):"appendMissingElements"in e?n=new X_(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new tb(e.removeAllFromArray.values||[]):"increment"in e?n=new nb(t,e.increment):pg();var r=Dg.fromServerFormat(e.fieldPath);return new ob(r,n)}(t,e)}):[];if(e.update){var i=sw(t,e.update.name),o=new i_({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new Rg((t.fieldPaths||[]).map(function(t){return Dg.fromServerFormat(t)}))}(e.updateMask);return new yb(i,o,a,n,r)}return new vb(i,o,n,r)}if(e.delete){var s=sw(t,e.delete);return new kb(s,n)}if(e.verify){var u=sw(t,e.verify);return new Cb(u,n)}return pg()}function yw(t,e){return{documents:[uw(t,e.path)]}}function mw(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=uw(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=uw(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(e_(t.value))return{unaryFilter:{field:Sw(t.field),op:"IS_NAN"}};if(t_(t.value))return{unaryFilter:{field:Sw(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(e_(t.value))return{unaryFilter:{field:Sw(t.field),op:"IS_NOT_NAN"}};if(t_(t.value))return{unaryFilter:{field:Sw(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sw(t.field),op:Cw(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Sw(t.field),direction:kw(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||qg(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=bw(e.startAt)),e.endAt&&(n.structuredQuery.endAt=bw(e.endAt)),n}function gw(t){var e=cw(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){vg(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=_w(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(t){return function(t){return new C_(Ew(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return qg(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=ww(n.startAt));var l=null;return n.endAt&&(l=ww(n.endAt)),I_(e,i,s,a,u,"F",c,l)}function _w(t){return t?void 0!==t.unaryFilter?[xw(t)]:void 0!==t.fieldFilter?[Tw(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return _w(t)}).reduce(function(t,e){return t.concat(e)}):pg():[]}function bw(t){return{before:t.before,values:t.position}}function ww(t){return new w_(t.values||[],!!t.before)}function kw(t){return Jb[t]}function Cw(t){return Xb[t]}function Sw(t){return{fieldPath:t.canonicalString()}}function Ew(t){return Dg.fromServerFormat(t.fieldPath)}function Tw(t){return f_.create(Ew(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return pg()}}(t.fieldFilter.op),t.fieldFilter.value)}function xw(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ew(t.unaryFilter.field);return f_.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ew(t.unaryFilter.field);return f_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ew(t.unaryFilter.field);return f_.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ew(t.unaryFilter.field);return f_.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return pg()}}function Iw(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Aw(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Dw(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ow(e)),e=Rw(t.get(n),e);return Ow(e)}function Rw(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Ow(t){return t+"\x01\x01"}function Pw(t){var e=t.length;if(vg(e>=2),2===e)return vg("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ig.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&pg(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:pg()}o=a+2}return new Ig(r)}var Nw=function(t,e){this.seconds=t,this.nanoseconds=e},Fw=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Fw.store="owner",Fw.key="owner";var Lw=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Lw.store="mutationQueues",Lw.keyPath="userId";var Mw=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Mw.store="mutations",Mw.keyPath="batchId",Mw.userMutationsIndex="userMutationsIndex",Mw.userMutationsKeyPath=["userId","batchId"];var Vw=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Dw(e)]},t.key=function(t,e,n){return[t,Dw(e),n]},t}();Vw.store="documentMutations",Vw.PLACEHOLDER=new Vw;var Bw=function(t,e){this.path=t,this.readTime=e},qw=function(t,e){this.path=t,this.version=e},jw=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};jw.store="remoteDocuments",jw.readTimeIndex="readTimeIndex",jw.readTimeIndexPath="readTime",jw.collectionReadTimeIndex="collectionReadTimeIndex",jw.collectionReadTimeIndexPath=["parentPath","readTime"];var Uw=function(t){this.byteSize=t};Uw.store="remoteDocumentGlobal",Uw.key="remoteDocumentGlobalKey";var Gw=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Gw.store="targets",Gw.keyPath="targetId",Gw.queryTargetsIndexName="queryTargetsIndex",Gw.queryTargetsKeyPath=["canonicalId","targetId"];var zw=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};zw.store="targetDocuments",zw.keyPath=["targetId","path"],zw.documentTargetsIndex="documentTargetsIndex",zw.documentTargetsKeyPath=["path","targetId"];var Hw=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Hw.key="targetGlobalKey",Hw.store="targetGlobal";var Yw=function(t,e){this.collectionId=t,this.parent=e};Yw.store="collectionParents",Yw.keyPath=["collectionId","parent"];var Ww=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ww.store="clientMetadata",Ww.keyPath="clientId";var Kw=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Kw.store="bundles",Kw.keyPath="bundleId";var Zw=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Zw.store="namedQueries",Zw.keyPath="name";var Qw=(0,Ft.ev)((0,Ft.ev)([],(0,Ft.ev)((0,Ft.ev)([],(0,Ft.ev)((0,Ft.ev)([],(0,Ft.ev)((0,Ft.ev)([],[Lw.store,Mw.store,Vw.store,jw.store,Gw.store,Fw.store,Hw.store,zw.store]),[Ww.store])),[Uw.store])),[Yw.store])),[Kw.store,Zw.store]),Jw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xw=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),$w=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},tk=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&pg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),ek=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new $w,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new ik(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=ck(e.target.error);n.ft.reject(new ik(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ik(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(lg("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ak(e)},t}(),nk=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,Zd.z$)())&&hg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return lg("SimpleDb","Removing database:",t),sk(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,Zd.z$)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e,n=this;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(lg("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new ik(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new sg(ag.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ik(t,n))},i.onupgradeneeded=function(t){lg("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){lg("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,Ft.mG)(this,void 0,void 0,function(){var i,o,a,s,u;return(0,Ft.Jh)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return(0,Ft.Jh)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=h.sent(),e=ek.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch(function(t){return e.abort(t),tk.reject(t)}).toPromise(),u={},a.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return lg("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),rk=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return sk(this.Pt.delete())},t}(),ik=function(t){function e(e,n){var r=this;return(r=t.call(this,ag.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,Ft.ZT)(e,t),e}(sg);function ok(t){return"IndexedDbTransactionError"===t.name}var ak=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(lg("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(lg("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),sk(n)},t.prototype.add=function(t){return lg("SimpleDb","ADD",this.store.name,t,t),sk(this.store.add(t))},t.prototype.get=function(t){var e=this;return sk(this.store.get(t)).next(function(n){return void 0===n&&(n=null),lg("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return lg("SimpleDb","DELETE",this.store.name,t),sk(this.store.delete(t))},t.prototype.count=function(){return lg("SimpleDb","COUNT",this.store.name),sk(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){lg("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new tk(function(n,r){e.onerror=function(t){var e=ck(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new tk(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new rk(i),a=e(i.primaryKey,i.value,o);if(a instanceof tk){var s=a.catch(function(t){return o.done(),tk.reject(t)});n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return tk.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function sk(t){return new tk(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ck(t.target.error);n(e)}})}var uk=!1;function ck(t){var e=nk._t((0,Zd.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new sg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return uk||(uk=!0,setTimeout(function(){throw r},0)),r}}return t}var lk=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,Ft.ZT)(e,t),e}(Xw);function hk(t,e){var n=yg(t);return nk.It(n.Mt,e)}var fk=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&lb(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&hb(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&hb(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Cg.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Bb())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&bg(this.mutations,t.mutations,function(t,e){return db(t,e)})&&bg(this.baseMutations,t.baseMutations,function(t,e){return db(t,e)})},t}(),dk=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){vg(e.mutations.length===r.length);for(var i=Mb(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),pk=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Cg.min()),void 0===o&&(o=Cg.min()),void 0===a&&(a=Og.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),vk=function(t){this.Lt=t};function yk(t,e){if(e.document)return dw(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Gg.fromSegments(e.noDocument.path),r=wk(e.noDocument.readTime),i=a_.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Gg.fromSegments(e.unknownDocument.path);return r=wk(e.unknownDocument.version),a_.newUnknownDocument(o,r)}return pg()}function mk(t,e,n){var r=gk(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:aw(t,e.key),fields:e.data.value.mapValue.fields,updateTime:tw(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new jw(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=bk(e.version);return a=e.hasCommittedMutations,new jw(null,new Bw(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=bk(e.version);return new jw(new qw(c,l),null,null,!0,r,i)}return pg()}function gk(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function _k(t){var e=new kg(t[0],t[1]);return Cg.fromTimestamp(e)}function bk(t){var e=t.toTimestamp();return new Nw(e.seconds,e.nanoseconds)}function wk(t){var e=new kg(t.seconds,t.nanoseconds);return Cg.fromTimestamp(e)}function kk(t,e){for(var n=(e.baseMutations||[]).map(function(e){return vw(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return vw(t.Lt,e)}),o=kg.fromMillis(e.localWriteTimeMs);return new fk(e.batchId,o,n,i)}function Ck(t){var e,n,r=wk(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?wk(t.lastLimboFreeSnapshotVersion):Cg.min();return void 0!==t.query.documents?(vg(1===(n=t.query).documents.length),e=L_(A_(cw(n.documents[0])))):e=function(t){return L_(gw(t))}(t.query),new pk(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Og.fromBase64String(t.resumeToken))}function Sk(t,e){var n,r=bk(e.snapshotVersion),i=bk(e.lastLimboFreeSnapshotVersion);n=h_(e.target)?yw(t.Lt,e.target):mw(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Gw(e.targetId,c_(e.target),r,o,e.sequenceNumber,i,n)}function Ek(t){var e=gw({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?M_(e,e.limit,"L"):e}var Tk=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return xk(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:wk(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return xk(t).put({bundleId:(n=e).id,createTime:bk(rw(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Ik(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Ek(e.bundledQuery),readTime:wk(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Ik(t).put(function(t){return{name:t.name,readTime:bk(rw(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function xk(t){return hk(t,Kw.store)}function Ik(t){return hk(t,Zw.store)}var Ak=function(){function t(){this.Bt=new Dk}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),tk.resolve()},t.prototype.getCollectionParents=function(t,e){return tk.resolve(this.Bt.getEntries(e))},t}(),Dk=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Db(Ig.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Db(Ig.comparator)).toArray()},t}(),Rk=function(){function t(){this.qt=new Dk}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:Dw(i)};return Ok(t).put(o)}return tk.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[wg(e),""],!1,!0);return Ok(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Pw(o.parent))}return n})},t}();function Ok(t){return hk(t,Yw.store)}var Pk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nk=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Fk(t,e,n){var r=t.store(Mw.store),i=t.store(Vw.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){vg(1===s)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Vw.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return tk.waitFor(o).next(function(){return c})}function Lk(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw pg();e=t.noDocument}return JSON.stringify(e).length}Nk.DEFAULT_COLLECTION_PERCENTILE=10,Nk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nk.DEFAULT=new Nk(41943040,Nk.DEFAULT_COLLECTION_PERCENTILE,Nk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nk.DISABLED=new Nk(-1,0,0);var Mk=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return vg(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bk(t).$t({index:Mw.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=qk(t),a=Bk(t);return a.add({}).next(function(s){vg("number"==typeof s);for(var u=new fk(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return pw(t.Lt,e)}),i=n.mutations.map(function(e){return pw(t.Lt,e)});return new Mw(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Db(function(t,e){return _g(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],v=Vw.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Vw.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[s]=u.keys()}),tk.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Bk(t).get(e).next(function(t){return t?(vg(t.userId===n.userId),kk(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?tk.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Bk(t).$t({index:Mw.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(vg(e.batchId>=r),o=kk(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Bk(t).$t({index:Mw.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bk(t).Nt(Mw.userMutationsIndex,n).next(function(t){return t.map(function(t){return kk(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Vw.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return qk(t).$t({range:i},function(r,i,a){var s=r[0],u=r[2],c=Pw(r[1]);if(s===n.userId&&e.path.isEqual(c))return Bk(t).get(u).next(function(t){if(!t)throw pg();vg(t.userId===n.userId),o.push(kk(n.R,t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Db(_g),i=[];return e.forEach(function(e){var o=Vw.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=qk(t).$t({range:a},function(t,i,o){var a=t[0],s=t[2],u=Pw(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()});i.push(s)}),tk.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Vw.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Db(_g);return qk(t).$t({range:a},function(t,e,o){var a=t[0],u=t[2],c=Pw(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()}).next(function(){return n.Wt(t,s)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Bk(t).get(e).next(function(t){if(null===t)throw pg();vg(t.userId===n.userId),r.push(kk(n.R,t))}))}),tk.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Fk(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),tk.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return tk.resolve();var r=IDBKeyRange.lowerBound(Vw.prefixForUser(e.userId)),i=[];return qk(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=Pw(t[1]);i.push(o)}else r.done()}).next(function(){vg(0===i.length)})})},t.prototype.containsKey=function(t,e){return Vk(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return jk(t).get(this.userId).next(function(t){return t||new Lw(e.userId,-1,"")})},t}();function Vk(t,e,n){var r=Vw.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return qk(t).$t({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})}function Bk(t){return hk(t,Mw.store)}function qk(t){return hk(t,Vw.store)}function jk(t){return hk(t,Lw.store)}var Uk=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Gk=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Uk(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Cg.fromTimestamp(new kg(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return zk(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return vg(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return zk(t).$t(function(a,s){var u=Ck(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return tk.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return zk(t).$t(function(t,n){var r=Ck(n);e(r)})},t.prototype.Xt=function(t){return Hk(t).get(Hw.key).next(function(t){return vg(null!==t),t})},t.prototype.Zt=function(t,e){return Hk(t).put(Hw.key,e)},t.prototype.te=function(t,e){return zk(t).put(Sk(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=c_(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return zk(t).$t({range:r,index:Gw.queryTargetsIndexName},function(t,n,r){var o=Ck(n);l_(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Yk(t);return e.forEach(function(e){var a=Dw(e.path);i.push(o.put(new zw(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))}),tk.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Yk(t);return tk.forEach(e,function(e){var o=Dw(e.path);return tk.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Yk(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Yk(t),i=Bb();return r.$t({range:n,kt:!0},function(t,e,n){var r=Pw(t[1]),o=new Gg(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Dw(e.path),r=IDBKeyRange.bound([n],[wg(n)],!1,!0),i=0;return Yk(t).$t({index:zw.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return zk(t).get(e).next(function(t){return t?Ck(t):null})},t}();function zk(t){return hk(t,Gw.store)}function Hk(t){return hk(t,Hw.store)}function Yk(t){return hk(t,zw.store)}function Wk(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){if(t.code!==ag.FAILED_PRECONDITION||t.message!==Jw)throw t;return lg("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Kk(t,e){var n=t[1],r=e[1],i=_g(t[0],e[0]);return 0===i?_g(n,r):i}var Zk=function(){function t(t){this.ne=t,this.buffer=new Db(Kk),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Kk(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Qk=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;lg("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,Ft.mG)(e,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ok(e=n.sent())?(lg("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Wk(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Jk=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return tk.resolve(og.o);var r=new Zk(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(lg("LruGarbageCollector","Garbage collection skipped; disabled"),tk.resolve(Pk)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(lg("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Pk):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(lg("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),cg()<=Qd.in.DEBUG&&lg("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),tk.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Xk=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Jk(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return $k(t,n)},t.prototype.removeReference=function(t,e,n){return $k(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return $k(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return jk(t).Ot(function(r){return Vk(t,r,e).next(function(t){return t&&(n=!0),tk.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(a,s){if(s<=e){var u=n._e(t,a).next(function(e){if(!e)return o++,r.getEntry(t,a).next(function(){return r.removeEntry(a),Yk(t).delete([0,Dw(a.path)])})});i.push(u)}}).next(function(){return tk.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return $k(t,e)},t.prototype.we=function(t,e){var n,r=Yk(t),i=og.o;return r.$t({index:zw.documentTargetsIndex},function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==og.o&&e(new Gg(Pw(n)),i),i=a,n=o):i=og.o}).next(function(){i!==og.o&&e(new Gg(Pw(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function $k(t,e){return Yk(t).put(function(t,e){return new zw(0,Dw(t.path),e)}(e,t.currentSequenceNumber))}var tC=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Eg(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Tg(this.inner)},t}(),eC=function(){function t(){this.changes=new tC(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Cg.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:a_.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?tk.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),nC=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return oC(t).put(aC(e),n)},t.prototype.removeEntry=function(t,e){var n=oC(t),r=aC(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return oC(t).get(aC(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return oC(t).get(aC(e)).next(function(t){return{document:n.ye(e,t),size:Lk(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Pb();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Pb(),i=new xb(Gg.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Lk(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return tk.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return oC(t).$t({range:r},function(t,e,r){for(var a=Gg.fromSegments(t);o&&Gg.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Pb(),o=e.path.length+1,a={};if(n.isEqual(Cg.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=gk(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=jw.collectionReadTimeIndex}return oC(t).$t(a,function(t,n,a){if(t.length===o){var s=yk(r.R,n);e.path.isPrefixOf(s.key.path)?j_(e,s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new rC(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return iC(t).get(Uw.key).next(function(t){return vg(!!t),t})},t.prototype.me=function(t,e){return iC(t).put(Uw.key,e)},t.prototype.ye=function(t,e){if(e){var n=yk(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Cg.min()))return n}return a_.newInvalidDocument(t)},t}(),rC=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new tC(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,Ft.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Db(function(t,e){return _g(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=mk(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Lk(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=mk(e.Ie.R,a_.newNoDocument(o,Cg.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),tk.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(eC);function iC(t){return hk(t,Uw.store)}function oC(t){return hk(t,jw.store)}function aC(t){return t.path.toArray()}var sC=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;vg(n<r&&n>=0&&r<=11);var o=new ek("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Fw.store)}(t),function(t){t.createObjectStore(Lw.store,{keyPath:Lw.keyPath}),t.createObjectStore(Mw.store,{keyPath:Mw.keyPath,autoIncrement:!0}).createIndex(Mw.userMutationsIndex,Mw.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Vw.store)}(t),uC(t),function(t){t.createObjectStore(jw.store)}(t));var a=tk.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(zw.store),t.deleteObjectStore(Gw.store),t.deleteObjectStore(Hw.store)}(t),uC(t)),a=a.next(function(){return function(t){var e=t.store(Hw.store),n=new Hw(0,0,Cg.min().toTimestamp(),0);return e.put(Hw.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(Mw.store).Nt().next(function(n){t.deleteObjectStore(Mw.store),t.createObjectStore(Mw.store,{keyPath:Mw.keyPath,autoIncrement:!0}).createIndex(Mw.userMutationsIndex,Mw.userMutationsKeyPath,{unique:!0});var r=e.store(Mw.store),i=n.map(function(t){return r.put(t)});return tk.waitFor(i)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(Ww.store,{keyPath:Ww.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.Re(o)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(Uw.store)}(t),i.be(o)})),n<7&&r>=7&&(a=a.next(function(){return i.ve(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(jw.store);e.createIndex(jw.readTimeIndex,jw.readTimeIndexPath,{unique:!1}),e.createIndex(jw.collectionReadTimeIndex,jw.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(a=a.next(function(){return i.Ve(o)})),n<11&&r>=11&&(a=a.next(function(){!function(t){t.createObjectStore(Kw.store,{keyPath:Kw.keyPath})}(t),function(t){t.createObjectStore(Zw.store,{keyPath:Zw.keyPath})}(t)})),a},t.prototype.be=function(t){var e=0;return t.store(jw.store).$t(function(t,n){e+=Lk(n)}).next(function(){var n=new Uw(e);return t.store(Uw.store).put(Uw.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Lw.store),r=t.store(Mw.store);return n.Nt().next(function(n){return tk.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Mw.userMutationsIndex,i).next(function(r){return tk.forEach(r,function(r){vg(r.userId===n.userId);var i=kk(e.R,r);return Fk(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(zw.store),n=t.store(jw.store);return t.store(Hw.store).get(Hw.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new Ig(n),a=function(t){return[0,Dw(t)]}(o);r.push(e.get(a).next(function(n){return n?tk.resolve():function(n){return e.put(new zw(0,Dw(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return tk.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Yw.store,{keyPath:Yw.keyPath});var n=e.store(Yw.store),r=new Dk,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Dw(i)})}};return e.store(jw.store).$t({kt:!0},function(t,e){var n=new Ig(t);return i(n.popLast())}).next(function(){return e.store(Vw.store).$t({kt:!0},function(t,e){var n=Pw(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Gw.store);return n.$t(function(t,r){var i=Ck(r),o=Sk(e.R,i);return n.put(o)})},t}();function uC(t){t.createObjectStore(zw.store,{keyPath:zw.keyPath}).createIndex(zw.documentTargetsIndex,zw.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Gw.store,{keyPath:Gw.keyPath}).createIndex(Gw.queryTargetsIndexName,Gw.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Hw.store)}var cC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",lC=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new sg(ag.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xk(this,i),this.Le=n+"main",this.R=new vk(u),this.Be=new nk(this.Le,11,new sC(this.R)),this.qe=new Gk(this.referenceDelegate,this.R),this.Ut=new Rk,this.Ue=function(t,e){return new nC(t,e)}(this.R,this.Ut),this.Qe=new Tk,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&hg("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new sg(ag.FAILED_PRECONDITION,cC);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new og(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,Ft.mG)(e,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,Ft.mG)(e,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,Ft.mG)(e,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return fC(e).put(new Ww(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(ok(e))return lg("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return lg("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return hC(t).get(Fw.key).next(function(t){return tk.resolve(e.tn(t))})},t.prototype.en=function(t){return fC(t).delete(this.clientId)},t.prototype.nn=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=hk(t,Ww.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return tk.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?tk.resolve(!0):hC(t).get(Fw.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new sg(ag.FAILED_PRECONDITION,cC);return!1}}return!(!e.networkEnabled||!e.inForeground)||fC(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&lg("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t=this;return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Fw.store,Ww.store],function(e){var n=new lk(e,og.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return fC(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Mk.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return lg("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Qw,function(o){return r=new lk(o,i.Ne?i.Ne.next():og.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw hg("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new sg(ag.FAILED_PRECONDITION,Jw);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return hC(t).get(Fw.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new sg(ag.FAILED_PRECONDITION,cC)})},t.prototype.Ze=function(t){var e=new Fw(this.clientId,this.allowTabSynchronization,Date.now());return hC(t).put(Fw.key,e)},t.yt=function(){return nk.yt()},t.prototype.Xe=function(t){var e=this,n=hC(t);return n.get(Fw.key).next(function(t){return e.tn(t)?(lg("IndexedDbPersistence","Releasing primary lease."),n.delete(Fw.key)):tk.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(hg("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return lg("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return hg("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){hg("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function hC(t){return hk(t,Fw.store)}function fC(t){return hk(t,Ww.store)}function dC(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var pC=function(t,e){this.progress=t,this.wn=e},vC=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Gg.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):N_(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Gg(e)).next(function(t){var e=Fb();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Fb();return this.Ut.getCollectionParents(t,i).next(function(a){return tk.forEach(a,function(a){var s=function(t,e){return new x_(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=a_.newInvalidDocument(c),r=r.insert(c,l)),hb(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){j_(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Bb(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof yb&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),yC=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Bb(),i=Bb(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),mC=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Cg.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var a=i.Cn(e,o);return(D_(e)||R_(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(cg()<=Qd.in.DEBUG&&lg("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),q_(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return a.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Db(U_(t));return e.forEach(function(e,r){j_(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return cg()<=Qd.in.DEBUG&&lg("QueryEngine","Using full collection scan to execute query:",q_(e)),this.Sn.getDocumentsMatchingQuery(t,e,Cg.min())},t}(),gC=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new xb(_g),this.kn=new tC(function(t){return c_(t)},l_),this.$n=Cg.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new vC(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function _C(t,e,n,r){return new gC(t,e,n,r)}function bC(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,Ft.Jh)(this,function(a){switch(a.label){case 0:return n=yg(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new vC(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],a=Bb(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return i.pn(t,a).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function wC(t,e){var n=yg(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=tk.resolve();return o.forEach(function(t){a=a.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);vg(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),a.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function kC(t){var e=yg(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function CC(t,e){var n=yg(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach(function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return vg(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}});var s=Pb();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),a.push(SC(t,o,e.documentUpdates,r,void 0).next(function(t){s=t})),!r.isEqual(Cg.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});a.push(u)}return tk.waitFor(a).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,s)}).next(function(){return s})}).then(function(t){return n.Fn=i,t})}function SC(t,e,n,r,i){var o=Bb();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Pb();return n.forEach(function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Cg.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):lg("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function EC(t,e){var n=yg(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function TC(t,e){var n=yg(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?tk.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new pk(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function xC(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i,o,a;return(0,Ft.Jh)(this,function(s){switch(s.label){case 0:r=yg(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!ok(a=s.sent()))throw a;return lg("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function IC(t,e,n){var r=yg(t),i=Cg.min(),o=Bb();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=yg(t),i=r.kn.get(n);return void 0!==i?tk.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,L_(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Cg.min(),n?o:Bb())}).next(function(t){return{documents:t,Bn:o}})})}function AC(t,e){var n=yg(t),r=yg(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function DC(t){var e=yg(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=yg(t),i=Pb(),o=gk(n),a=oC(e),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:jw.readTimeIndex,range:s},function(t,e){var n=yk(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:_k(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function RC(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){return[2,(e=yg(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=oC(t),n=Cg.min();return e.$t({index:jw.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=_k(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function OC(t,e,n,r){return(0,Ft.mG)(this,void 0,void 0,function(){var i,o,a,s,u,c,l,h,f,d;return(0,Ft.Jh)(this,function(p){switch(p.label){case 0:for(i=yg(t),o=Bb(),a=Pb(),s=Mb(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,e.Un(l)),s=s.insert(h,e.Qn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,TC(i,function(t){return L_(A_(Ig.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return SC(t,f,a,Cg.min(),s).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function PC(t,e,n){return void 0===n&&(n=Bb()),(0,Ft.mG)(this,void 0,void 0,function(){var r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return[4,TC(t,L_(Ek(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=yg(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=rw(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var a=r.withResumeToken(Og.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var NC=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return tk.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:rw(n.createTime)}),tk.resolve()},t.prototype.getNamedQuery=function(t,e){return tk.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Ek(t.bundledQuery),readTime:rw(t.readTime)}}(e)),tk.resolve()},t}(),FC=function(){function t(){this.Wn=new Db(LC.Gn),this.zn=new Db(LC.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new LC(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new LC(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Gg(new Ig([])),r=new LC(n,t),i=new LC(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Gg(new Ig([])),n=new LC(e,t),r=new LC(e,t+1),i=Bb();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new LC(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),LC=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Gg.comparator(t.key,e.key)||_g(t.ns,e.ns)},t.Hn=function(t,e){return _g(t.ns,e.ns)||Gg.comparator(t.key,e.key)},t}(),MC=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Db(LC.Gn)}return t.prototype.checkEmpty=function(t){return tk.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new fk(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new LC(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return tk.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return tk.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return tk.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return tk.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return tk.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new LC(e,0),i=new LC(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),tk.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Db(_g);return e.forEach(function(t){var e=new LC(t,0),i=new LC(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),tk.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Gg.isDocumentKey(i)||(i=i.child(""));var o=new LC(new Gg(i),0),a=new Db(_g);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)},o),tk.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;vg(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return tk.forEach(e.mutations,function(i){var o=new LC(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new LC(e,0),r=this.rs.firstAfterOrEqual(n);return tk.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return tk.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),VC=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new xb(Gg.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return tk.resolve(n?n.document.clone():a_.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Pb();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():a_.newInvalidDocument(t))}),tk.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Pb(),i=new Gg(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,u=s.document,c=s.readTime;if(!e.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||j_(e,u)&&(r=r.insert(u.key,u.clone()))}return tk.resolve(r)},t.prototype.fs=function(t,e){return tk.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new BC(this)},t.prototype.getSize=function(t){return tk.resolve(this.size)},t}(),BC=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,Ft.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),tk.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(eC),qC=function(){function t(t){this.persistence=t,this.ds=new tC(function(t){return c_(t)},l_),this.lastRemoteSnapshotVersion=Cg.min(),this.highestTargetId=0,this.ws=0,this._s=new FC,this.targetCount=0,this.ys=Uk.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),tk.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return tk.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return tk.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),tk.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),tk.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Uk(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,tk.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),tk.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,tk.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),tk.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return tk.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return tk.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),tk.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),tk.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),tk.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return tk.resolve(n)},t.prototype.containsKey=function(t,e){return tk.resolve(this._s.containsKey(e))},t}(),jC=function(){function t(t,e){var n=this;this.gs={},this.Ne=new og(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new qC(this),this.Ut=new Ak,this.Ue=function(t,e){return new VC(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new vk(e),this.Qe=new NC(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new MC(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;lg("MemoryPersistence","Starting transaction:",t);var i=new UC(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return tk.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),UC=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,Ft.ZT)(e,t),e}(Xw),GC=function(){function t(t){this.persistence=t,this.As=new FC,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw pg()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),tk.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),tk.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),tk.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tk.forEach(this.vs,function(r){var i=Gg.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return tk.or([function(){return tk.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),zC=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function HC(t,e){return"firestore_clients_"+t+"_"+e}function YC(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function WC(t,e){return"firestore_targets_"+t+"_"+e}zC.UNAUTHENTICATED=new zC(null),zC.GOOGLE_CREDENTIALS=new zC("google-credentials-uid"),zC.FIRST_PARTY=new zC("first-party-uid");var KC=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new sg(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(hg("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ZC=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new sg(i.error.code,i.error.message)),o?new t(e,i.state,r):(hg("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),QC=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=jb(),a=0;i&&a<r.activeTargetIds.length;++a)i=Ug(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(hg("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),JC=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(hg("SharedClientState","Failed to parse online state: "+e),null)},t}(),XC=function(){function t(){this.activeTargetIds=jb()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),$C=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new xb(_g),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=HC(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new XC),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s,u,c,l=this;return(0,Ft.Jh)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(HC(this.persistenceKey,r)))&&(o=QC.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(WC(this.persistenceKey,t));if(n){var r=ZC.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(WC(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return lg("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){lg("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){lg("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(lg("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void hg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,Ft.mG)(e,void 0,void 0,function(){var t,e,r,i,o,a;return(0,Ft.Jh)(this,function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=og.o;if(null!=t)try{var n=JSON.parse(t);vg("number"==typeof n),e=n}catch(t){hg("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==og.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new KC(this.currentUser,t,e,n),i=YC(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=YC(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=WC(this.persistenceKey,t),i=new ZC(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return QC.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return KC.Vs(new zC(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return ZC.Vs(r,e)},t.prototype.js=function(t){return JC.Vs(t)},t.prototype.ii=function(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(lg("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this.syncEngine.hi(a,s).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=jb();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),tS=function(){function t(){this.li=new XC,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new XC,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),eS=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),nS=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){lg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){lg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),rS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},iS=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),oS=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,Ft.ZT)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var a=new ig;a.listenOnce(tg.COMPLETE,function(){try{switch(a.getLastErrorCode()){case $m.NO_ERROR:var e=a.getResponseJson();lg("Connection","XHR received:",JSON.stringify(e)),i(e);break;case $m.TIMEOUT:lg("Connection",'RPC "'+t+'" timed out'),o(new sg(ag.DEADLINE_EXCEEDED,"Request time out"));break;case $m.HTTP_ERROR:var n=a.getStatus();if(lg("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(ag).indexOf(e)>=0?e:ag.UNKNOWN}(r.status);o(new sg(s,r.message))}else o(new sg(ag.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new sg(ag.UNAVAILABLE,"Connection failed."));break;default:pg()}}finally{lg("Connection",'RPC "'+t+'" completed.')}});var s=JSON.stringify(r);a.send(e,"POST",s,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Um,i=Hv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new ng({})),this.Fi(o.initMessageHeaders,e),(0,Zd.uI)()||(0,Zd.b$)()||(0,Zd.d)()||(0,Zd.w1)()||(0,Zd.Mn)()||(0,Zd.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");lg("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new iS({Ei:function(t){c?lg("Connection","Not sending because WebChannel is closed:",t):(u||(lg("Connection","Opening WebChannel transport."),s.open(),u=!0),lg("Connection","WebChannel sending:",t),s.send(t))},Ti:function(){return s.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(s,rg.EventType.OPEN,function(){c||lg("Connection","WebChannel transport opened.")}),h(s,rg.EventType.CLOSE,function(){c||(c=!0,lg("Connection","WebChannel transport closed"),l.Vi())}),h(s,rg.EventType.ERROR,function(t){c||(c=!0,fg("Connection","WebChannel transport errored:",t),l.Vi(new sg(ag.UNAVAILABLE,"The operation could not be completed")))}),h(s,rg.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];vg(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){lg("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=bb[t];if(void 0!==e)return Tb(e)}(i),a=r.message;void 0===o&&(o=ag.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new sg(o,a)),s.close()}else lg("Connection","WebChannel received:",n),l.Si(n)}}),h(i,eg.STAT_EVENT,function(t){10===t.stat?lg("Connection","Detected buffering proxy"):11===t.stat&&lg("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);lg("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return lg("RestConnection","Received: ",t),t},function(e){throw fg("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.8",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+rS[t]},t}());function aS(){return"undefined"!=typeof window?window:null}function sS(){return"undefined"!=typeof document?document:null}function uS(t){return new $b(t,!0)}var cS=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&lg("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),lS=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new cS(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===ag.RESOURCE_EXHAUSTED?(hg(e.toString()),hg("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===ag.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new sg(ag.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,Ft.mG)(t,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return lg("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(lg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),hS=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,Ft.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:pg()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(vg(void 0===e||"string"==typeof e),Og.fromBase64String(e||"")):(vg(void 0===e||e instanceof Uint8Array),Og.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?ag.UNKNOWN:Tb(t.code);return new sg(e,t.message||"")}(s);n=new Yb(r,i,o,a||null)}else if("documentChange"in e){i=sw(t,(r=e.documentChange).document.name),o=rw(r.document.updateTime);var s=new i_({mapValue:{fields:r.document.fields}}),u=(a=a_.newFoundDocument(i,o,s),r.targetIds||[]);n=new zb(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=sw(t,(r=e.documentDelete).document),o=r.readTime?rw(r.readTime):Cg.min(),s=a_.newNoDocument(i,o),n=new zb([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=sw(t,(r=e.documentRemove).document),n=new zb([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return pg();var c=e.filter;i=new Sb(r=c.count||0),n=new Hb(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Cg.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Cg.min():e.readTime?rw(e.readTime):Cg.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=lw(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=h_(r)?{documents:yw(t,r)}:{query:mw(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=ew(t,e.resumeToken):e.snapshotVersion.compareTo(Cg.min())>0&&(n.readTime=tw(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pg()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=lw(this.R),e.removeTarget=t,this.cr(e)},e}(lS),fS=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,Ft.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(vg(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(vg(void 0!==e),t.map(function(t){return function(t,e){var n=rw(t.updateTime?t.updateTime:e);return n.isEqual(Cg.min())&&(n=rw(e)),new ab(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=rw(t.commitTime);return this.listener.Tr(n,e)}return vg(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=lw(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return pw(e.R,t)})};this.cr(n)},e}(lS),dS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,Ft.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new sg(ag.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===ag.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new sg(ag.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===ag.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new sg(ag.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),pS=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(hg(e),this.Vr=!1):lg("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),vS=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,Ft.mG)(o,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){switch(t.label){case 0:return SS(this)?(lg("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return(e=yg(t)).Or.add(4),[4,mS(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,yS(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new pS(n,r)};function yS(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e,n;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:if(!SS(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function mS(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e,n;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function gS(t,e){var n=yg(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),CS(n)?kS(n):BS(n).er()&&bS(n,e))}function _S(t,e){var n=yg(t),r=BS(n);n.$r.delete(e),r.er()&&wS(n,e),0===n.$r.size&&(r.er()?r.ir():SS(n)&&n.Br.set("Unknown"))}function bS(t,e){t.qr.U(e.targetId),BS(t).mr(e)}function wS(t,e){t.qr.U(e),BS(t).yr(e)}function kS(t){t.qr=new Kb({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),BS(t).start(),t.Br.Sr()}function CS(t){return SS(t)&&!BS(t).tr()&&t.$r.size>0}function SS(t){return 0===yg(t).Or.size}function ES(t){t.qr=void 0}function TS(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){return t.$r.forEach(function(e,n){bS(t,e)}),[2]})})}function xS(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(n){return ES(t),CS(t)?(t.Br.Nr(e),kS(t)):t.Br.set("Unknown"),[2]})})}function IS(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i,o;return(0,Ft.Jh)(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof Yb&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,Ft.Jh)(this,function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.$r.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),lg("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,AS(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof zb?t.qr.X(e):e instanceof Hb?t.qr.rt(e):t.qr.et(e),n.isEqual(Cg.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,kC(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Og.EMPTY_BYTE_STRING,n.snapshotVersion)),wS(t,e);var r=new pk(n.target,e,1,n.sequenceNumber);bS(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return lg("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,AS(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function AS(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r=this;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:if(!ok(e))throw e;return t.Or.add(1),[4,mS(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return kC(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,Ft.mG)(r,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return lg("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,yS(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function DS(t,e){return e().catch(function(n){return AS(t,n,e)})}function RS(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e,n,r,i,o;return(0,Ft.Jh)(this,function(a){switch(a.label){case 0:e=yg(t),n=qS(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return SS(t)&&t.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,EC(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=qS(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,AS(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return OS(e)&&PS(e),[2]}})})}function OS(t){return SS(t)&&!qS(t).tr()&&t.kr.length>0}function PS(t){qS(t).start()}function NS(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){return qS(t).Ar(),[2]})})}function FS(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e,n,r;return(0,Ft.Jh)(this,function(i){for(e=qS(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function LS(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=dk.from(r,e,n),[4,DS(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,RS(t)];case 2:return o.sent(),[2]}})})}function MS(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return e&&qS(t).pr?[4,function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return Eb(r=e.code)&&r!==ag.ABORTED?(n=t.kr.shift(),qS(t).sr(),[4,DS(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,RS(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return OS(t)&&PS(t),[2]}})})}function VS(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return n=yg(t),e?(n.Or.delete(2),[4,yS(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,mS(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function BS(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=yg(t);return r.br(),new hS(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:TS.bind(null,t),Ri:xS.bind(null,t),_r:IS.bind(null,t)}),t.Mr.push(function(n){return(0,Ft.mG)(e,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),CS(t)?kS(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),ES(t),e.label=3;case 3:return[2]}})})})),t.Ur}function qS(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=yg(t);return r.br(),new fS(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:NS.bind(null,t),Ri:MS.bind(null,t),Ir:FS.bind(null,t),Tr:LS.bind(null,t)}),t.Mr.push(function(n){return(0,Ft.mG)(e,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,RS(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(lg("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var jS=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new $w,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sg(ag.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function US(t,e){if(hg("AsyncQueue",e+": "+t),ok(t))return new sg(ag.UNAVAILABLE,e+": "+t);throw t}var GS=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Gg.comparator(e.key,n.key)}:function(t,e){return Gg.comparator(t.key,e.key)},this.keyedMap=Fb(),this.sortedSet=new xb(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),zS=function(){function t(){this.Kr=new xb(Gg.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):pg():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),HS=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,GS.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&V_(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),YS=function(){this.Wr=void 0,this.listeners=[]},WS=function(){this.queries=new tC(function(t){return B_(t)},V_),this.onlineState="Unknown",this.Gr=new Set};function KS(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return(0,Ft.Jh)(this,function(c){switch(c.label){case 0:if(n=yg(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new YS),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=US(s,"Initialization of query '"+q_(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&XS(n),[2]}})})}function ZS(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,a;return(0,Ft.Jh)(this,function(s){return n=yg(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function QS(t,e){for(var n=yg(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&XS(n)}function JS(t,e,n){var r=yg(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function XS(t){t.Gr.forEach(function(t){t.next()})}var $S=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new HS(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=HS.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),tE=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),eE=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return sw(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?dw(this.R,t.document,!1):a_.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return rw(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new eE(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||Bb()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return[4,OC(this.localStore,new eE(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,PC(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new pC(Object.assign({},this.progress),t))]}})})}}();var nE=function(t){this.key=t},rE=function(t){this.key=t},iE=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Bb(),this.mutatedKeys=Bb(),this.lo=U_(t),this.fo=new GS(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new zS,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=D_(this.query)&&i.size===this.query.limit?i.last():null,c=R_(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=j_(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),D_(this.query)||R_(this.query))for(;a.size>this.query.limit;){var l=D_(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pg()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new HS(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new zS,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Bb(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new rE(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new nE(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Bb();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return HS.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),oE=function(t,e,n){this.query=t,this.targetId=e,this.view=n},aE=function(t){this.key=t,this.bo=!1},sE=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new tC(function(t){return B_(t)},V_),this.Vo=new Map,this.So=new Set,this.Do=new xb(Gg.comparator),this.Co=new Map,this.No=new FC,this.xo={},this.Fo=new Map,this.ko=Uk.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function uE(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,a;return(0,Ft.Jh)(this,function(s){switch(s.label){case 0:return n=ME(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,TC(n.localStore,L_(e))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,cE(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&gS(n.remoteStore,o),s.label=4;case 4:return[2,r]}})})}function cE(t,e,n,r){return(0,Ft.mG)(this,void 0,void 0,function(){var i,o,a,s,u,c;return(0,Ft.Jh)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,Ft.mG)(this,void 0,void 0,function(){var i,o,a;return(0,Ft.Jh)(this,function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,IC(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(kE(t,e.targetId,a.To),a.snapshot)]}})})}(t,e,n,r)},[4,IC(t.localStore,e,!0)];case 1:return i=l.sent(),o=new iE(e,i.Bn),a=o._o(i.documents),s=Gb.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),kE(t,n,u.To),c=new oE(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function lE(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return n=yg(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!V_(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,xC(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),_S(n.remoteStore,r.targetId),bE(n,r.targetId)}).catch(Wk)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return bE(n,r.targetId),[4,xC(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function hE(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i,o,a;return(0,Ft.Jh)(this,function(s){switch(s.label){case 0:r=VE(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=yg(t),i=kg.now(),o=e.reduce(function(t,e){return t.add(e.key)},Bb());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=fb(c,n.get(c.key));null!=l&&a.push(new yb(c.key,l,o_(l.value.mapValue),sb.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new xb(_g)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,EE(r,i.changes)];case 3:return s.sent(),[4,RS(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=US(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function fE(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:n=yg(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,CC(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(vg(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?vg(r.bo):t.removedDocuments.size>0&&(vg(r.bo),r.bo=!1))}),[4,EE(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Wk(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function dE(t,e,n){var r=yg(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=yg(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&XS(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function pE(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i,o,a,s,u;return(0,Ft.Jh)(this,function(c){switch(c.label){case 0:return(r=yg(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new xb(Gg.comparator)).insert(o,a_.newNoDocument(o,Cg.min())),s=Bb().add(o),u=new Ub(Cg.min(),new Map,new Db(_g),a,s),[4,fE(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),SE(r),[3,4];case 2:return[4,xC(r.localStore,e,!1).then(function(){return bE(r,e,n)}).catch(Wk)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function vE(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:n=yg(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,wC(n.localStore,e)];case 2:return i=o.sent(),_E(n,r,null),gE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,EE(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Wk(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function yE(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:r=yg(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=yg(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return vg(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),_E(r,e,n),gE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,EE(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Wk(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function mE(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,a;return(0,Ft.Jh)(this,function(s){switch(s.label){case 0:SS((n=yg(t)).remoteStore)||lg("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=yg(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=US(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function gE(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function _E(t,e,n){var r=yg(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function bE(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||wE(t,e)})}function wE(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(_S(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),SE(t))}function kE(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof nE?(t.No.addReference(o.key,e),CE(t,o)):o instanceof rE?(lg("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||wE(t,o.key)):pg()}}function CE(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(lg("SyncEngine","New document in limbo: "+n),t.So.add(r),SE(t))}function SE(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Gg(Ig.fromString(e)),r=t.ko.next();t.Co.set(r,new aE(n)),t.Do=t.Do.insert(n,r),gS(t.remoteStore,new pk(L_(A_(n.path)),r,2,og.o))}}function EE(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i,o,a;return(0,Ft.Jh)(this,function(s){switch(s.label){case 0:return r=yg(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,s){a.push(r.Oo(s,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=yC.Pn(s.targetId,t);o.push(e)}}))}),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return(0,Ft.Jh)(this,function(l){switch(l.label){case 0:n=yg(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return tk.forEach(e,function(e){return tk.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return tk.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!ok(r=l.sent()))throw r;return lg("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Fn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(s,c));return[2]}})})}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function TE(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return(n=yg(t)).currentUser.isEqual(e)?[3,3]:(lg("SyncEngine","User change. New user:",e.toKey()),[4,bC(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new sg(ag.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,EE(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function xE(t,e){var n=yg(t),r=n.Co.get(e);if(r&&r.bo)return Bb().add(r.key);var i=Bb(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Po.get(s[a]);i=i.unionWith(u.view.wo)}return i}function IE(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return[4,IC((n=yg(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&kE(n,e.targetId,i.To),i)]}})})}function AE(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){return[2,DC((e=yg(t)).localStore).then(function(t){return EE(e,t)})]})})}function DE(t,e,n,r){return(0,Ft.mG)(this,void 0,void 0,function(){var i,o;return(0,Ft.Jh)(this,function(a){switch(a.label){case 0:return[4,function(t,e){var n=yg(t),r=yg(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):tk.resolve(null)})})}((i=yg(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,RS(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(_E(i,e,r||null),gE(i,e),function(t,e){yg(yg(t)._n).Gt(e)}(i.localStore,e)):pg(),a.label=4;case 4:return[4,EE(i,o)];case 5:return a.sent(),[3,7];case 6:lg("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function RE(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return(0,Ft.Jh)(this,function(c){switch(c.label){case 0:return ME(n=yg(t)),VE(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,OE(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,VS(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)gS(n.remoteStore,a[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(s=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?s.push(e):u=u.then(function(){return bE(n,e),xC(n.localStore,e,!0)}),_S(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,OE(n,s)];case 5:return c.sent(),function(t){var e=yg(t);e.Co.forEach(function(t,n){_S(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new xb(Gg.comparator)}(n),n.$o=!1,[4,VS(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function OE(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return(0,Ft.Jh)(this,function(v){switch(v.label){case 0:n=yg(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.Vo.get(s=a[o]))&&0!==c.length?[4,TC(n.localStore,L_(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,IE(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,AC(n.localStore,s)];case 8:return p=v.sent(),[4,TC(n.localStore,p)];case 9:return u=v.sent(),[4,cE(n,PE(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function PE(t){return I_(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function NE(t){var e=yg(t);return yg(yg(e.localStore).persistence).fn()}function FE(t,e,n,r){return(0,Ft.mG)(this,void 0,void 0,function(){var i,o,a;return(0,Ft.Jh)(this,function(s){switch(s.label){case 0:return(i=yg(t)).$o?(lg("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,DC(i.localStore)];case 3:return o=s.sent(),a=Ub.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,EE(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,xC(i.localStore,e,!0)];case 6:return s.sent(),bE(i,e,r),[3,8];case 7:pg(),s.label=8;case 8:return[2]}})})}function LE(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l,h;return(0,Ft.Jh)(this,function(f){switch(f.label){case 0:if(!(r=ME(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(a=o[i])?(lg("SyncEngine","Adding an already active target "+a),[3,5]):[4,AC(r.localStore,a)]:[3,6];case 2:return s=f.sent(),[4,TC(r.localStore,s)];case 3:return u=f.sent(),[4,cE(r,PE(s),u.targetId,!1)];case 4:f.sent(),gS(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,xC(r.localStore,t,!1).then(function(){_S(r.remoteStore,t),bE(r,t)}).catch(Wk)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function ME(t){var e=yg(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pE.bind(null,e),e.vo._r=QS.bind(null,e.eventManager),e.vo.Mo=JS.bind(null,e.eventManager),e}function VE(t){var e=yg(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yE.bind(null,e),e}var BE=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return this.R=uS(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return _C(this.persistence,new mC,t.initialUser,this.R)},t.prototype.qo=function(t){return new jC(GC.bs,this.R)},t.prototype.Bo=function(t){return new tS},t.prototype.terminate=function(){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),qE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,Ft.ZT)(e,t),e.prototype.initialize=function(e){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,RC(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,VE(this.Ko.syncEngine)];case 4:return n.sent(),[4,RS(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return _C(this.persistence,new mC,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Qk(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=dC(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Nk.withCacheSize(this.cacheSizeBytes):Nk.DEFAULT;return new lC(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,aS(),sS(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new tS},e}(BE),jE=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,Ft.ZT)(e,t),e.prototype.initialize=function(e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r=this;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof $C?(this.sharedClientState.syncEngine={ui:DE.bind(null,n),ai:FE.bind(null,n),hi:LE.bind(null,n),fn:NE.bind(null,n),ci:AE.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return(0,Ft.mG)(r,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return[4,RE(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=aS();if(!$C.yt(e))throw new sg(ag.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=dC(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new $C(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(qE),UE=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n=this;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return dE(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=TE.bind(null,this.syncEngine),[4,VS(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new WS},t.prototype.createDatastore=function(t){var e=uS(t.databaseInfo.databaseId),n=new oS(t.databaseInfo);return function(t,e,n){return new dS(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return dE(a.syncEngine,t,0)},o=nS.yt()?new nS:new eS,new vS(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new sE(t,e,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return e=yg(t),lg("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,mS(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),GE=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),zE=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new $w,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e,n,r;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new tE(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e,n=this;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new sg(ag.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i,o,a,s;return(0,Ft.Jh)(this,function(u){switch(u.label){case 0:return n=yg(t),r=lw(n.R)+"/documents",i={documents:e.map(function(t){return aw(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){vg(!!e.found);var n=sw(t,e.found.name),r=rw(e.found.updateTime),i=new i_({mapValue:{fields:e.found.fields}});return a_.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){vg(!!e.missing),vg(!!e.readTime);var n=sw(t,e.missing),r=rw(e.readTime);return a_.newNoDocument(n,r)}(t,e):pg()}(n.R,t);a.set(e.key.toString(),e)}),s=[],[2,(e.forEach(function(t){var e=a.get(t.toString());vg(!!e),s.push(e)}),s)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new kb(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Gg.fromPath(n);e.mutations.push(new Cb(r,e.precondition(r)))}),[4,function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return n=yg(t),r=lw(n.R)+"/documents",i={writes:e.map(function(t){return pw(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw pg();e=Cg.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new sg(ag.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?sb.updateTime(e):sb.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Cg.min()))throw new sg(ag.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sb.updateTime(e)}return sb.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),HE=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new cS(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,Ft.mG)(t,void 0,void 0,function(){var t,e,n=this;return(0,Ft.Jh)(this,function(r){return t=new zE(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!qg(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Eb(e)}return!1},t}(),YE=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=zC.UNAUTHENTICATED,this.clientId=gg.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return(0,Ft.mG)(r,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return lg("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new sg(ag.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new $w;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Ft.mG)(t,void 0,void 0,function(){var t,n;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=US(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function WE(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r,i=this;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),lg("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return(0,Ft.mG)(i,void 0,void 0,function(){return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,bC(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function KE(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,ZE(t)];case 1:return n=i.sent(),lg("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return(0,Ft.mG)(this,void 0,void 0,function(){var n,r;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return(n=yg(t)).asyncQueue.verifyOperationInProgress(),lg("RemoteStore","RemoteStore received new credentials"),r=SS(n),n.Or.add(3),[4,mS(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,yS(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function ZE(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(lg("FirestoreClient","Using default OfflineComponentProvider"),[4,WE(t,new BE)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function QE(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(lg("FirestoreClient","Using default OnlineComponentProvider"),[4,KE(t,new UE)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function JE(t){return ZE(t).then(function(t){return t.persistence})}function XE(t){return ZE(t).then(function(t){return t.localStore})}function $E(t){return QE(t).then(function(t){return t.remoteStore})}function tT(t){return QE(t).then(function(t){return t.syncEngine})}function eT(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e,n;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return[4,QE(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=uE.bind(null,e.syncEngine),n.onUnlisten=lE.bind(null,e.syncEngine),n)]}})})}function nT(t,e,n){var r=this;void 0===n&&(n={});var i=new $w;return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(r,void 0,void 0,function(){var r;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new GE({next:function(o){e.enqueueAndForget(function(){return ZS(t,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new sg(ag.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new sg(ag.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new $S(A_(n.path),o,{includeMetadataChanges:!0,so:!0});return KS(t,a)},[4,eT(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function rT(t,e,n){var r=this;void 0===n&&(n={});var i=new $w;return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(r,void 0,void 0,function(){var r;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new GE({next:function(n){e.enqueueAndForget(function(){return ZS(t,a)}),n.fromCache&&"server"===r.source?i.reject(new sg(ag.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new $S(n,o,{includeMetadataChanges:!0,so:!0});return KS(t,a)},[4,eT(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var iT=function(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},oT=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),aT=new Map,sT=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},uT=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(zC.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),cT=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),lT=function(){function t(t){var e=this;this.currentUser=zC.UNAUTHENTICATED,this.oc=new $w,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){lg("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(lg("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(lg("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(vg("string"==typeof n.accessToken),new sT(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,Ft.mG)(n,void 0,void 0,function(){return(0,Ft.Jh)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return vg(null===t||"string"==typeof t),new zC(t)},t}(),hT=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=zC.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),fT=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new hT(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(zC.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function dT(t,e,n){if(!n)throw new sg(ag.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function pT(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new sg(ag.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function vT(t,e,n,r){if(!0===e&&!0===r)throw new sg(ag.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function yT(t){if(!Gg.isDocumentKey(t))throw new sg(ag.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function mT(t){if(Gg.isDocumentKey(t))throw new sg(ag.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function gT(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":pg()}function _T(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new sg(ag.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=gT(t);throw new sg(ag.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function bT(t,e){if(e<=0)throw new sg(ag.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var wT=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new sg(ag.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new sg(ag.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,vT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),kT=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wT({}),this._settingsFrozen=!1,t instanceof oT?(this._databaseId=t,this._credentials=new uT):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new sg(ag.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oT(t.options.projectId)}(t),this._credentials=new lT(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new sg(ag.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new sg(ag.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wT(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new uT;switch(t.type){case"gapi":var e=t.client;return vg(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new fT(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new sg(ag.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=aT.get(this))&&(lg("ComponentProvider","Removing Datastore"),aT.delete(this),t.terminate()),Promise.resolve();var t},t}(),CT=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ET(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),ST=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),ET=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,A_(r))||this)._path=r,i.type="collection",i}return(0,Ft.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new CT(this.firestore,null,new Gg(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(ST);function TT(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,Zd.m9)(t),dT("collection","path",e),t instanceof kT)return mT(n=Ig.fromString.apply(Ig,(0,Ft.ev)([e],r))),new ET(t,null,n);if(!(t instanceof CT||t instanceof ET))throw new sg(ag.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return mT(n=Ig.fromString.apply(Ig,(0,Ft.ev)([t.path],r)).child(Ig.fromString(e))),new ET(t.firestore,null,n)}function xT(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,Zd.m9)(t),1===arguments.length&&(e=gg.u()),dT("doc","path",e),t instanceof kT)return yT(n=Ig.fromString.apply(Ig,(0,Ft.ev)([e],r))),new CT(t,null,new Gg(n));if(!(t instanceof CT||t instanceof ET))throw new sg(ag.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return yT(n=t._path.child(Ig.fromString.apply(Ig,(0,Ft.ev)([e],r)))),new CT(t.firestore,t instanceof ET?t.converter:null,new Gg(n))}function IT(t,e){return t=(0,Zd.m9)(t),e=(0,Zd.m9)(e),(t instanceof CT||t instanceof ET)&&(e instanceof CT||e instanceof ET)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function AT(t,e){return t=(0,Zd.m9)(t),e=(0,Zd.m9)(e),t instanceof ST&&e instanceof ST&&t.firestore===e.firestore&&V_(t._query,e._query)&&t.converter===e.converter}var DT=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new cS(this,"async_queue_retry"),this.Tc=function(){var e=sS();e&&lg("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=sS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ic(),this.Ac(t)},t.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var t=sS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Tc)}},t.prototype.enqueue=function(t){return this.Ic(),this._c?new Promise(function(t){}):this.Ac(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.Rc()})},t.prototype.Rc=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ok(t=n.sent()))throw t;return lg("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.Rc()}),n.label=5;case 5:return[2]}})})},t.prototype.Ac=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,hg("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ic(),this.Ec.indexOf(t)>-1&&(e=0);var i=jS.createAndSchedule(this,t,e,n,function(t){return r.bc(t)});return this.mc.push(i),i},t.prototype.Ic=function(){this.yc&&pg()},t.prototype.verifyOperationInProgress=function(){},t.prototype.vc=function(){return(0,Ft.mG)(this,void 0,void 0,function(){var t;return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Pc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Vc=function(t){var e=this;return this.vc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.vc()})},t.prototype.Sc=function(t){this.Ec.push(t)},t.prototype.bc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function RT(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new $w,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var OT=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new DT,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,Ft.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||NT(this),this._firestoreClient.terminate()},e}(kT);function PT(t){return t._firestoreClient||NT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function NT(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new iT(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new YE(t._credentials,t._queue,r)}function FT(t,e,n){var r=this,i=new $w;return t.asyncQueue.enqueue(function(){return(0,Ft.mG)(r,void 0,void 0,function(){var r;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,WE(t,n)];case 1:return o.sent(),[4,KE(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===ag.FAILED_PRECONDITION||t.code===ag.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function LT(t){if(t._initialized||t._terminated)throw new sg(ag.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var MT=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new sg(ag.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dg(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),VT=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Og.fromBase64String(e))}catch(e){throw new sg(ag.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Og.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),BT=function(t){this._methodName=t},qT=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new sg(ag.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new sg(ag.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return _g(this._lat,t._lat)||_g(this._long,t._long)},t}(),jT=/^__.*__$/,UT=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new yb(t,this.data,this.fieldMask,e,this.fieldTransforms):new vb(t,this.data,e,this.fieldTransforms)},t}(),GT=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new yb(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function zT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pg()}}var HT=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),t.prototype.Nc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.xc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.kc(t),r},t.prototype.$c=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},t.prototype.Oc=function(t){return this.Nc({path:void 0,Fc:!0})},t.prototype.Mc=function(t){return hx(t,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Dc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.kc(this.path.get(t))},t.prototype.kc=function(t){if(0===t.length)throw this.Mc("Document fields must not be empty");if(zT(this.Cc)&&jT.test(t))throw this.Mc('Document fields cannot begin and end with "__"')},t}(),YT=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||uS(t)}return t.prototype.qc=function(t,e,n,r){return void 0===r&&(r=!1),new HT({Cc:t,methodName:e,Bc:n,path:Dg.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function WT(t){var e=t._freezeSettings(),n=uS(t._databaseId);return new YT(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KT(t,e,n,r,i,o){void 0===o&&(o={});var a=t.qc(o.merge||o.mergeFields?2:0,e,n,i);sx("Data must be an object, but it was:",a,r);var s,u,c=ox(r,a);if(o.merge)s=new Rg(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=ux(e,f[h],n);if(!a.contains(d))throw new sg(ag.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");fx(l,d)||l.push(d)}s=new Rg(l),u=a.fieldTransforms.filter(function(t){return s.covers(t.field)})}else s=null,u=a.fieldTransforms;return new UT(new i_(c),s,u)}var ZT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Cc)throw t.Mc(1===t.Cc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(BT);function QT(t,e,n){return new HT({Cc:3,Bc:e.settings.Bc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var JT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new ob(t.path,new J_)},e.prototype.isEqual=function(t){return t instanceof e},e}(BT),XT=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return(0,Ft.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=QT(this,t,!0),n=this.Uc.map(function(t){return ix(t,e)}),r=new X_(n);return new ob(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(BT),$T=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return(0,Ft.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=QT(this,t,!0),n=this.Uc.map(function(t){return ix(t,e)}),r=new tb(n);return new ob(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(BT),tx=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return(0,Ft.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new nb(t.R,Y_(t.R,this.Qc));return new ob(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(BT);function ex(t,e,n,r){var i=t.qc(1,e,n);sx("Data must be an object, but it was:",i,r);var o=[],a=i_.empty();Eg(r,function(t,r){var s=lx(e,t,n);r=(0,Zd.m9)(r);var u=i.$c(s);if(r instanceof ZT)o.push(s);else{var c=ix(r,u);null!=c&&(o.push(s),a.set(s,c))}});var s=new Rg(o);return new GT(a,s,i.fieldTransforms)}function nx(t,e,n,r,i,o){var a=t.qc(1,e,n),s=[ux(e,r,n)],u=[i];if(o.length%2!=0)throw new sg(ag.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(ux(e,o[c])),u.push(o[c+1]);for(var l=[],h=i_.empty(),f=s.length-1;f>=0;--f)if(!fx(l,s[f])){var d=s[f],p=u[f];p=(0,Zd.m9)(p);var v=a.$c(d);if(p instanceof ZT)l.push(d);else{var y=ix(p,v);null!=y&&(l.push(d),h.set(d,y))}}var m=new Rg(l);return new GT(h,m,a.fieldTransforms)}function rx(t,e,n,r){return void 0===r&&(r=!1),ix(n,t.qc(r?4:3,e))}function ix(t,e){if(ax(t=(0,Zd.m9)(t)))return sx("Unsupported field value:",e,t),ox(t,e);if(t instanceof BT)return function(t,e){if(!zT(e.Cc))throw e.Mc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Mc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Cc)throw e.Mc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=ix(o[i],e.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,Zd.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Y_(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=kg.fromDate(t);return{timestampValue:tw(e.R,n)}}if(t instanceof kg)return n=new kg(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:tw(e.R,n)};if(t instanceof qT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof VT)return{bytesValue:ew(e.R,t._byteString)};if(t instanceof CT){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:iw(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Mc("Unsupported field value: "+gT(t))}(t,e)}function ox(t,e){var n={};return Tg(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Eg(t,function(t,r){var i=ix(r,e.xc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function ax(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof kg||t instanceof qT||t instanceof VT||t instanceof CT||t instanceof BT)}function sx(t,e,n){if(!ax(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=gT(n);throw e.Mc("an object"===r?t+" a custom object":t+" "+r)}}function ux(t,e,n){if((e=(0,Zd.m9)(e))instanceof MT)return e._internalPath;if("string"==typeof e)return lx(t,e);throw hx("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var cx=new RegExp("[~\\*/\\[\\]]");function lx(t,e,n){if(e.search(cx)>=0)throw hx("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(MT.bind.apply(MT,(0,Ft.ev)([void 0],e.split(".")))))._internalPath}catch(dp){throw hx("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function hx(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new sg(ag.INVALID_ARGUMENT,(s+=". ")+t+u)}function fx(t,e){return t.some(function(t){return t.isEqual(e)})}var dx=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new CT(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new px(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(vx("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),px=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(dx);function vx(t,e){return"string"==typeof e?lx(t,e):e instanceof MT?e._internalPath:e._delegate._internalPath}var yx=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),mx=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return(0,Ft.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new gx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(vx("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(dx),gx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(mx),_x=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new yx(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new gx(n._firestore,n._userDataWriter,r.key,r,new yx(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new sg(ag.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new gx(t._firestore,t._userDataWriter,e.doc.key,e.doc,new yx(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new gx(t._firestore,t._userDataWriter,e.doc.key,e.doc,new yx(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:bx(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function bx(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pg()}}function wx(t,e){return t instanceof mx&&e instanceof mx?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof _x&&e instanceof _x&&t._firestore===e._firestore&&AT(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function kx(t){if(R_(t)&&0===t.explicitOrderBy.length)throw new sg(ag.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Cx=function(){};function Sx(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Ex=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Kc=e,i.jc=n,i.Wc=r,i.type="where",i}return(0,Ft.ZT)(e,t),e.prototype._apply=function(t){var e=WT(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new sg(ag.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Ox(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(Rx(r,t,l[c]));s={arrayValue:{values:u}}}else s=Rx(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ox(a,o),s=rx(n,"where",a,"in"===o||"not-in"===o);var h=f_.create(i,o,s);return function(t,e){if(e.g()){var n=P_(t);if(null!==n&&!n.isEqual(e.field))throw new sg(ag.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=O_(t);null!==r&&Px(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new sg(ag.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Kc,this.jc,this.Wc);return new ST(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new x_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Cx),Tx=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kc=e,r.Gc=n,r.type="orderBy",r}return(0,Ft.ZT)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new sg(ag.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new sg(ag.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new C_(e,n);return function(t,e){if(null===O_(t)){var n=P_(t);null!==n&&Px(0,n,e.field)}}(t,r),r}(t._query,this.Kc,this.Gc);return new ST(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new x_(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Cx),xx=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return(0,Ft.ZT)(e,t),e.prototype._apply=function(t){return new ST(t.firestore,t.converter,M_(t._query,this.zc,this.Hc))},e}(Cx),Ix=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return(0,Ft.ZT)(e,t),e.prototype._apply=function(t){var e=Dx(t,this.type,this.Jc,this.Yc);return new ST(t.firestore,t.converter,function(t,e){return new x_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Cx),Ax=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return(0,Ft.ZT)(e,t),e.prototype._apply=function(t){var e=Dx(t,this.type,this.Jc,this.Yc);return new ST(t.firestore,t.converter,function(t,e){return new x_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Cx);function Dx(t,e,n,r){if(n[0]=(0,Zd.m9)(n[0]),n[0]instanceof dx)return function(t,e,n,r,i){if(!r)throw new sg(ag.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=F_(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Jg(e,r.key));else{var c=r.data.field(u.field);if(Mg(c))throw new sg(ag.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new sg(ag.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new w_(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=WT(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new sg(ag.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new sg(ag.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!N_(t)&&-1!==c.indexOf("/"))throw new sg(ag.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Ig.fromString(c));if(!Gg.isDocumentKey(l))throw new sg(ag.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Gg(l);s.push(Jg(e,h))}else{var f=rx(n,r,c);s.push(f)}}return new w_(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Rx(t,e,n){if("string"==typeof(n=(0,Zd.m9)(n))){if(""===n)throw new sg(ag.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!N_(e)&&-1!==n.indexOf("/"))throw new sg(ag.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ig.fromString(n));if(!Gg.isDocumentKey(r))throw new sg(ag.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Jg(t,new Gg(r))}if(n instanceof CT)return Jg(t,n._key);throw new sg(ag.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+gT(n)+".")}function Ox(t,e){if(!Array.isArray(t)||0===t.length)throw new sg(ag.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new sg(ag.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Px(t,e,n){if(!n.isEqual(e))throw new sg(ag.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Nx=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),zg(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Fg(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Lg(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw pg()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Eg(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new qT(Fg(t.latitude),Fg(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Vg(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Bg(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Ng(t);return new kg(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Ig.fromString(t);vg(Aw(n));var r=new oT(n.get(1),n.get(3)),i=new Gg(n.popFirst(5));return r.isEqual(e)||hg("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Fx(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Lx=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Ft.ZT)(e,t),e.prototype.convertBytes=function(t){return new VT(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new CT(this.firestore,null,e)},e}(Nx),Mx=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=WT(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Vx(t,this._firestore),i=Fx(r.converter,e,n),o=KT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,sb.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Vx(t,this._firestore);return o="string"==typeof(e=(0,Zd.m9)(e))||e instanceof MT?nx(this._dataReader,"WriteBatch.update",a._key,e,n,r):ex(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,sb.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Vx(t,this._firestore);return this._mutations=this._mutations.concat(new kb(e._key,sb.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new sg(ag.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Vx(t,e){if((t=(0,Zd.m9)(t)).firestore!==e)throw new sg(ag.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Bx=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Ft.ZT)(e,t),e.prototype.convertBytes=function(t){return new VT(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new CT(this.firestore,null,e)},e}(Nx);function qx(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=_T(t,CT);var o=_T(t.firestore,OT),a=WT(o);return Ux(o,[("string"==typeof(e=(0,Zd.m9)(e))||e instanceof MT?nx(a,"updateDoc",t._key,e,n,r):ex(a,"updateDoc",t._key,e)).toMutation(t._key,sb.exists(!0))])}function jx(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=(0,Zd.m9)(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||RT(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(RT(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof CT)c=_T(t.firestore,OT),l=A_(t._key.path),u={next:function(e){i[s]&&i[s](Gx(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=_T(t,ST);c=_T(d.firestore,OT),l=d._query;var p=new Bx(c);u={next:function(t){i[s]&&i[s](new _x(c,p,d,t))},error:i[s+1],complete:i[s+2]},kx(t._query)}return function(t,e,n,r){var i=this,o=new GE(r),a=new $S(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(i,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return e=KS,[4,eT(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(i,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return e=ZS,[4,eT(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})})}}(PT(c),l,h,u)}function Ux(t,e){return function(t,e){var n=this,r=new $w;return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(n,void 0,void 0,function(){var n;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return n=hE,[4,tT(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(PT(t),e)}function Gx(t,e,n){var r=n.docs.get(e._key),i=new Bx(t);return new mx(t,i,e._key,r,new yx(n.hasPendingWrites,n.fromCache),e.converter)}var zx=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,Ft.ZT)(e,t),e.prototype.get=function(e){var n=this,r=Vx(e,this._firestore),i=new Bx(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new mx(n._firestore,i,r._key,t._document,new yx(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=WT(t)}return t.prototype.get=function(t){var e=this,n=Vx(t,this._firestore),r=new Lx(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return pg();var i=t[0];if(i.isFoundDocument())return new dx(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new dx(e._firestore,r,n._key,null,n.converter);throw pg()})},t.prototype.set=function(t,e,n){var r=Vx(t,this._firestore),i=Fx(r.converter,e,n),o=KT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Vx(t,this._firestore);return o="string"==typeof(e=(0,Zd.m9)(e))||e instanceof MT?nx(this._dataReader,"Transaction.update",a._key,e,n,r):ex(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=Vx(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Hx(){if("undefined"==typeof Uint8Array)throw new sg(ag.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Yx(){if("undefined"==typeof atob)throw new sg(ag.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Wx=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Yx(),new t(VT.fromBase64String(e))},t.fromUint8Array=function(e){return Hx(),new t(VT.fromUint8Array(e))},t.prototype.toBase64=function(){return Yx(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Hx(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Kx=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){LT(t=_T(t,OT));var n=PT(t),r=t._freezeSettings(),i=new UE;return FT(n,i,new qE(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){LT(t=_T(t,OT));var e=PT(t),n=t._freezeSettings(),r=new UE;return FT(e,r,new jE(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new sg(ag.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new $w;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Ft.mG)(e,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,Ft.mG)(this,void 0,void 0,function(){return(0,Ft.Jh)(this,function(e){switch(e.label){case 0:return nk.yt()?[4,nk.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(dC(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Zx=function(){function t(t,e,n){var r=this;this._delegate=e,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof oT||(this.Zc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||fg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=_T(t,kT))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&fg("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=(0,Zd.Sg)(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new sg(ag.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new cT(new sT(o,new zC(a)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Ft.mG)(e,void 0,void 0,function(){var e,n;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return[4,JE(t)];case 1:return e=r.sent(),[4,$E(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=yg(t);return e.Or.delete(0),yS(e)}(n))]}})})})}(PT(_T(this._delegate,OT)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Ft.mG)(e,void 0,void 0,function(){var e,n;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return[4,JE(t)];case 1:return e=r.sent(),[4,$E(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,Ft.mG)(this,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return(e=yg(t)).Or.add(0),[4,mS(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(PT(_T(this._delegate,OT)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&vT("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new $w;return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(e,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(r){switch(r.label){case 0:return e=mE,[4,tT(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(PT(_T(this._delegate,OT)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new GE(e);return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(n,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){yg(t).Gr.add(e),e.next()},[4,eT(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(n,void 0,void 0,function(){var e;return(0,Ft.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){yg(t).Gr.delete(e)},[4,eT(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(PT(t=_T(t,OT)),RT(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Zc)throw new sg(ag.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new cI(this,TT(this._delegate,t))}catch(t){throw eI(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new tI(this,xT(this._delegate,t))}catch(t){throw eI(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new aI(this,function(t,e){if(t=_T(t,kT),dT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new sg(ag.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ST(t,null,function(t){return new x_(Ig.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw eI(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new $w;return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(n,void 0,void 0,function(){var n;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return[4,function(t){return QE(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new HE(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(PT(t),function(n){return e(new zx(t,n))})}(this._delegate,function(n){return t(new Jx(e,n))})},t.prototype.batch=function(){var t=this;return PT(this._delegate),new Xx(new Mx(this._delegate,function(e){return Ux(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new sg(ag.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new sg(ag.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Qx=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Ft.ZT)(e,t),e.prototype.convertBytes=function(t){return new Wx(new VT(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return tI.tu(e,this.firestore,null)},e}(Nx),Jx=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Qx(t)}return t.prototype.get=function(t){var e=this,n=lI(t);return this._delegate.get(n).then(function(t){return new iI(e._firestore,new mx(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=lI(t);return n?(pT("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=lI(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,(0,Ft.ev)([a,e,n],i)),this},t.prototype.delete=function(t){var e=lI(t);return this._delegate.delete(e),this},t}(),Xx=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=lI(t);return n?(pT("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=lI(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,(0,Ft.ev)([a,e,n],i)),this},t.prototype.delete=function(t){var e=lI(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),$x=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new gx(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new oI(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.eu=function(e,n){var r=t.nu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Qx(e),n),i.set(n,o)),o},t}();$x.nu=new WeakMap;var tI=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Qx(t)}return t.su=function(e,n,r){if(e.length%2!=0)throw new sg(ag.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new CT(n._delegate,r,new Gg(e)))},t.tu=function(e,n,r){return new t(n,new CT(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new cI(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new cI(this.firestore,TT(this._delegate,t))}catch(t){throw eI(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,Zd.m9)(t))instanceof CT&&IT(this._delegate,t)},t.prototype.set=function(t,e){e=pT("DocumentReference.set",e);try{return function(t,e,n){t=_T(t,CT);var r=_T(t.firestore,OT),i=Fx(t.converter,e,n);return Ux(r,[KT(WT(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,sb.none())])}(this._delegate,t,e)}catch(t){throw eI(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?qx(this._delegate,t):qx.apply(void 0,(0,Ft.ev)([this._delegate,t,e],n))}catch(t){throw eI(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Ux(_T((t=this._delegate).firestore,OT),[new kb(t._key,sb.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=nI(e),i=rI(e,function(e){return new iI(t.firestore,new mx(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return jx(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=_T(t,CT);var e=_T(t.firestore,OT),n=PT(e),r=new Bx(e);return function(t,e){var n=this,r=new $w;return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(n,void 0,void 0,function(){var n;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i;return(0,Ft.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=yg(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new sg(ag.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=US(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,XE(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new mx(e,r,t._key,n,new yx(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=_T(t,CT);var e=_T(t.firestore,OT);return nT(PT(e),t._key,{source:"server"}).then(function(n){return Gx(e,t,n)})}(this._delegate):function(t){t=_T(t,CT);var e=_T(t.firestore,OT);return nT(PT(e),t._key).then(function(n){return Gx(e,t,n)})}(this._delegate)).then(function(t){return new iI(e.firestore,new mx(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?$x.eu(this.firestore,e):null))},t}();function eI(t,e,n){return t.message=t.message.replace(e,n),t}function nI(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!RT(r))return r}return{}}function rI(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=RT(t[0])?t[0]:RT(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var iI=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new tI(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return wx(this._delegate,t._delegate)},t}(),oI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ft.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(iI),aI=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Qx(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Sx(this._delegate,function(t,e,n){var r=e,i=vx("where",t);return new Ex(i,r,n)}(e,n,r)))}catch(e){throw eI(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Sx(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=vx("orderBy",t);return new Tx(r,n)}(e,n)))}catch(e){throw eI(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Sx(this._delegate,function(t){return bT("limit",t),new xx("limit",t,"F")}(e)))}catch(e){throw eI(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Sx(this._delegate,function(t){return bT("limitToLast",t),new xx("limitToLast",t,"L")}(e)))}catch(e){throw eI(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Sx(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ix("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw eI(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Sx(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ix("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw eI(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Sx(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ax("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw eI(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Sx(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ax("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw eI(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return AT(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=_T(t,ST);var e=_T(t.firestore,OT),n=PT(e),r=new Bx(e);return function(t,e){var n=this,r=new $w;return t.asyncQueue.enqueueAndForget(function(){return(0,Ft.mG)(n,void 0,void 0,function(){var n;return(0,Ft.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Ft.mG)(this,void 0,void 0,function(){var r,i,o,a,s;return(0,Ft.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,IC(t,e,!0)];case 1:return s=u.sent(),r=new iE(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=US(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,XE(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new _x(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=_T(t,ST);var e=_T(t.firestore,OT),n=PT(e),r=new Bx(e);return rT(n,t._query,{source:"server"}).then(function(n){return new _x(e,r,t,n)})}(this._delegate):function(t){t=_T(t,ST);var e=_T(t.firestore,OT),n=PT(e),r=new Bx(e);return kx(t._query),rT(n,t._query).then(function(n){return new _x(e,r,t,n)})}(this._delegate)).then(function(t){return new uI(e.firestore,new _x(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=nI(e),i=rI(e,function(e){return new uI(t.firestore,new _x(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return jx(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?$x.eu(this.firestore,e):null))},t}(),sI=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new oI(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),uI=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new aI(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new oI(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new sI(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new oI(n._firestore,r))})},t.prototype.isEqual=function(t){return wx(this._delegate,t._delegate)},t}(),cI=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,Ft.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new tI(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new tI(this.firestore,void 0===t?xT(this._delegate):xT(this._delegate,t))}catch(t){throw eI(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=_T(t.firestore,OT),r=xT(t),i=Fx(t.converter,e);return Ux(n,[KT(WT(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,sb.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new tI(e.firestore,t)})},e.prototype.isEqual=function(t){return IT(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?$x.eu(this.firestore,t):null))},e}(aI);function lI(t){return _T(t,CT)}var hI,fI=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(MT.bind.apply(MT,(0,Ft.ev)([void 0],t)))}return t.documentId=function(){return new t(Dg.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,Zd.m9)(t))instanceof MT&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),dI=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new JT("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new ZT("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new XT("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $T("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new tx("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),pI=a(6034),vI={Firestore:Zx,GeoPoint:qT,Timestamp:kg,Blob:Wx,Transaction:Jx,WriteBatch:Xx,DocumentReference:tI,DocumentSnapshot:iI,Query:aI,QueryDocumentSnapshot:oI,QuerySnapshot:uI,CollectionReference:cI,FieldPath:fI,FieldValue:dI,setLogLevel:function(t){ug.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function yI(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:He.z;return new Ut.y(function(n){var r;return null!=e?e.schedule(function(){r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}})}(t,e)}function mI(t,e){return yI(t,e).pipe((0,ge.U)(function(t){return{payload:t,type:"query"}}))}function gI(t,n){return mI(t,n).pipe(nn(void 0),rn(),(0,ge.U)(function(t){var n=e(t,2),r=n[0],i=n[1],o=i.payload.docChanges(),a=o.map(function(t){return{type:t.type,payload:t}});return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach(function(t,e){var n=o.find(function(e){return e.doc.ref.isEqual(t.ref)}),i=null==r?void 0:r.payload.docs.find(function(e){return e.ref.isEqual(t.ref)});n&&JSON.stringify(n.doc.metadata)===JSON.stringify(t.metadata)||!n&&i&&JSON.stringify(i.metadata)===JSON.stringify(t.metadata)||a.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})}),a}))}function _I(t,e,n){return gI(t,n).pipe(bh(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return bI(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return bI(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return bI(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(function(t){return t.payload}),e)},[]),Ge(),(0,ge.U)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}function bI(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[e,n].concat(o)),r}function wI(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new pI.wA("firestore",function(t){return function(t,e){return new Zx(t,new OT(t,e),new Kx)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},vI)))})(hI=Kd.Z),hI.registerVersion("@firebase/firestore","2.3.7");var kI=function(){function n(t,e,r){f(this,n),this.ref=t,this.query=e,this.afs=r}return h(n,[{key:"stateChanges",value:function(t){var n=gI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(n=n.pipe((0,ge.U)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}))),n.pipe(nn(void 0),rn(),Qe(function(t){var n=e(t,2),r=n[0];return n[1].length>0||!r}),(0,ge.U)(function(t){var n=e(t,2);n[0];return n[1]}),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(bh(function(t,e){return[].concat(o(t),o(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=wI(t);return _I(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return mI(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(Object.assign({},n.data()),t({},e.idField,n.id)):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return(0,Ye.Dp)(this.query.get(t)).pipe((0,kh.Q)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new CI(this.ref.doc(t),this.afs)}}]),n}(),CI=function(){function n(t,e){f(this,n),this.ref=t,this.afs=e}return h(n,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=AI(this.ref.collection(t),e),r=n.ref,i=n.query;return new kI(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return yI(this.ref,this.afs.schedulers.outsideAngular).pipe(nn(void 0),rn(),(0,ge.U)(function(t){var n=e(t,2),r=n[0],i=n[1];return i.exists?(null==r?void 0:r.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}})).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe((0,ge.U)(function(n){var r=n.payload;return e.idField?Object.assign(Object.assign({},r.data()),t({},e.idField,r.id)):r.data()}))}},{key:"get",value:function(t){return(0,Ye.Dp)(this.ref.get(t)).pipe((0,kh.Q)(this.afs.schedulers.insideAngular))}}]),n}(),SI=function(){function e(t,n){f(this,e),this.query=t,this.afs=n}return h(e,[{key:"stateChanges",value:function(t){return t&&0!==t.length?gI(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),Qe(function(t){return t.length>0}),this.afs.keepUnstableUntilFirst):gI(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(bh(function(t,e){return[].concat(o(t),o(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=wI(t);return _I(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return mI(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(t({},e.idField,n.id),n.data()):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return(0,Ye.Dp)(this.query.get(t)).pipe((0,kh.Q)(this.afs.schedulers.insideAngular))}}]),e}(),EI=new u.OlP("angularfire2.enableFirestorePersistence"),TI=new u.OlP("angularfire2.firestore.persistenceSettings"),xI=new u.OlP("angularfire2.firestore.settings"),II=new u.OlP("angularfire2.firestore.use-emulator");function AI(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var DI=function(){var t=function(){function t(n,r,i,a,s,u,c,l,h){f(this,t),this.schedulers=new wh.HU(u),this.keepUnstableUntilFirst=(0,wh.ss)(this.schedulers);var d=(0,wh.on)(n,u,r);!Sh.Z.auth&&h&&(0,wh.yq)();var p=l,v=e((0,wh.sI)("".concat(d.name,".firestore"),"AngularFirestore",d,function(){var t=u.runOutsideAngular(function(){return d.firestore()});if(a&&t.settings(a),p&&t.useEmulator.apply(t,o(p)),i&&!function(t){return"server"===t}(s)){return[t,u.runOutsideAngular(function(){try{return(0,Ye.Dp)(t.enablePersistence(c||void 0).then(function(){return!0},function(){return!1}))}catch(hI){return"undefined"!=typeof console&&console.warn(hI),Wt(!1)}})]}return[t,Wt(!1)]},[a,p,i]),2);this.firestore=v[0],this.persistenceEnabled$=v[1]}return h(t,[{key:"collection",value:function(t,e){var n=AI("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run(function(){return r});return new kI(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new SI(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run(function(){return e});return new CI(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(wh.Dh),u.LFG(wh.xv,8),u.LFG(EI,8),u.LFG(xI,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(TI,8),u.LFG(II,8),u.LFG(Ch,8))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(wh.Dh),u.LFG(wh.xv,8),u.LFG(EI,8),u.LFG(xI,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(TI,8),u.LFG(II,8),u.LFG(Ch,8))},token:t,providedIn:"any"}),t}(),RI=function(){var t=function(){function t(){f(this,t)}return h(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:EI,useValue:!0},{provide:TI,useValue:e}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[DI]}),t}(),OI={apiKey:"AIzaSyDPenDaqfS-hY5T0ePEjalMDpEOXEdaxUw",authDomain:"maya-db-c3999.firebaseapp.com",databaseURL:"https://maya-db-c3999-default-rtdb.firebaseio.com",projectId:"maya-db-c3999",storageBucket:"maya-db-c3999.appspot.com",messagingSenderId:"307850267703",appId:"1:307850267703:web:28c215172ee4b7326143b2"},PI=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[it,Wd,wc,kc,wh.hO.initializeApp(OI),RI]]}),t}(),NI=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t,bootstrap:[cf]}),t.\u0275inj=u.cJS({providers:[qh],imports:[[Nt,PI,Qo,mh,wc,kc,Wd]]}),t}();(0,u.G48)(),Ot().bootstrapModule(NI).catch(function(t){return console.error(t)})},9162:function(t,e,n){"use strict";n.d(e,{ZT:function(){return i},mG:function(){return o},Jh:function(){return a},XA:function(){return s},CR:function(){return u},ev:function(){return c},qq:function(){return l},FC:function(){return h},KL:function(){return f}});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function s(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function c(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}function l(t){return this instanceof l?(this.v=t,this):new l(t)}function h(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof l?Promise.resolve(n.value.v).then(u,c):h(o[0][2],n)}catch(r){h(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function f(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=s(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}},4762:function(t,e,n){"use strict";n.d(e,{ZT:function(){return i},pi:function(){return o},mG:function(){return a},Jh:function(){return s},XA:function(){return u},CR:function(){return c},ev:function(){return l}});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}}},function(t){"use strict";t(t.s=4250)}])}();