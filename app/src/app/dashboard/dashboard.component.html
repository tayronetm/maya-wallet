<div class="demo-button-container">
  <button mat-raised-button class="demo-button" (click)="openDialog()">
    Add data
  </button>
</div>
<div *ngIf="!dataSource.data.length" class="operation">
  <span > Você não possui operações cadastradas </span>
</div>

<table mat-table [dataSource]="dataSource" class="animate__bounce mat-elevation-z8 demo-table">
  <ng-container matColumnDef="asset">
    <th mat-header-cell *matHeaderCellDef>Ativo</th>
    <td mat-cell *matCellDef="let element">
      <img class="coin-img" [src]="getImage(element)" alt="">
      {{ element.asset }}</td>
  </ng-container>
  <ng-container matColumnDef="currentPrice">
    <th mat-header-cell *matHeaderCellDef>Preço Atual</th>
    <td  [ngClass]="{'up': element.priceStyle==true, 'down':element.priceStyle==false }" mat-cell *matCellDef="let element">
      {{ element.currentPrice | currency }}
    </td>
  </ng-container>
  <ng-container matColumnDef="pm">
    <th mat-header-cell *matHeaderCellDef>PM</th>
    <td mat-cell *matCellDef="let element">{{ element.pm | currency }}</td>
  </ng-container>
  <ng-container matColumnDef="totalQuantity">
    <th mat-header-cell *matHeaderCellDef>Quantidade</th>
    <td mat-cell *matCellDef="let element">{{ element.totalQuantity }}</td>
  </ng-container>
  <ng-container matColumnDef="valueInvestTotal">
    <th mat-header-cell *matHeaderCellDef>Investido</th>
    <td mat-cell *matCellDef="let element">{{ element.valueInvestTotal | currency }}</td>
  </ng-container>
  <ng-container matColumnDef="currentValue">
    <th mat-header-cell *matHeaderCellDef>Atual</th>
    <td mat-cell *matCellDef="let element">{{ element.currentValue | currency }}</td>
  </ng-container>
  <ng-container matColumnDef="lp">
    <th mat-header-cell *matHeaderCellDef>LP</th>
    <td mat-cell *matCellDef="let element">{{ element.lp }}</td>
  </ng-container>
  <ng-container matColumnDef="variation">
    <th mat-header-cell *matHeaderCellDef>Variação</th>
    <td mat-cell *matCellDef="let element">{{ element.variation }}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
</table>

<div *ngIf="dataSource.data.length" class="chart">
  <canvas baseChart 
    [data]="pieChartData" 
    [colors]="chartColors"
    [labels]="pieChartLabels" 
    [chartType]="pieChartType"
    [options]="pieChartOptions"
    [plugins]="pieChartPlugins"
    [legend]="pieChartLegend">
  </canvas>
</div>
